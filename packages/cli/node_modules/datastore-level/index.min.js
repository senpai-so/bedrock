(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.DatastoreLevel = factory()}(typeof self !== 'undefined' ? self : this, function () {
var DatastoreLevel=(()=>{var zc=Object.create;var Jt=Object.defineProperty;var $c=Object.getOwnPropertyDescriptor;var Vc=Object.getOwnPropertyNames;var Gc=Object.getPrototypeOf,Hc=Object.prototype.hasOwnProperty;var Bo=t=>Jt(t,"__esModule",{value:!0});var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),k=(t,e)=>{Bo(t);for(var r in e)Jt(t,r,{get:e[r],enumerable:!0})},Yc=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Vc(e))!Hc.call(t,n)&&n!=="default"&&Jt(t,n,{get:()=>e[n],enumerable:!(r=$c(e,n))||r.enumerable});return t},j=t=>Yc(Bo(Jt(t!=null?zc(Gc(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var ns=p((qb,rs)=>{"use strict";function ts(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function rh(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return ts(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),ts(new i,r)}}rs.exports=rh});var Ln=p((Gb,ss)=>{"use strict";var ih=async t=>{let e=[];for await(let r of t)e.push(r);return e};ss.exports=ih});var Un=p((Yb,us)=>{"use strict";var oh=async t=>{for await(let e of t);};us.exports=oh});var ur=p((Jb,fs)=>{"use strict";var sh=async function*(t,e){for await(let r of t)await e(r)&&(yield r)};fs.exports=sh});var fr=p((Xb,cs)=>{"use strict";var ah=async function*(t,e){let r=0;if(!(e<1)){for await(let n of t)if(yield n,r++,r===e)return}};cs.exports=ah});var Wn=p((iw,ls)=>{"use strict";var uh=async function*(t,e){for await(let r of t)yield e(r)};ls.exports=uh});var ds=p((ow,Je)=>{var hs=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},Kn=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),cr=t=>t&&typeof t.sink=="function"&&Kn(t.source),fh=t=>e=>(t.sink(e),t.source),ps=(...t)=>{if(cr(t[0])){let e=t[0];t[0]=()=>e.source}else if(Kn(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&cr(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)cr(t[e])&&(t[e]=fh(t[e]));return hs(...t)};Je.exports=ps;Je.exports.pipe=ps;Je.exports.rawPipe=hs;Je.exports.isIterable=Kn;Je.exports.isDuplex=cr});var gs=p((mw,ys)=>{ys.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var ws=p((ww,bs)=>{var ms=gs();bs.exports=class{constructor(e){this.hwm=e||16,this.head=new ms(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new ms(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var Vn=p((Ew,Es)=>{var $n=ws();Es.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new $n,n,i,o,s=()=>{if(!r.isEmpty()){if(t.writev){let g,w=[];for(;!r.isEmpty();){if(g=r.shift(),g.error)throw g.error;w.push(g.value)}return{done:g.done,value:w}}let d=r.shift();if(d.error)throw d.error;return d}return o?{done:!0}:new Promise((d,g)=>{i=w=>(i=null,w.error?g(w.error):t.writev&&!w.done?d({done:w.done,value:[w.value]}):d(w),n)})},a=d=>i?i(d):(r.push(d),n),u=d=>(r=new $n,i?i({error:d}):(r.push({error:d}),n)),h=d=>o?n:a({done:!1,value:d}),c=d=>o?n:(o=!0,d?u(d):a({done:!0})),l=()=>(r=new $n,c(),{done:!0}),y=d=>(c(d),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:s,return:l,throw:y,push:h,end:c},!e)return n;let m=n;return n={[Symbol.asyncIterator](){return this},next(){return m.next()},throw(d){return m.throw(d),e&&(e(d),e=null),{done:!0}},return(){return m.return(),e&&(e(),e=null),{done:!0}},push:h,end(d){return m.end(d),e&&(e(d),e=null),n}},n}});var xs=p((vw,vs)=>{"use strict";var hh=Vn(),ph=async function*(...t){let e=hh();setTimeout(async()=>{try{await Promise.all(t.map(async r=>{for await(let n of r)e.push(n)})),e.end()}catch(r){e.end(r)}},0),yield*e};vs.exports=ph});var Ss=p((Tw,_s)=>{var Xe=1e3,Ze=Xe*60,Qe=Ze*60,Be=Qe*24,mh=Be*7,bh=Be*365.25;_s.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return wh(t);if(r==="number"&&isFinite(t))return e.long?vh(t):Eh(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function wh(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*bh;case"weeks":case"week":case"w":return r*mh;case"days":case"day":case"d":return r*Be;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qe;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ze;case"seconds":case"second":case"secs":case"sec":case"s":return r*Xe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Eh(t){var e=Math.abs(t);return e>=Be?Math.round(t/Be)+"d":e>=Qe?Math.round(t/Qe)+"h":e>=Ze?Math.round(t/Ze)+"m":e>=Xe?Math.round(t/Xe)+"s":t+"ms"}function vh(t){var e=Math.abs(t);return e>=Be?lr(t,e,Be,"day"):e>=Qe?lr(t,e,Qe,"hour"):e>=Ze?lr(t,e,Ze,"minute"):e>=Xe?lr(t,e,Xe,"second"):t+" ms"}function lr(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Rs=p((Iw,As)=>{function xh(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=s,r.humanize=Ss(),r.destroy=h,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let l=0;for(let y=0;y<c.length;y++)l=(l<<5)-l+c.charCodeAt(y),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(c){let l,y=null,m,d;function g(...w){if(!g.enabled)return;let A=g,L=Number(new Date),$=L-(l||L);A.diff=$,A.prev=l,A.curr=L,l=L,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let D=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(V,W)=>{if(V==="%%")return"%";D++;let G=r.formatters[W];if(typeof G=="function"){let $e=w[D];V=G.call(A,$e),w.splice(D,1),D--}return V}),r.formatArgs.call(A,w),(A.log||r.log).apply(A,w)}return g.namespace=c,g.useColors=r.useColors(),g.color=r.selectColor(c),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(m!==r.namespaces&&(m=r.namespaces,d=r.enabled(c)),d),set:w=>{y=w}}),typeof r.init=="function"&&r.init(g),g}function n(c,l){let y=r(this.namespace+(typeof l=="undefined"?":":l)+c);return y.log=this.log,y}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let l,y=(typeof c=="string"?c:"").split(/[\s,]+/),m=y.length;for(l=0;l<m;l++)!y[l]||(c=y[l].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){let c=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let l,y;for(l=0,y=r.skips.length;l<y;l++)if(r.skips[l].test(c))return!1;for(l=0,y=r.names.length;l<y;l++)if(r.names[l].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}As.exports=xh});var Os=p((K,hr)=>{K.formatArgs=Sh;K.save=Ah;K.load=Rh;K.useColors=_h;K.storage=Oh();K.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();K.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function _h(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Sh(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+hr.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}K.log=console.debug||console.log||(()=>{});function Ah(t){try{t?K.storage.setItem("debug",t):K.storage.removeItem("debug")}catch(e){}}function Rh(){let t;try{t=K.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Oh(){try{return localStorage}catch(t){}}hr.exports=Rs()(K);var{formatters:Bh}=hr.exports;Bh.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Is=p((Zw,Ts)=>{"use strict";var Ch=Ln(),Fh=async function*(t,e){yield*(await Ch(t)).sort(e)};Ts.exports=Fh});var yr=p((Qw,Gn)=>{"use strict";var tt=typeof Reflect=="object"?Reflect:null,Cs=tt&&typeof tt.apply=="function"?tt.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},pr;tt&&typeof tt.ownKeys=="function"?pr=tt.ownKeys:Object.getOwnPropertySymbols?pr=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:pr=function(e){return Object.getOwnPropertyNames(e)};function jh(t){console&&console.warn&&console.warn(t)}var Fs=Number.isNaN||function(e){return e!==e};function S(){S.init.call(this)}Gn.exports=S;Gn.exports.once=Mh;S.EventEmitter=S;S.prototype._events=void 0;S.prototype._eventsCount=0;S.prototype._maxListeners=void 0;var js=10;function dr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return js},set:function(t){if(typeof t!="number"||t<0||Fs(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");js=t}});S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};S.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Fs(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ps(t){return t._maxListeners===void 0?S.defaultMaxListeners:t._maxListeners}S.prototype.getMaxListeners=function(){return Ps(this)};S.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")Cs(u,this,r);else for(var h=u.length,c=Us(u,h),n=0;n<h;++n)Cs(c[n],this,r);return!0};function Ns(t,e,r,n){var i,o,s;if(dr(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Ps(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,jh(a)}return t}S.prototype.addListener=function(e,r){return Ns(this,e,r,!1)};S.prototype.on=S.prototype.addListener;S.prototype.prependListener=function(e,r){return Ns(this,e,r,!0)};function Ph(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ds(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Ph.bind(n);return i.listener=r,n.wrapFn=i,i}S.prototype.once=function(e,r){return dr(r),this.on(e,Ds(this,e,r)),this};S.prototype.prependOnceListener=function(e,r){return dr(r),this.prependListener(e,Ds(this,e,r)),this};S.prototype.removeListener=function(e,r){var n,i,o,s,a;if(dr(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():Nh(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};S.prototype.off=S.prototype.removeListener;S.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Ms(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Dh(i):Us(i,i.length)}S.prototype.listeners=function(e){return Ms(this,e,!0)};S.prototype.rawListeners=function(e){return Ms(this,e,!1)};S.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ls.call(t,e)};S.prototype.listenerCount=Ls;function Ls(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?pr(this._events):[]};function Us(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Nh(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Dh(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Mh(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}ks(t,e,o,{once:!0}),e!=="error"&&Lh(t,i,{once:!0})})}function Lh(t,e,r){typeof t.on=="function"&&ks(t,"error",e,r)}function ks(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Hn=p((e0,qs)=>{"use strict";qs.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Tt=p((t0,Ws)=>{"use strict";var Uh=Hn();Ws.exports=function(){return Uh()&&!!Symbol.toStringTag}});var $s=p((r0,zs)=>{"use strict";var Ks=typeof Symbol!="undefined"&&Symbol,kh=Hn();zs.exports=function(){return typeof Ks!="function"||typeof Symbol!="function"||typeof Ks("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:kh()}});var Gs=p((n0,Vs)=>{"use strict";var qh="Function.prototype.bind called on incompatible ",Yn=Array.prototype.slice,Wh=Object.prototype.toString,Kh="[object Function]";Vs.exports=function(e){var r=this;if(typeof r!="function"||Wh.call(r)!==Kh)throw new TypeError(qh+r);for(var n=Yn.call(arguments,1),i,o=function(){if(this instanceof i){var c=r.apply(this,n.concat(Yn.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(Yn.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],u=0;u<s;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i}});var gr=p((i0,Hs)=>{"use strict";var zh=Gs();Hs.exports=Function.prototype.bind||zh});var Js=p((o0,Ys)=>{"use strict";var $h=gr();Ys.exports=$h.call(Function.call,Object.prototype.hasOwnProperty)});var Er=p((s0,ea)=>{"use strict";var x,It=SyntaxError,Xs=Function,rt=TypeError,Jn=function(t){try{return Xs('"use strict"; return ('+t+").constructor;")()}catch(e){}},Te=Object.getOwnPropertyDescriptor;if(Te)try{Te({},"")}catch(t){Te=null}var Xn=function(){throw new rt},Vh=Te?function(){try{return arguments.callee,Xn}catch(t){try{return Te(arguments,"callee").get}catch(e){return Xn}}}():Xn,nt=$s()(),me=Object.getPrototypeOf||function(t){return t.__proto__},it={},Gh=typeof Uint8Array=="undefined"?x:me(Uint8Array),ot={"%AggregateError%":typeof AggregateError=="undefined"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?x:ArrayBuffer,"%ArrayIteratorPrototype%":nt?me([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":it,"%AsyncGenerator%":it,"%AsyncGeneratorFunction%":it,"%AsyncIteratorPrototype%":it,"%Atomics%":typeof Atomics=="undefined"?x:Atomics,"%BigInt%":typeof BigInt=="undefined"?x:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?x:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?x:FinalizationRegistry,"%Function%":Xs,"%GeneratorFunction%":it,"%Int8Array%":typeof Int8Array=="undefined"?x:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?x:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nt?me(me([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map=="undefined"?x:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!nt?x:me(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?x:Promise,"%Proxy%":typeof Proxy=="undefined"?x:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?x:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!nt?x:me(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nt?me(""[Symbol.iterator]()):x,"%Symbol%":nt?Symbol:x,"%SyntaxError%":It,"%ThrowTypeError%":Vh,"%TypedArray%":Gh,"%TypeError%":rt,"%Uint8Array%":typeof Uint8Array=="undefined"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?x:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?x:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?x:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?x:WeakSet},Hh=function t(e){var r;if(e==="%AsyncFunction%")r=Jn("async function () {}");else if(e==="%GeneratorFunction%")r=Jn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Jn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=me(i.prototype))}return ot[e]=r,r},Zs={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mr=gr(),br=Js(),Yh=mr.call(Function.call,Array.prototype.concat),Jh=mr.call(Function.apply,Array.prototype.splice),Qs=mr.call(Function.call,String.prototype.replace),wr=mr.call(Function.call,String.prototype.slice),Xh=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Zh=/\\(\\)?/g,Qh=function(e){var r=wr(e,0,1),n=wr(e,-1);if(r==="%"&&n!=="%")throw new It("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new It("invalid intrinsic syntax, expected opening `%`");var i=[];return Qs(e,Xh,function(o,s,a,u){i[i.length]=a?Qs(u,Zh,"$1"):s||o}),i},ep=function(e,r){var n=e,i;if(br(Zs,n)&&(i=Zs[n],n="%"+i[0]+"%"),br(ot,n)){var o=ot[n];if(o===it&&(o=Hh(n)),typeof o=="undefined"&&!r)throw new rt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new It("intrinsic "+e+" does not exist!")};ea.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new rt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new rt('"allowMissing" argument must be a boolean');var n=Qh(e),i=n.length>0?n[0]:"",o=ep("%"+i+"%",r),s=o.name,a=o.value,u=!1,h=o.alias;h&&(i=h[0],Jh(n,Yh([0,1],h)));for(var c=1,l=!0;c<n.length;c+=1){var y=n[c],m=wr(y,0,1),d=wr(y,-1);if((m==='"'||m==="'"||m==="`"||d==='"'||d==="'"||d==="`")&&m!==d)throw new It("property names with quotes must have matching quotes");if((y==="constructor"||!l)&&(u=!0),i+="."+y,s="%"+i+"%",br(ot,s))a=ot[s];else if(a!=null){if(!(y in a)){if(!r)throw new rt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Te&&c+1>=n.length){var g=Te(a,y);l=!!g,l&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[y]}else l=br(a,y),a=a[y];l&&!u&&(ot[s]=a)}}return a}});var sa=p((a0,vr)=>{"use strict";var Zn=gr(),st=Er(),ta=st("%Function.prototype.apply%"),ra=st("%Function.prototype.call%"),na=st("%Reflect.apply%",!0)||Zn.call(ra,ta),ia=st("%Object.getOwnPropertyDescriptor%",!0),Ie=st("%Object.defineProperty%",!0),tp=st("%Math.max%");if(Ie)try{Ie({},"a",{value:1})}catch(t){Ie=null}vr.exports=function(e){var r=na(Zn,ra,arguments);if(ia&&Ie){var n=ia(r,"length");n.configurable&&Ie(r,"length",{value:1+tp(0,e.length-(arguments.length-1))})}return r};var oa=function(){return na(Zn,ta,arguments)};Ie?Ie(vr.exports,"apply",{value:oa}):vr.exports.apply=oa});var xr=p((u0,fa)=>{"use strict";var aa=Er(),ua=sa(),rp=ua(aa("String.prototype.indexOf"));fa.exports=function(e,r){var n=aa(e,!!r);return typeof n=="function"&&rp(e,".prototype.")>-1?ua(n):n}});var ha=p((f0,la)=>{"use strict";var np=Tt()(),ip=xr(),Qn=ip("Object.prototype.toString"),_r=function(e){return np&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Qn(e)==="[object Arguments]"},ca=function(e){return _r(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Qn(e)!=="[object Array]"&&Qn(e.callee)==="[object Function]"},op=function(){return _r(arguments)}();_r.isLegacyArguments=ca;la.exports=op?_r:ca});var ya=p((c0,da)=>{"use strict";var sp=Object.prototype.toString,ap=Function.prototype.toString,up=/^\s*(?:function)?\*/,pa=Tt()(),ei=Object.getPrototypeOf,fp=function(){if(!pa)return!1;try{return Function("return function*() {}")()}catch(t){}},ti;da.exports=function(e){if(typeof e!="function")return!1;if(up.test(ap.call(e)))return!0;if(!pa){var r=sp.call(e);return r==="[object GeneratorFunction]"}if(!ei)return!1;if(typeof ti=="undefined"){var n=fp();ti=n?ei(n):!1}return ei(e)===ti}});var ri=p((l0,ga)=>{var cp=Object.prototype.hasOwnProperty,lp=Object.prototype.toString;ga.exports=function(e,r,n){if(lp.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,e[o],o,e);else for(var s in e)cp.call(e,s)&&r.call(n,e[s],s,e)}});var ii=p((h0,ma)=>{"use strict";var ni=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],hp=(typeof globalThis=="undefined",globalThis);ma.exports=function(){for(var e=[],r=0;r<ni.length;r++)typeof hp[ni[r]]=="function"&&(e[e.length]=ni[r]);return e}});var oi=p((p0,ba)=>{"use strict";var pp=Er(),Sr=pp("%Object.getOwnPropertyDescriptor%");if(Sr)try{Sr([],"length")}catch(t){Sr=null}ba.exports=Sr});var ui=p((d0,_a)=>{"use strict";var wa=ri(),dp=ii(),si=xr(),yp=si("Object.prototype.toString"),Ea=Tt()(),gp=(typeof globalThis=="undefined",globalThis),va=dp(),mp=si("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},bp=si("String.prototype.slice"),xa={},Ar=oi(),ai=Object.getPrototypeOf;Ea&&Ar&&ai&&wa(va,function(t){var e=new gp[t];if(Symbol.toStringTag in e){var r=ai(e),n=Ar(r,Symbol.toStringTag);if(!n){var i=ai(r);n=Ar(i,Symbol.toStringTag)}xa[t]=n.get}});var wp=function(e){var r=!1;return wa(xa,function(n,i){if(!r)try{r=n.call(e)===i}catch(o){}}),r};_a.exports=function(e){if(!e||typeof e!="object")return!1;if(!Ea||!(Symbol.toStringTag in e)){var r=bp(yp(e),8,-1);return mp(va,r)>-1}return Ar?wp(e):!1}});var Ia=p((y0,Ta)=>{"use strict";var Sa=ri(),Ep=ii(),Aa=xr(),vp=Aa("Object.prototype.toString"),Ra=Tt()(),Oa=(typeof globalThis=="undefined",globalThis),xp=Ep(),_p=Aa("String.prototype.slice"),Ba={},fi=oi(),ci=Object.getPrototypeOf;Ra&&fi&&ci&&Sa(xp,function(t){if(typeof Oa[t]=="function"){var e=new Oa[t];if(Symbol.toStringTag in e){var r=ci(e),n=fi(r,Symbol.toStringTag);if(!n){var i=ci(r);n=fi(i,Symbol.toStringTag)}Ba[t]=n.get}}});var Sp=function(e){var r=!1;return Sa(Ba,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch(s){}}),r},Ap=ui();Ta.exports=function(e){return Ap(e)?!Ra||!(Symbol.toStringTag in e)?_p(vp(e),8,-1):Sp(e):!1}});var za=p(E=>{"use strict";var Rp=ha(),Op=ya(),Q=Ia(),Ca=ui();function at(t){return t.call.bind(t)}var Fa=typeof BigInt!="undefined",ja=typeof Symbol!="undefined",H=at(Object.prototype.toString),Bp=at(Number.prototype.valueOf),Tp=at(String.prototype.valueOf),Ip=at(Boolean.prototype.valueOf);Fa&&(Pa=at(BigInt.prototype.valueOf));var Pa;ja&&(Na=at(Symbol.prototype.valueOf));var Na;function Ct(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch(r){return!1}}E.isArgumentsObject=Rp;E.isGeneratorFunction=Op;E.isTypedArray=Ca;function Cp(t){return typeof Promise!="undefined"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}E.isPromise=Cp;function Fp(t){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(t):Ca(t)||Ma(t)}E.isArrayBufferView=Fp;function jp(t){return Q(t)==="Uint8Array"}E.isUint8Array=jp;function Pp(t){return Q(t)==="Uint8ClampedArray"}E.isUint8ClampedArray=Pp;function Np(t){return Q(t)==="Uint16Array"}E.isUint16Array=Np;function Dp(t){return Q(t)==="Uint32Array"}E.isUint32Array=Dp;function Mp(t){return Q(t)==="Int8Array"}E.isInt8Array=Mp;function Lp(t){return Q(t)==="Int16Array"}E.isInt16Array=Lp;function Up(t){return Q(t)==="Int32Array"}E.isInt32Array=Up;function kp(t){return Q(t)==="Float32Array"}E.isFloat32Array=kp;function qp(t){return Q(t)==="Float64Array"}E.isFloat64Array=qp;function Wp(t){return Q(t)==="BigInt64Array"}E.isBigInt64Array=Wp;function Kp(t){return Q(t)==="BigUint64Array"}E.isBigUint64Array=Kp;function Rr(t){return H(t)==="[object Map]"}Rr.working=typeof Map!="undefined"&&Rr(new Map);function zp(t){return typeof Map=="undefined"?!1:Rr.working?Rr(t):t instanceof Map}E.isMap=zp;function Or(t){return H(t)==="[object Set]"}Or.working=typeof Set!="undefined"&&Or(new Set);function $p(t){return typeof Set=="undefined"?!1:Or.working?Or(t):t instanceof Set}E.isSet=$p;function Br(t){return H(t)==="[object WeakMap]"}Br.working=typeof WeakMap!="undefined"&&Br(new WeakMap);function Vp(t){return typeof WeakMap=="undefined"?!1:Br.working?Br(t):t instanceof WeakMap}E.isWeakMap=Vp;function li(t){return H(t)==="[object WeakSet]"}li.working=typeof WeakSet!="undefined"&&li(new WeakSet);function Gp(t){return li(t)}E.isWeakSet=Gp;function Tr(t){return H(t)==="[object ArrayBuffer]"}Tr.working=typeof ArrayBuffer!="undefined"&&Tr(new ArrayBuffer);function Da(t){return typeof ArrayBuffer=="undefined"?!1:Tr.working?Tr(t):t instanceof ArrayBuffer}E.isArrayBuffer=Da;function Ir(t){return H(t)==="[object DataView]"}Ir.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Ir(new DataView(new ArrayBuffer(1),0,1));function Ma(t){return typeof DataView=="undefined"?!1:Ir.working?Ir(t):t instanceof DataView}E.isDataView=Ma;var hi=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Ft(t){return H(t)==="[object SharedArrayBuffer]"}function La(t){return typeof hi=="undefined"?!1:(typeof Ft.working=="undefined"&&(Ft.working=Ft(new hi)),Ft.working?Ft(t):t instanceof hi)}E.isSharedArrayBuffer=La;function Hp(t){return H(t)==="[object AsyncFunction]"}E.isAsyncFunction=Hp;function Yp(t){return H(t)==="[object Map Iterator]"}E.isMapIterator=Yp;function Jp(t){return H(t)==="[object Set Iterator]"}E.isSetIterator=Jp;function Xp(t){return H(t)==="[object Generator]"}E.isGeneratorObject=Xp;function Zp(t){return H(t)==="[object WebAssembly.Module]"}E.isWebAssemblyCompiledModule=Zp;function Ua(t){return Ct(t,Bp)}E.isNumberObject=Ua;function ka(t){return Ct(t,Tp)}E.isStringObject=ka;function qa(t){return Ct(t,Ip)}E.isBooleanObject=qa;function Wa(t){return Fa&&Ct(t,Pa)}E.isBigIntObject=Wa;function Ka(t){return ja&&Ct(t,Na)}E.isSymbolObject=Ka;function Qp(t){return Ua(t)||ka(t)||qa(t)||Wa(t)||Ka(t)}E.isBoxedPrimitive=Qp;function ed(t){return typeof Uint8Array!="undefined"&&(Da(t)||La(t))}E.isAnyArrayBuffer=ed;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(E,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var Va=p((m0,$a)=>{$a.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var z=p((b0,pi)=>{typeof Object.create=="function"?pi.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:pi.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Za=p(v=>{var Ga=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},td=/%[sdj%]/g;v.format=function(t){if(!Nr(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(be(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(td,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(u){return"[Circular]"}default:return a}}),s=n[r];r<i;s=n[++r])Pr(s)||!ut(s)?o+=" "+s:o+=" "+be(s);return o};v.deprecate=function(t,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return t;if(typeof process=="undefined")return function(){return v.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var Cr={},Ha=/^$/;process.env.NODE_DEBUG&&(Fr=process.env.NODE_DEBUG,Fr=Fr.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Ha=new RegExp("^"+Fr+"$","i"));var Fr;v.debuglog=function(t){if(t=t.toUpperCase(),!Cr[t])if(Ha.test(t)){var e=process.pid;Cr[t]=function(){var r=v.format.apply(v,arguments);console.error("%s %d: %s",t,e,r)}}else Cr[t]=function(){};return Cr[t]};function be(t,e){var r={seen:[],stylize:nd};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),gi(e)?r.showHidden=e:e&&v._extend(r,e),Ce(r.showHidden)&&(r.showHidden=!1),Ce(r.depth)&&(r.depth=2),Ce(r.colors)&&(r.colors=!1),Ce(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=rd),jr(r,t,r.depth)}v.inspect=be;be.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};be.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function rd(t,e){var r=be.styles[e];return r?"["+be.colors[r][0]+"m"+t+"["+be.colors[r][1]+"m":t}function nd(t,e){return t}function id(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function jr(t,e,r){if(t.customInspect&&e&&Mr(e.inspect)&&e.inspect!==v.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Nr(n)||(n=jr(t,n,r)),n}var i=od(t,e);if(i)return i;var o=Object.keys(e),s=id(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Pt(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return di(e);if(o.length===0){if(Mr(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(jt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Dr(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Pt(e))return di(e)}var u="",h=!1,c=["{","}"];if(Ya(e)&&(h=!0,c=["[","]"]),Mr(e)){var l=e.name?": "+e.name:"";u=" [Function"+l+"]"}if(jt(e)&&(u=" "+RegExp.prototype.toString.call(e)),Dr(e)&&(u=" "+Date.prototype.toUTCString.call(e)),Pt(e)&&(u=" "+di(e)),o.length===0&&(!h||e.length==0))return c[0]+u+c[1];if(r<0)return jt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var y;return h?y=sd(t,e,r,s,o):y=o.map(function(m){return yi(t,e,r,s,m,h)}),t.seen.pop(),ad(y,u,c)}function od(t,e){if(Ce(e))return t.stylize("undefined","undefined");if(Nr(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(Ja(e))return t.stylize(""+e,"number");if(gi(e))return t.stylize(""+e,"boolean");if(Pr(e))return t.stylize("null","null")}function di(t){return"["+Error.prototype.toString.call(t)+"]"}function sd(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)Xa(e,String(s))?o.push(yi(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(u){u.match(/^\d+$/)||o.push(yi(t,e,r,n,u,!0))}),o}function yi(t,e,r,n,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?u.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),Xa(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(Pr(r)?a=jr(t,u.value,null):a=jr(t,u.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(h){return"   "+h}).join(`
`))):a=t.stylize("[Circular]","special")),Ce(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function ad(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}v.types=za();function Ya(t){return Array.isArray(t)}v.isArray=Ya;function gi(t){return typeof t=="boolean"}v.isBoolean=gi;function Pr(t){return t===null}v.isNull=Pr;function ud(t){return t==null}v.isNullOrUndefined=ud;function Ja(t){return typeof t=="number"}v.isNumber=Ja;function Nr(t){return typeof t=="string"}v.isString=Nr;function fd(t){return typeof t=="symbol"}v.isSymbol=fd;function Ce(t){return t===void 0}v.isUndefined=Ce;function jt(t){return ut(t)&&mi(t)==="[object RegExp]"}v.isRegExp=jt;v.types.isRegExp=jt;function ut(t){return typeof t=="object"&&t!==null}v.isObject=ut;function Dr(t){return ut(t)&&mi(t)==="[object Date]"}v.isDate=Dr;v.types.isDate=Dr;function Pt(t){return ut(t)&&(mi(t)==="[object Error]"||t instanceof Error)}v.isError=Pt;v.types.isNativeError=Pt;function Mr(t){return typeof t=="function"}v.isFunction=Mr;function cd(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}v.isPrimitive=cd;v.isBuffer=Va();function mi(t){return Object.prototype.toString.call(t)}function bi(t){return t<10?"0"+t.toString(10):t.toString(10)}var ld=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hd(){var t=new Date,e=[bi(t.getHours()),bi(t.getMinutes()),bi(t.getSeconds())].join(":");return[t.getDate(),ld[t.getMonth()],e].join(" ")}v.log=function(){console.log("%s - %s",hd(),v.format.apply(v,arguments))};v.inherits=z();v._extend=function(t,e){if(!e||!ut(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function Xa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Fe=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;v.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Fe&&e[Fe]){var r=e[Fe];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Fe,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(u,h){n=u,i=h}),s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);s.push(function(u,h){u?i(u):n(h)});try{e.apply(this,s)}catch(u){i(u)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Fe&&Object.defineProperty(r,Fe,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,Ga(e))};v.promisify.custom=Fe;function pd(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function dd(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(a){process.nextTick(s.bind(null,null,a))},function(a){process.nextTick(pd.bind(null,a,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Ga(t)),e}v.callbackify=dd});var wi=p((E0,Qa)=>{"use strict";Qa.exports=function(...e){let r=e.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{bufferKeys:r.bufferKeys||!1,snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,openCallback:r.openCallback||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:r.encodings||!1,additionalMethods:Object.assign({},r.additionalMethods)})}});var tu=p((v0,eu)=>{eu.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var Ei=p((x0,nu)=>{var ru;nu.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:globalThis):t=>(ru||(ru=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Lr=p((_0,ou)=>{"use strict";var iu=Ei();ou.exports=function(t,...e){e.length===0?iu(t):iu(()=>t(...e))}});var vi=p((S0,su)=>{"use strict";function we(t){if(typeof t!="object"||t===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}we.prototype.next=function(t){if(typeof t!="function")throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(t,new Error("cannot call next() after end()")),this):this._nexting?(this._nextTick(t,new Error("cannot call next() before previous next() has completed")),this):(this._nexting=!0,this._next((e,...r)=>{this._nexting=!1,t(e,...r)}),this)};we.prototype._next=function(t){this._nextTick(t)};we.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)};we.prototype._seek=function(t){};we.prototype.end=function(t){if(typeof t!="function")throw new Error("end() requires a callback argument");if(this._ended)return this._nextTick(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)};we.prototype._end=function(t){this._nextTick(t)};we.prototype._nextTick=Lr();su.exports=we});var xi=p((A0,uu)=>{"use strict";var au=Object.freeze({});function ee(t){if(typeof t!="object"||t===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}ee.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")};ee.prototype.put=function(t,e,r){this._checkWritten();let n=this.db._checkKey(t)||this.db._checkValue(e);if(n)throw n;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e,r??au),this};ee.prototype._put=function(t,e,r){this._operations.push({...r,type:"put",key:t,value:e})};ee.prototype.del=function(t,e){this._checkWritten();let r=this.db._checkKey(t);if(r)throw r;return t=this.db._serializeKey(t),this._del(t,e??au),this};ee.prototype._del=function(t,e){this._operations.push({...e,type:"del",key:t})};ee.prototype.clear=function(){return this._checkWritten(),this._clear(),this};ee.prototype._clear=function(){this._operations=[]};ee.prototype.write=function(t,e){if(this._checkWritten(),typeof t=="function"&&(e=t),typeof e!="function")throw new Error("write() requires a callback argument");(typeof t!="object"||t===null)&&(t={}),this._written=!0,this._write(t,e)};ee.prototype._write=function(t,e){this.db._batch(this._operations,t,e)};ee.prototype._nextTick=Lr();uu.exports=ee});var lu=p((R0,cu)=>{"use strict";var yd=wi(),gd=tu(),md=vi(),bd=xi(),wd=Object.prototype.hasOwnProperty,Ed=["lt","lte","gt","gte"];function O(t){this.status="new",this.supports=yd(t,{status:!0})}O.prototype.open=function(t,e){let r=this.status;if(typeof t=="function"&&(e=t),typeof e!="function")throw new Error("open() requires a callback argument");(typeof t!="object"||t===null)&&(t={}),t.createIfMissing=t.createIfMissing!==!1,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,n=>{if(n)return this.status=r,e(n);this.status="open",e()})};O.prototype._open=function(t,e){this._nextTick(e)};O.prototype.close=function(t){let e=this.status;if(typeof t!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(r=>{if(r)return this.status=e,t(r);this.status="closed",t()})};O.prototype._close=function(t){this._nextTick(t)};O.prototype.get=function(t,e,r){if(typeof e=="function"&&(r=e),typeof r!="function")throw new Error("get() requires a callback argument");let n=this._checkKey(t);if(n)return this._nextTick(r,n);t=this._serializeKey(t),(typeof e!="object"||e===null)&&(e={}),e.asBuffer=e.asBuffer!==!1,this._get(t,e,r)};O.prototype._get=function(t,e,r){this._nextTick(function(){r(new Error("NotFound"))})};O.prototype.put=function(t,e,r,n){if(typeof r=="function"&&(n=r),typeof n!="function")throw new Error("put() requires a callback argument");let i=this._checkKey(t)||this._checkValue(e);if(i)return this._nextTick(n,i);t=this._serializeKey(t),e=this._serializeValue(e),(typeof r!="object"||r===null)&&(r={}),this._put(t,e,r,n)};O.prototype._put=function(t,e,r,n){this._nextTick(n)};O.prototype.del=function(t,e,r){if(typeof e=="function"&&(r=e),typeof r!="function")throw new Error("del() requires a callback argument");let n=this._checkKey(t);if(n)return this._nextTick(r,n);t=this._serializeKey(t),(typeof e!="object"||e===null)&&(e={}),this._del(t,e,r)};O.prototype._del=function(t,e,r){this._nextTick(r)};O.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if(typeof e=="function"&&(r=e),typeof t=="function"&&(r=t),typeof r!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return this._nextTick(r,new Error("batch(array) requires an array argument"));if(t.length===0)return this._nextTick(r);(typeof e!="object"||e===null)&&(e={});let n=new Array(t.length);for(let i=0;i<t.length;i++){if(typeof t[i]!="object"||t[i]===null)return this._nextTick(r,new Error("batch(array) element must be an object and not `null`"));let o=Object.assign({},t[i]);if(o.type!=="put"&&o.type!=="del")return this._nextTick(r,new Error("`type` must be 'put' or 'del'"));let s=this._checkKey(o.key);if(s)return this._nextTick(r,s);if(o.key=this._serializeKey(o.key),o.type==="put"){let a=this._checkValue(o.value);if(a)return this._nextTick(r,a);o.value=this._serializeValue(o.value)}n[i]=o}this._batch(n,e,r)};O.prototype._batch=function(t,e,r){this._nextTick(r)};O.prototype.clear=function(t,e){if(typeof t=="function")e=t;else if(typeof e!="function")throw new Error("clear() requires a callback argument");t=fu(this,t),t.reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)};O.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;let r=this._iterator(t),n={},i=o=>{if(o)return r.end(function(){e(o)});r.next((s,a)=>{if(s)return i(s);if(a===void 0)return r.end(e);this._del(a,n,i)})};i()};O.prototype._setupIteratorOptions=function(t){return t=fu(this,t),t.reverse=!!t.reverse,t.keys=t.keys!==!1,t.values=t.values!==!1,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=t.keyAsBuffer!==!1,t.valueAsBuffer=t.valueAsBuffer!==!1,t};function fu(t,e){let r={};for(let n in e){if(!wd.call(e,n))continue;if(n==="start"||n==="end")throw new Error('Legacy range options ("start" and "end") have been removed');let i=e[n];vd(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function vd(t){return Ed.indexOf(t)!==-1}O.prototype.iterator=function(t){return(typeof t!="object"||t===null)&&(t={}),t=this._setupIteratorOptions(t),this._iterator(t)};O.prototype._iterator=function(t){return new md(this)};O.prototype._chainedBatch=function(){return new bd(this)};O.prototype._serializeKey=function(t){return t};O.prototype._serializeValue=function(t){return t};O.prototype._checkKey=function(t){if(t==null)return new Error("key cannot be `null` or `undefined`");if(gd(t)&&t.length===0)return new Error("key cannot be an empty Buffer");if(t==="")return new Error("key cannot be an empty String");if(Array.isArray(t)&&t.length===0)return new Error("key cannot be an empty Array")};O.prototype._checkValue=function(t){if(t==null)return new Error("value cannot be `null` or `undefined`")};O.prototype._nextTick=Lr();cu.exports=O});var Ee=p(Ur=>{"use strict";Ur.AbstractLevelDOWN=lu();Ur.AbstractIterator=vi();Ur.AbstractChainedBatch=xi()});var du=p((B0,pu)=>{"use strict";var hu=Ee().AbstractIterator,xd=z();function ft(t,e){hu.call(this,t),this._options=e,this._iterator=null,this._operations=[]}xd(ft,hu);ft.prototype.setDb=function(t){let e=this._iterator=t.iterator(this._options);for(let r of this._operations)e[r.method](...r.args)};ft.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t](...e);this._operations.push({method:t,args:e})};for(let t of["next","end"])ft.prototype["_"+t]=function(...e){this._operation(t,e)};ft.prototype.seek=function(...t){this._operation("seek",t)};pu.exports=ft});var wu=p((T0,_i)=>{"use strict";var yu=Ee().AbstractLevelDOWN,_d=z(),gu=du(),mu="put get del batch clear".split(" "),Sd="approximateSize compactRange".split(" ");function je(t){yu.call(this,t.supports||{});for(let e of Sd)typeof t[e]=="function"&&!this.supports.additionalMethods[e]&&(this.supports.additionalMethods[e]=!0);this._db=t,this._operations=[],bu(this)}_d(je,yu);je.prototype.type="deferred-leveldown";je.prototype._open=function(t,e){this._db.open(t,r=>{if(r)return e(r);for(let n of this._operations)n.iterator?n.iterator.setDb(this._db):this._db[n.method](...n.args);this._operations=[],Ad(this),e()})};je.prototype._close=function(t){this._db.close(e=>{if(e)return t(e);bu(this),t()})};function Ad(t){for(let e of mu.concat("iterator"))t["_"+e]=function(...r){return this._db[e](...r)};for(let e of Object.keys(t.supports.additionalMethods))t[e]=function(...r){return this._db[e](...r)}}function bu(t){for(let e of mu)t["_"+e]=function(...r){this._operations.push({method:e,args:r})};for(let e of Object.keys(t.supports.additionalMethods))t[e]=function(...r){this._operations.push({method:e,args:r})};t._iterator=function(e){let r=new gu(t,e);return this._operations.push({iterator:r}),r}}je.prototype._serializeKey=function(t){return t};je.prototype._serializeValue=function(t){return t};_i.exports=je;_i.exports.DeferredIterator=gu});var Si=p((I0,Eu)=>{Eu.exports=yr().EventEmitter});var _u=p(kr=>{"use strict";kr.byteLength=Od;kr.toByteArray=Td;kr.fromByteArray=Fd;var ne=[],Y=[],Rd=typeof Uint8Array!="undefined"?Uint8Array:Array,Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Pe=0,vu=Ai.length;Pe<vu;++Pe)ne[Pe]=Ai[Pe],Y[Ai.charCodeAt(Pe)]=Pe;var Pe,vu;Y["-".charCodeAt(0)]=62;Y["_".charCodeAt(0)]=63;function xu(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Od(t){var e=xu(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Bd(t,e,r){return(e+r)*3/4-r}function Td(t){var e,r=xu(t),n=r[0],i=r[1],o=new Rd(Bd(t,n,i)),s=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=Y[t.charCodeAt(u)]<<18|Y[t.charCodeAt(u+1)]<<12|Y[t.charCodeAt(u+2)]<<6|Y[t.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Y[t.charCodeAt(u)]<<2|Y[t.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=Y[t.charCodeAt(u)]<<10|Y[t.charCodeAt(u+1)]<<4|Y[t.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Id(t){return ne[t>>18&63]+ne[t>>12&63]+ne[t>>6&63]+ne[t&63]}function Cd(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Id(n));return i.join("")}function Fd(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Cd(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(ne[e>>2]+ne[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(ne[e>>10]+ne[e>>4&63]+ne[e<<2&63]+"=")),i.join("")}});var Su=p(Ri=>{Ri.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,u=(1<<a)-1,h=u>>1,c=-7,l=r?i-1:0,y=r?-1:1,m=t[e+l];for(l+=y,o=m&(1<<-c)-1,m>>=-c,c+=a;c>0;o=o*256+t[e+l],l+=y,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+t[e+l],l+=y,c-=8);if(o===0)o=1-h;else{if(o===u)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-h}return(m?-1:1)*s*Math.pow(2,o-n)};Ri.write=function(t,e,r,n,i,o){var s,a,u,h=o*8-i-1,c=(1<<h)-1,l=c>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,d=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?e+=y/u:e+=y*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=c?(a=0,s=c):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+m]=a&255,m+=d,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[r+m]=s&255,m+=d,s/=256,h-=8);t[r+m-d]|=g*128}});var pe=p(pt=>{"use strict";var Oi=_u(),ct=Su(),Au=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;pt.Buffer=f;pt.SlowBuffer=Ld;pt.INSPECT_MAX_BYTES=50;var qr=2147483647;pt.kMaxLength=qr;f.TYPED_ARRAY_SUPPORT=jd();!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function jd(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function he(t){if(t>qr)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Bi(t)}return Ru(t,e,r)}f.poolSize=8192;function Ru(t,e,r){if(typeof t=="string")return Nd(t,e);if(ArrayBuffer.isView(t))return Dd(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ie(t,ArrayBuffer)||t&&ie(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ie(t,SharedArrayBuffer)||t&&ie(t.buffer,SharedArrayBuffer)))return Ii(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return f.from(n,e,r);let i=Md(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}f.from=function(t,e,r){return Ru(t,e,r)};Object.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function Ou(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Pd(t,e,r){return Ou(t),t<=0?he(t):e!==void 0?typeof r=="string"?he(t).fill(e,r):he(t).fill(e):he(t)}f.alloc=function(t,e,r){return Pd(t,e,r)};function Bi(t){return Ou(t),he(t<0?0:Ci(t)|0)}f.allocUnsafe=function(t){return Bi(t)};f.allocUnsafeSlow=function(t){return Bi(t)};function Nd(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Bu(t,e)|0,n=he(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Ti(t){let e=t.length<0?0:Ci(t.length)|0,r=he(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Dd(t){if(ie(t,Uint8Array)){let e=new Uint8Array(t);return Ii(e.buffer,e.byteOffset,e.byteLength)}return Ti(t)}function Ii(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function Md(t){if(f.isBuffer(t)){let e=Ci(t.length)|0,r=he(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Pi(t.length)?he(0):Ti(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ti(t.data)}function Ci(t){if(t>=qr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qr.toString(16)+" bytes");return t|0}function Ld(t){return+t!=t&&(t=0),f.alloc(+t)}f.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==f.prototype};f.compare=function(e,r){if(ie(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),ie(r,Uint8Array)&&(r=f.from(r,r.offset,r.byteLength)),!f.isBuffer(e)||!f.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=f.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(ie(s,Uint8Array))o+s.length>i.length?(f.isBuffer(s)||(s=f.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(f.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Bu(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ie(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ji(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ku(t).length;default:if(i)return n?-1:ji(t).length;e=(""+e).toLowerCase(),i=!0}}f.byteLength=Bu;function Ud(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Yd(this,e,r);case"utf8":case"utf-8":return Cu(this,e,r);case"ascii":return Gd(this,e,r);case"latin1":case"binary":return Hd(this,e,r);case"base64":return $d(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jd(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}f.prototype._isBuffer=!0;function Ne(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}f.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ne(this,r,r+1);return this};f.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ne(this,r,r+3),Ne(this,r+1,r+2);return this};f.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ne(this,r,r+7),Ne(this,r+1,r+6),Ne(this,r+2,r+5),Ne(this,r+3,r+4);return this};f.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Cu(this,0,e):Ud.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:f.compare(this,e)===0};f.prototype.inspect=function(){let e="",r=pt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Au&&(f.prototype[Au]=f.prototype.inspect);f.prototype.compare=function(e,r,n,i,o){if(ie(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,u=Math.min(s,a),h=this.slice(i,o),c=e.slice(r,n);for(let l=0;l<u;++l)if(h[l]!==c[l]){s=h[l],a=c[l];break}return s<a?-1:a<s?1:0};function Tu(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Pi(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=f.from(e,n)),f.isBuffer(e))return e.length===0?-1:Iu(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Iu(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Iu(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function u(c,l){return o===1?c[l]:c.readUInt16BE(l*o)}let h;if(i){let c=-1;for(h=r;h<s;h++)if(u(t,h)===u(e,c===-1?0:h-c)){if(c===-1&&(c=h),h-c+1===a)return c*o}else c!==-1&&(h-=h-c),c=-1}else for(r+a>s&&(r=s-a),h=r;h>=0;h--){let c=!0;for(let l=0;l<a;l++)if(u(t,h+l)!==u(e,l)){c=!1;break}if(c)return h}return-1}f.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};f.prototype.indexOf=function(e,r,n){return Tu(this,e,r,n,!0)};f.prototype.lastIndexOf=function(e,r,n){return Tu(this,e,r,n,!1)};function kd(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(Pi(a))return s;t[r+s]=a}return s}function qd(t,e,r,n){return Wr(ji(e,t.length-r),t,r,n)}function Wd(t,e,r,n){return Wr(ey(e),t,r,n)}function Kd(t,e,r,n){return Wr(ku(e),t,r,n)}function zd(t,e,r,n){return Wr(ty(e,t.length-r),t,r,n)}f.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return kd(this,e,r,n);case"utf8":case"utf-8":return qd(this,e,r,n);case"ascii":case"latin1":case"binary":return Wd(this,e,r,n);case"base64":return Kd(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zd(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $d(t,e,r){return e===0&&r===t.length?Oi.fromByteArray(t):Oi.fromByteArray(t.slice(e,r))}function Cu(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let u,h,c,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],(u&192)==128&&(l=(o&31)<<6|u&63,l>127&&(s=l));break;case 3:u=t[i+1],h=t[i+2],(u&192)==128&&(h&192)==128&&(l=(o&15)<<12|(u&63)<<6|h&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[i+1],h=t[i+2],c=t[i+3],(u&192)==128&&(h&192)==128&&(c&192)==128&&(l=(o&15)<<18|(u&63)<<12|(h&63)<<6|c&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Vd(n)}var Fu=4096;function Vd(t){let e=t.length;if(e<=Fu)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Fu));return r}function Gd(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Hd(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Yd(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=ry[t[o]];return i}function Jd(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}f.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,f.prototype),i};function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||N(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};f.prototype.readUintBE=f.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||N(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};f.prototype.readUint8=f.prototype.readUInt8=function(e,r){return e=e>>>0,r||N(e,1,this.length),this[e]};f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||N(e,2,this.length),this[e]|this[e+1]<<8};f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||N(e,2,this.length),this[e]<<8|this[e+1]};f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||N(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};f.prototype.readBigUInt64LE=ve(function(e){e=e>>>0,ht(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Nt(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});f.prototype.readBigUInt64BE=ve(function(e){e=e>>>0,ht(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Nt(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});f.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||N(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};f.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||N(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};f.prototype.readInt8=function(e,r){return e=e>>>0,r||N(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};f.prototype.readInt16LE=function(e,r){e=e>>>0,r||N(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};f.prototype.readInt16BE=function(e,r){e=e>>>0,r||N(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};f.prototype.readInt32LE=function(e,r){return e=e>>>0,r||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};f.prototype.readInt32BE=function(e,r){return e=e>>>0,r||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};f.prototype.readBigInt64LE=ve(function(e){e=e>>>0,ht(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Nt(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});f.prototype.readBigInt64BE=ve(function(e){e=e>>>0,ht(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Nt(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});f.prototype.readFloatLE=function(e,r){return e=e>>>0,r||N(e,4,this.length),ct.read(this,e,!0,23,4)};f.prototype.readFloatBE=function(e,r){return e=e>>>0,r||N(e,4,this.length),ct.read(this,e,!1,23,4)};f.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||N(e,8,this.length),ct.read(this,e,!0,52,8)};f.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||N(e,8,this.length),ct.read(this,e,!1,52,8)};function q(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;q(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;q(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};f.prototype.writeUint8=f.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,1,255,0),this[r]=e&255,r+1};f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function ju(t,e,r,n,i){Uu(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Pu(t,e,r,n,i){Uu(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}f.prototype.writeBigUInt64LE=ve(function(e,r=0){return ju(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});f.prototype.writeBigUInt64BE=ve(function(e,r=0){return Pu(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});f.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);q(this,e,r,n,u-1,-u)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};f.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);q(this,e,r,n,u-1,-u)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};f.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};f.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};f.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};f.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};f.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||q(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};f.prototype.writeBigInt64LE=ve(function(e,r=0){return ju(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});f.prototype.writeBigInt64BE=ve(function(e,r=0){return Pu(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nu(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Du(t,e,r,n,i){return e=+e,r=r>>>0,i||Nu(t,e,r,4,34028234663852886e22,-34028234663852886e22),ct.write(t,e,r,n,23,4),r+4}f.prototype.writeFloatLE=function(e,r,n){return Du(this,e,r,!0,n)};f.prototype.writeFloatBE=function(e,r,n){return Du(this,e,r,!1,n)};function Mu(t,e,r,n,i){return e=+e,r=r>>>0,i||Nu(t,e,r,8,17976931348623157e292,-17976931348623157e292),ct.write(t,e,r,n,52,8),r+8}f.prototype.writeDoubleLE=function(e,r,n){return Mu(this,e,r,!0,n)};f.prototype.writeDoubleBE=function(e,r,n){return Mu(this,e,r,!1,n)};f.prototype.copy=function(e,r,n,i){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};f.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=f.isBuffer(e)?e:f.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var lt={};function Fi(t,e,r){lt[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Fi("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Fi("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Fi("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Lu(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Lu(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Lu(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Xd(t,e,r){ht(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Nt(e,t.length-(r+1))}function Uu(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new lt.ERR_OUT_OF_RANGE("value",a,t)}Xd(n,i,o)}function ht(t,e){if(typeof t!="number")throw new lt.ERR_INVALID_ARG_TYPE(e,"number",t)}function Nt(t,e,r){throw Math.floor(t)!==t?(ht(t,r),new lt.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new lt.ERR_BUFFER_OUT_OF_BOUNDS:new lt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Zd=/[^+/0-9A-Za-z-_]/g;function Qd(t){if(t=t.split("=")[0],t=t.trim().replace(Zd,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function ji(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ey(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function ty(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function ku(t){return Oi.toByteArray(Qd(t))}function Wr(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ie(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Pi(t){return t!==t}var ry=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function ve(t){return typeof BigInt=="undefined"?ny:t}function ny(){throw new Error("BigInt not supported")}});var Ni=p(()=>{});var zu=p((M0,Ku)=>{"use strict";function qu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qu(Object(r),!0).forEach(function(n){oy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ay(t,e,r){return e&&Wu(t.prototype,e),r&&Wu(t,r),t}var uy=pe(),Kr=uy.Buffer,fy=Ni(),Di=fy.inspect,cy=Di&&Di.custom||"inspect";function ly(t,e,r){Kr.prototype.copy.call(t,e,r)}Ku.exports=function(){function t(){sy(this,t),this.head=null,this.tail=null,this.length=0}return ay(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Kr.alloc(0);for(var n=Kr.allocUnsafe(r>>>0),i=this.head,o=0;i;)ly(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Kr.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:cy,value:function(r,n){return Di(this,iy({},n,{depth:0,customInspect:!1}))}}]),t}()});var Li=p((L0,Vu)=>{"use strict";function hy(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Mi,this,t)):process.nextTick(Mi,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(zr,r):(r._writableState.errorEmitted=!0,process.nextTick($u,r,o)):process.nextTick($u,r,o):e?(process.nextTick(zr,r),e(o)):process.nextTick(zr,r)}),this)}function $u(t,e){Mi(t,e),zr(t)}function zr(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function py(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Mi(t,e){t.emit("error",e)}function dy(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Vu.exports={destroy:hy,undestroy:py,errorOrDestroy:dy}});var De=p((U0,Yu)=>{"use strict";function yy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Gu={};function J(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=function(o){yy(s,o);function s(a,u,h){return o.call(this,n(a,u,h))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Gu[t]=i}function Hu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function gy(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function my(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function by(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}J("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);J("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&gy(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(my(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Hu(e,"type"));else{var o=by(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Hu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);J("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");J("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});J("ERR_STREAM_PREMATURE_CLOSE","Premature close");J("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});J("ERR_MULTIPLE_CALLBACK","Callback called multiple times");J("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");J("ERR_STREAM_WRITE_AFTER_END","write after end");J("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);J("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);J("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Yu.exports.codes=Gu});var Ui=p((k0,Ju)=>{"use strict";var wy=De().codes.ERR_INVALID_OPT_VALUE;function Ey(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function vy(t,e,r,n){var i=Ey(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new wy(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Ju.exports={getHighWaterMark:vy}});var Zu=p((q0,Xu)=>{Xu.exports=xy;function xy(t,e){if(ki("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ki("throwDeprecation"))throw new Error(e);ki("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ki(t){try{if(!globalThis.localStorage)return!1}catch(r){return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var Ki=p((W0,of)=>{"use strict";of.exports=I;function Qu(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Yy(e,t)}}var dt;I.WritableState=Dt;var _y={deprecate:Zu()},ef=Si(),$r=pe().Buffer,Sy=globalThis.Uint8Array||function(){};function Ay(t){return $r.from(t)}function Ry(t){return $r.isBuffer(t)||t instanceof Sy}var qi=Li(),Oy=Ui(),By=Oy.getHighWaterMark,xe=De().codes,Ty=xe.ERR_INVALID_ARG_TYPE,Iy=xe.ERR_METHOD_NOT_IMPLEMENTED,Cy=xe.ERR_MULTIPLE_CALLBACK,Fy=xe.ERR_STREAM_CANNOT_PIPE,jy=xe.ERR_STREAM_DESTROYED,Py=xe.ERR_STREAM_NULL_VALUES,Ny=xe.ERR_STREAM_WRITE_AFTER_END,Dy=xe.ERR_UNKNOWN_ENCODING,yt=qi.errorOrDestroy;z()(I,ef);function My(){}function Dt(t,e,r){dt=dt||Me(),t=t||{},typeof r!="boolean"&&(r=e instanceof dt),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=By(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){zy(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Qu(this)}Dt.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Dt.prototype,"buffer",{get:_y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var Vr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vr=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return Vr.call(this,e)?!0:this!==I?!1:e&&e._writableState instanceof Dt}})):Vr=function(e){return e instanceof this};function I(t){dt=dt||Me();var e=this instanceof dt;if(!e&&!Vr.call(I,this))return new I(t);this._writableState=new Dt(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),ef.call(this)}I.prototype.pipe=function(){yt(this,new Fy)};function Ly(t,e){var r=new Ny;yt(t,r),process.nextTick(e,r)}function Uy(t,e,r,n){var i;return r===null?i=new Py:typeof r!="string"&&!e.objectMode&&(i=new Ty("chunk",["string","Buffer"],r)),i?(yt(t,i),process.nextTick(n,i),!1):!0}I.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Ry(t);return o&&!$r.isBuffer(t)&&(t=Ay(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=My),n.ending?Ly(this,r):(o||Uy(this,n,t,r))&&(n.pendingcb++,i=qy(this,n,o,t,e,r)),i};I.prototype.cork=function(){this._writableState.corked++};I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&rf(this,t))};I.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Dy(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ky(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=$r.from(e,r)),e}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qy(t,e,r,n,i,o){if(!r){var s=ky(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Wi(t,e,!1,a,n,i,o);return u}function Wi(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new jy("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Wy(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Mt,t,e),t._writableState.errorEmitted=!0,yt(t,n)):(i(n),t._writableState.errorEmitted=!0,yt(t,n),Mt(t,e))}function Ky(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function zy(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Cy;if(Ky(r),e)Wy(t,r,n,e,i);else{var o=nf(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&rf(t,r),n?process.nextTick(tf,t,r,o,i):tf(t,r,o,i)}}function tf(t,e,r,n){r||$y(t,e),e.pendingcb--,n(),Mt(t,e)}function $y(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function rf(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Wi(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Qu(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,c=r.callback,l=e.objectMode?1:u.length;if(Wi(t,e,!1,l,u,h,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}I.prototype._write=function(t,e,r){r(new Iy("_write()"))};I.prototype._writev=null;I.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Hy(this,n,r),this};Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nf(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Vy(t,e){t._final(function(r){e.pendingcb--,r&&yt(t,r),e.prefinished=!0,t.emit("prefinish"),Mt(t,e)})}function Gy(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Vy,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Mt(t,e){var r=nf(e);if(r&&(Gy(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Hy(t,e,r){e.ending=!0,Mt(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Yy(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});I.prototype.destroy=qi.destroy;I.prototype._undestroy=qi.undestroy;I.prototype._destroy=function(t,e){e(t)}});var Me=p((K0,af)=>{"use strict";var Jy=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};af.exports=oe;var sf=Vi(),zi=Ki();z()(oe,sf);for($i=Jy(zi.prototype),Gr=0;Gr<$i.length;Gr++)Hr=$i[Gr],oe.prototype[Hr]||(oe.prototype[Hr]=zi.prototype[Hr]);var $i,Hr,Gr;function oe(t){if(!(this instanceof oe))return new oe(t);sf.call(this,t),zi.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Xy)))}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Xy(){this._writableState.ended||process.nextTick(Zy,this)}function Zy(t){t.end()}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var cf=p((Gi,ff)=>{var Yr=pe(),se=Yr.Buffer;function uf(t,e){for(var r in t)e[r]=t[r]}se.from&&se.alloc&&se.allocUnsafe&&se.allocUnsafeSlow?ff.exports=Yr:(uf(Yr,Gi),Gi.Buffer=Le);function Le(t,e,r){return se(t,e,r)}Le.prototype=Object.create(se.prototype);uf(se,Le);Le.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return se(t,e,r)};Le.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=se(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Le.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return se(t)};Le.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Yr.SlowBuffer(t)}});var Ji=p(hf=>{"use strict";var Hi=cf().Buffer,lf=Hi.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Qy(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function eg(t){var e=Qy(t);if(typeof e!="string"&&(Hi.isEncoding===lf||!lf(t)))throw new Error("Unknown encoding: "+t);return e||t}hf.StringDecoder=Lt;function Lt(t){this.encoding=eg(t);var e;switch(this.encoding){case"utf16le":this.text=sg,this.end=ag,e=4;break;case"utf8":this.fillLast=ng,e=4;break;case"base64":this.text=ug,this.end=fg,e=3;break;default:this.write=cg,this.end=lg;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Hi.allocUnsafe(e)}Lt.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Lt.prototype.end=og;Lt.prototype.text=ig;Lt.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Yi(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function tg(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Yi(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Yi(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Yi(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function rg(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"\uFFFD"}}function ng(t){var e=this.lastTotal-this.lastNeed,r=rg(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ig(t,e){var r=tg(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function og(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function sg(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ag(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function ug(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function fg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function cg(t){return t.toString(this.encoding)}function lg(t){return t&&t.length?this.write(t):""}});var Jr=p(($0,yf)=>{"use strict";var pf=De().codes.ERR_STREAM_PREMATURE_CLOSE;function hg(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function pg(){}function dg(t){return t.setHeader&&typeof t.abort=="function"}function df(t,e,r){if(typeof e=="function")return df(t,null,e);e||(e={}),r=hg(r||pg);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,u=!0,i||r.call(t)},c=function(d){r.call(t,d)},l=function(){var d;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(d=new pf),r.call(t,d);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(d=new pf),r.call(t,d)},y=function(){t.req.on("finish",a)};return dg(t)?(t.on("complete",a),t.on("abort",l),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",h),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",h),t.removeListener("error",c),t.removeListener("close",l)}}yf.exports=df});var mf=p((V0,gf)=>{"use strict";var Xr;function _e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yg=Jr(),Se=Symbol("lastResolve"),Ue=Symbol("lastReject"),Ut=Symbol("error"),Zr=Symbol("ended"),ke=Symbol("lastPromise"),Xi=Symbol("handlePromise"),qe=Symbol("stream");function Ae(t,e){return{value:t,done:e}}function gg(t){var e=t[Se];if(e!==null){var r=t[qe].read();r!==null&&(t[ke]=null,t[Se]=null,t[Ue]=null,e(Ae(r,!1)))}}function mg(t){process.nextTick(gg,t)}function bg(t,e){return function(r,n){t.then(function(){if(e[Zr]){r(Ae(void 0,!0));return}e[Xi](r,n)},n)}}var wg=Object.getPrototypeOf(function(){}),Eg=Object.setPrototypeOf((Xr={get stream(){return this[qe]},next:function(){var e=this,r=this[Ut];if(r!==null)return Promise.reject(r);if(this[Zr])return Promise.resolve(Ae(void 0,!0));if(this[qe].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Ut]?a(e[Ut]):s(Ae(void 0,!0))})});var n=this[ke],i;if(n)i=new Promise(bg(n,this));else{var o=this[qe].read();if(o!==null)return Promise.resolve(Ae(o,!1));i=new Promise(this[Xi])}return this[ke]=i,i}},_e(Xr,Symbol.asyncIterator,function(){return this}),_e(Xr,"return",function(){var e=this;return new Promise(function(r,n){e[qe].destroy(null,function(i){if(i){n(i);return}r(Ae(void 0,!0))})})}),Xr),wg),vg=function(e){var r,n=Object.create(Eg,(r={},_e(r,qe,{value:e,writable:!0}),_e(r,Se,{value:null,writable:!0}),_e(r,Ue,{value:null,writable:!0}),_e(r,Ut,{value:null,writable:!0}),_e(r,Zr,{value:e._readableState.endEmitted,writable:!0}),_e(r,Xi,{value:function(o,s){var a=n[qe].read();a?(n[ke]=null,n[Se]=null,n[Ue]=null,o(Ae(a,!1))):(n[Se]=o,n[Ue]=s)},writable:!0}),r));return n[ke]=null,yg(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ue];o!==null&&(n[ke]=null,n[Se]=null,n[Ue]=null,o(i)),n[Ut]=i;return}var s=n[Se];s!==null&&(n[ke]=null,n[Se]=null,n[Ue]=null,s(Ae(void 0,!0))),n[Zr]=!0}),e.on("readable",mg.bind(null,n)),n};gf.exports=vg});var wf=p((G0,bf)=>{bf.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Vi=p((Y0,Tf)=>{"use strict";Tf.exports=_;var gt;_.ReadableState=vf;var H0=yr().EventEmitter,Ef=function(e,r){return e.listeners(r).length},kt=Si(),Qr=pe().Buffer,xg=globalThis.Uint8Array||function(){};function _g(t){return Qr.from(t)}function Sg(t){return Qr.isBuffer(t)||t instanceof xg}var Zi=Ni(),b;Zi&&Zi.debuglog?b=Zi.debuglog("stream"):b=function(){};var Ag=zu(),Qi=Li(),Rg=Ui(),Og=Rg.getHighWaterMark,en=De().codes,Bg=en.ERR_INVALID_ARG_TYPE,Tg=en.ERR_STREAM_PUSH_AFTER_EOF,Ig=en.ERR_METHOD_NOT_IMPLEMENTED,Cg=en.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,mt,eo,to;z()(_,kt);var qt=Qi.errorOrDestroy,ro=["error","close","destroy","pause","resume"];function Fg(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function vf(t,e,r){gt=gt||Me(),t=t||{},typeof r!="boolean"&&(r=e instanceof gt),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Og(this,t,"readableHighWaterMark",r),this.buffer=new Ag,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(mt||(mt=Ji().StringDecoder),this.decoder=new mt(t.encoding),this.encoding=t.encoding)}function _(t){if(gt=gt||Me(),!(this instanceof _))return new _(t);var e=this instanceof gt;this._readableState=new vf(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),kt.call(this)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});_.prototype.destroy=Qi.destroy;_.prototype._undestroy=Qi.undestroy;_.prototype._destroy=function(t,e){e(t)};_.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Qr.from(t,e),e=""),n=!0),xf(this,t,e,!1,n)};_.prototype.unshift=function(t){return xf(this,t,null,!0,!1)};function xf(t,e,r,n,i){b("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Ng(t,o);else{var s;if(i||(s=jg(o,e)),s)qt(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Qr.prototype&&(e=_g(e)),n)o.endEmitted?qt(t,new Cg):no(t,o,e,!0);else if(o.ended)qt(t,new Tg);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?no(t,o,e,!1):io(t,o)):no(t,o,e,!1)}else n||(o.reading=!1,io(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function no(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&tn(t)),io(t,e)}function jg(t,e){var r;return!Sg(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Bg("chunk",["string","Buffer","Uint8Array"],e)),r}_.prototype.isPaused=function(){return this._readableState.flowing===!1};_.prototype.setEncoding=function(t){mt||(mt=Ji().StringDecoder);var e=new mt(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var _f=1073741824;function Pg(t){return t>=_f?t=_f:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Sf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Pg(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}_.prototype.read=function(t){b("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return b("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?so(this):tn(this),null;if(t=Sf(t,e),t===0&&e.ended)return e.length===0&&so(this),null;var n=e.needReadable;b("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,b("length less than watermark",n)),e.ended||e.reading?(n=!1,b("reading or ended",n)):n&&(b("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Sf(r,e)));var i;return t>0?i=Of(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&so(this)),i!==null&&this.emit("data",i),i};function Ng(t,e){if(b("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?tn(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Af(t)))}}function tn(t){var e=t._readableState;b("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Af,t))}function Af(t){var e=t._readableState;b("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,oo(t)}function io(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Dg,t,e))}function Dg(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(b("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_.prototype._read=function(t){qt(this,new Ig("_read()"))};_.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,b("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:g;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(w,A){b("onunpipe"),w===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,c())}function a(){b("onend"),t.end()}var u=Mg(r);t.on("drain",u);var h=!1;function c(){b("cleanup"),t.removeListener("close",m),t.removeListener("finish",d),t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",l),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",l);function l(w){b("ondata");var A=t.write(w);b("dest.write",A),A===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Bf(n.pipes,t)!==-1)&&!h&&(b("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(w){b("onerror",w),g(),t.removeListener("error",y),Ef(t,"error")===0&&qt(t,w)}Fg(t,"error",y);function m(){t.removeListener("finish",d),g()}t.once("close",m);function d(){b("onfinish"),t.removeListener("close",m),g()}t.once("finish",d);function g(){b("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(b("pipe resume"),r.resume()),t};function Mg(t){return function(){var r=t._readableState;b("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ef(t,"data")&&(r.flowing=!0,oo(t))}}_.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Bf(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};_.prototype.on=function(t,e){var r=kt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,b("on readable",n.length,n.reading),n.length?tn(this):n.reading||process.nextTick(Lg,this)),r};_.prototype.addListener=_.prototype.on;_.prototype.removeListener=function(t,e){var r=kt.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Rf,this),r};_.prototype.removeAllListeners=function(t){var e=kt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Rf,this),e};function Rf(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Lg(t){b("readable nexttick read 0"),t.read(0)}_.prototype.resume=function(){var t=this._readableState;return t.flowing||(b("resume"),t.flowing=!t.readableListening,Ug(this,t)),t.paused=!1,this};function Ug(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(kg,t,e))}function kg(t,e){b("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),oo(t),e.flowing&&!e.reading&&t.read(0)}_.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oo(t){var e=t._readableState;for(b("flow",e.flowing);e.flowing&&t.read()!==null;);}_.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(b("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(b("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<ro.length;o++)t.on(ro[o],this.emit.bind(this,ro[o]));return this._read=function(s){b("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return eo===void 0&&(eo=mf()),eo(this)});Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});_._fromList=Of;Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Of(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function so(t){var e=t._readableState;b("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(qg,e,t))}function qg(t,e){if(b("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(_.from=function(t,e){return to===void 0&&(to=wf()),to(_,t,e)});function Bf(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var ao=p((J0,Cf)=>{"use strict";Cf.exports=de;var rn=De().codes,Wg=rn.ERR_METHOD_NOT_IMPLEMENTED,Kg=rn.ERR_MULTIPLE_CALLBACK,zg=rn.ERR_TRANSFORM_ALREADY_TRANSFORMING,$g=rn.ERR_TRANSFORM_WITH_LENGTH_0,nn=Me();z()(de,nn);function Vg(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Kg);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function de(t){if(!(this instanceof de))return new de(t);nn.call(this,t),this._transformState={afterTransform:Vg.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Gg)}function Gg(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){If(t,e,r)}):If(this,null,null)}de.prototype.push=function(t,e){return this._transformState.needTransform=!1,nn.prototype.push.call(this,t,e)};de.prototype._transform=function(t,e,r){r(new Wg("_transform()"))};de.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};de.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};de.prototype._destroy=function(t,e){nn.prototype._destroy.call(this,t,function(r){e(r)})};function If(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new $g;if(t._transformState.transforming)throw new zg;return t.push(null)}});var Pf=p((X0,jf)=>{"use strict";jf.exports=Wt;var Ff=ao();z()(Wt,Ff);function Wt(t){if(!(this instanceof Wt))return new Wt(t);Ff.call(this,t)}Wt.prototype._transform=function(t,e,r){r(null,t)}});var Uf=p((Z0,Lf)=>{"use strict";var uo;function Hg(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Nf=De().codes,Yg=Nf.ERR_MISSING_ARGS,Jg=Nf.ERR_STREAM_DESTROYED;function Df(t){if(t)throw t}function Xg(t){return t.setHeader&&typeof t.abort=="function"}function Zg(t,e,r,n){n=Hg(n);var i=!1;t.on("close",function(){i=!0}),uo===void 0&&(uo=Jr()),uo(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Xg(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Jg("pipe"))}}}function Mf(t){t()}function Qg(t,e){return t.pipe(e)}function em(t){return!t.length||typeof t[t.length-1]!="function"?Df:t.pop()}function tm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=em(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Yg("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,h=a>0;return Zg(s,u,h,function(c){i||(i=c),c&&o.forEach(Mf),!u&&(o.forEach(Mf),n(i))})});return e.reduce(Qg)}Lf.exports=tm});var qf=p((X,kf)=>{X=kf.exports=Vi();X.Stream=X;X.Readable=X;X.Writable=Ki();X.Duplex=Me();X.Transform=ao();X.PassThrough=Pf();X.finished=Jr();X.pipeline=Uf()});var zf=p((Q0,Kf)=>{"use strict";var rm=z(),{Readable:Wf}=qf();Kf.exports=bt;rm(bt,Wf);function bt(t,e){if(!(this instanceof bt))return new bt(t,e);e=e||{},Wf.call(this,Object.assign({},e,{objectMode:!0})),this._iterator=t,this._options=e,this.on("end",this.destroy.bind(this,null,null))}bt.prototype._read=function(){this.destroyed||this._iterator.next((t,e,r)=>{if(!this.destroyed){if(t)return this.destroy(t);e===void 0&&r===void 0?this.push(null):this._options.keys!==!1&&this._options.values===!1?this.push(e):this._options.keys===!1&&this._options.values!==!1?this.push(r):this.push({key:e,value:r})}})};bt.prototype._destroy=function(t,e){this._iterator.end(function(r){e(t||r)})}});var Vf=p(($f,on)=>{(function(t,e,r){typeof on!="undefined"&&on.exports?on.exports=r():e[t]=r()})("prr",$f,function(){var t=typeof Object.defineProperty=="function"?function(n,i,o){return Object.defineProperty(n,i,o),n}:function(n,i,o){return n[i]=o.value,n},e=function(n,i){var o=typeof i=="object",s=!o&&typeof i=="string",a=function(u){return o?!!i[u]:s?i.indexOf(u[0])>-1:!1};return{enumerable:a("enumerable"),configurable:a("configurable"),writable:a("writable"),value:n}},r=function(n,i,o,s){var a;if(s=e(o,s),typeof i=="object"){for(a in i)Object.hasOwnProperty.call(i,a)&&(s.value=i[a],t(n,a,s));return n}return t(n,i,s)};return r})});var Yf=p((eE,Hf)=>{var nm=Vf();function Gf(t,e,r){!!e&&typeof e!="string"&&(e=e.message||e.name),nm(this,{type:t,name:t,cause:typeof e!="string"?e:r,message:e},"ewr")}function fo(t,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),Gf.call(this,"CustomError",t,e)}fo.prototype=new Error;function im(t,e,r){var n=function(i,o){Gf.call(this,e,i,o),e=="FilesystemError"&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(t.errno[this.cause.errno]?t.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new fo,n}Hf.exports=function(t){var e=function(r,n){return im(t,r,n)};return{CustomError:fo,FilesystemError:e("FilesystemError"),createError:e}}});var Jf=p((tE,ae)=>{var om=ae.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];ae.exports.errno={};ae.exports.code={};om.forEach(function(t){ae.exports.errno[t.errno]=t,ae.exports.code[t.code]=t});ae.exports.custom=Yf()(ae.exports);ae.exports.create=ae.exports.custom.createError});var sn=p((rE,Xf)=>{"use strict";var We=Jf().create,Ke=We("LevelUPError"),co=We("NotFoundError",Ke);co.prototype.notFound=!0;co.prototype.status=404;Xf.exports={LevelUPError:Ke,InitializationError:We("InitializationError",Ke),OpenError:We("OpenError",Ke),ReadError:We("ReadError",Ke),WriteError:We("WriteError",Ke),NotFoundError:co,EncodingError:We("EncodingError",Ke)}});var ho=p(lo=>{"use strict";lo.fromCallback=function(t){if(t===void 0){var e=new Promise(function(r,n){t=function(i,o){i?n(i):r(o)}});t.promise=e}return t};lo.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){process.nextTick(e,null,r)}).catch(function(r){process.nextTick(e,r)})}});var Kt=p(po=>{"use strict";po.getCallback=function(t,e){return typeof t=="function"?t:e};po.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}});var Qf=p((oE,Zf)=>{"use strict";var zt=sn().WriteError,sm=ho(),am=Kt().getCallback,um=Kt().getOptions;function $t(t){this.db=t,this.batch=t.db.batch(),this.ops=[],this.length=0}$t.prototype.put=function(t,e,r){try{this.batch.put(t,e,r)}catch(n){throw new zt(n)}return this.ops.push({...r,type:"put",key:t,value:e}),this.length++,this};$t.prototype.del=function(t,e){try{this.batch.del(t,e)}catch(r){throw new zt(r)}return this.ops.push({...e,type:"del",key:t}),this.length++,this};$t.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new zt(t)}return this.ops=[],this.length=0,this};$t.prototype.write=function(t,e){let r=this.db,n=this.ops;e=am(t,e),e=sm.fromCallback(e),t=um(t);try{this.batch.write(t,function(i){if(i)return e(new zt(i));r.emit("batch",n),e()})}catch(i){throw new zt(i)}return e.promise};Zf.exports=$t});var rc=p((sE,tc)=>{"use strict";var ec=Ei();tc.exports=function(t,...e){e.length===0?ec(t):ec(()=>t(...e))}});var sc=p((aE,oc)=>{"use strict";var an=yr().EventEmitter,fm=Za().inherits,nc=wu(),cm=zf(),lm=Qf(),wt=sn(),hm=wi(),ze=ho(),Vt=Kt().getCallback,Et=Kt().getOptions,un=rc(),fn=wt.WriteError,ic=wt.ReadError,pm=wt.NotFoundError,dm=wt.OpenError,ym=wt.InitializationError;function R(t,e,r){if(!(this instanceof R))return new R(t,e,r);let n;if(an.call(this),this.setMaxListeners(1/0),typeof e=="function"&&(r=e,e={}),e=e||{},!t||typeof t!="object"){if(n=new ym("First argument must be an abstract-leveldown compliant store"),typeof r=="function")return un(r,n);throw n}if(typeof t.status!="string")throw new Error(".status required, old abstract-leveldown");this.options=Et(e),this._db=t,this.db=new nc(t),this.open(r||(i=>{i&&this.emit("error",i)})),this.supports=hm(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let i of Object.keys(this.supports.additionalMethods))this[i]==null&&(this[i]=function(...o){return this.db[i](...o)})}R.prototype.emit=an.prototype.emit;R.prototype.once=an.prototype.once;fm(R,an);R.prototype.open=function(t,e){return typeof t=="function"&&(e=t,t=null),e=ze.fromCallback(e),t||(t=this.options),this.isOpen()?(un(e,null,this),e.promise):this._isOpening()?(this.once("open",()=>{e(null,this)}),e.promise):(this.emit("opening"),this.db.open(t,r=>{if(r)return e(new dm(r));this.db=this._db,e(null,this),this.emit("open"),this.emit("ready")}),e.promise)};R.prototype.close=function(t){return t=ze.fromCallback(t),this.isOpen()?(this.db.close((e,...r)=>{this.emit("closed"),t(e,...r)}),this.emit("closing"),this.db=new nc(this._db)):this.isClosed()?un(t):this.db.status==="closing"?this.once("closed",t):this._isOpening()&&this.once("open",()=>{this.close(t)}),t.promise};R.prototype.isOpen=function(){return this.db.status==="open"};R.prototype._isOpening=function(){return this.db.status==="opening"};R.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)};R.prototype.get=function(t,e,r){return r=Vt(e,r),r=ze.fromCallback(r),Gt(this,r)||(e=Et(e),this.db.get(t,e,function(n,i){if(n)return/notfound/i.test(n)||n.notFound?n=new pm("Key not found in database ["+t+"]",n):n=new ic(n),r(n);r(null,i)})),r.promise};R.prototype.put=function(t,e,r,n){return n=Vt(r,n),n=ze.fromCallback(n),Gt(this,n)||(r=Et(r),this.db.put(t,e,r,i=>{if(i)return n(new fn(i));this.emit("put",t,e),n()})),n.promise};R.prototype.del=function(t,e,r){return r=Vt(e,r),r=ze.fromCallback(r),Gt(this,r)||(e=Et(e),this.db.del(t,e,n=>{if(n)return r(new fn(n));this.emit("del",t),r()})),r.promise};R.prototype.batch=function(t,e,r){return arguments.length?(typeof t=="function"?r=t:r=Vt(e,r),r=ze.fromCallback(r),Gt(this,r)||(e=Et(e),this.db.batch(t,e,n=>{if(n)return r(new fn(n));this.emit("batch",t),r()})),r.promise):new lm(this)};R.prototype.iterator=function(t){return this.db.iterator(t)};R.prototype.clear=function(t,e){return e=Vt(t,e),t=Et(t),e=ze.fromCallback(e),Gt(this,e)||this.db.clear(t,r=>{if(r)return e(new fn(r));this.emit("clear",t),e()}),e.promise};R.prototype.readStream=R.prototype.createReadStream=function(t){return t=Object.assign({keys:!0,values:!0},t),typeof t.limit!="number"&&(t.limit=-1),new cm(this.db.iterator(t),t)};R.prototype.keyStream=R.prototype.createKeyStream=function(t){return this.createReadStream(Object.assign({},t,{keys:!0,values:!1}))};R.prototype.valueStream=R.prototype.createValueStream=function(t){return this.createReadStream(Object.assign({},t,{keys:!1,values:!0}))};R.prototype.toString=function(){return"LevelUP"};R.prototype.type="levelup";function Gt(t,e){if(!t._isOpening()&&!t.isOpen())return un(e,new ic("Database is not open")),!0}R.errors=wt;oc.exports=R});var ac=p(ye=>{"use strict";var{Buffer:yo}=pe();ye.utf8=ye["utf-8"]={encode:function(t){return go(t)?t:String(t)},decode:cn,buffer:!1,type:"utf8"};ye.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"};ye.binary={encode:function(t){return go(t)?t:yo.from(t)},decode:cn,buffer:!0,type:"binary"};ye.none={encode:cn,decode:cn,buffer:!1,type:"id"};ye.id=ye.none;var gm=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(let t of gm)ye[t]={encode:function(e){return go(e)?e:yo.from(e,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t};function cn(t){return t}function go(t){return t==null||yo.isBuffer(t)}});var fc=p((fE,uc)=>{"use strict";var mo=ac(),mm=new Set(["lt","gt","lte","gte"]);uc.exports=U;function U(t){if(!(this instanceof U))return new U(t);this.opts=t||{},this.encodings=mo}U.prototype._encoding=function(t){return typeof t=="string"&&(t=mo[t]),t||(t=mo.id),t};U.prototype._keyEncoding=function(t,e){return this._encoding(e&&e.keyEncoding||t&&t.keyEncoding||this.opts.keyEncoding)};U.prototype._valueEncoding=function(t,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||t&&(t.valueEncoding||t.encoding)||this.opts.valueEncoding||this.opts.encoding)};U.prototype.encodeKey=function(t,e,r){return this._keyEncoding(e,r).encode(t)};U.prototype.encodeValue=function(t,e,r){return this._valueEncoding(e,r).encode(t)};U.prototype.decodeKey=function(t,e){return this._keyEncoding(e).decode(t)};U.prototype.decodeValue=function(t,e){return this._valueEncoding(e).decode(t)};U.prototype.encodeBatch=function(t,e){return t.map(r=>{let n={type:r.type,key:this.encodeKey(r.key,e,r)};return this.keyAsBuffer(e,r)&&(n.keyEncoding="binary"),r.prefix&&(n.prefix=r.prefix),"value"in r&&(n.value=this.encodeValue(r.value,e,r),this.valueAsBuffer(e,r)&&(n.valueEncoding="binary")),n})};U.prototype.encodeLtgt=function(t){let e={};for(let r of Object.keys(t)){if(r==="start"||r==="end")throw new Error('Legacy range options ("start" and "end") have been removed');e[r]=mm.has(r)?this.encodeKey(t[r],t):t[r]}return e};U.prototype.createStreamDecoder=function(t){return t.keys&&t.values?(e,r)=>({key:this.decodeKey(e,t),value:this.decodeValue(r,t)}):t.keys?e=>this.decodeKey(e,t):t.values?(e,r)=>this.decodeValue(r,t):function(){}};U.prototype.keyAsBuffer=function(t){return this._keyEncoding(t).buffer};U.prototype.valueAsBuffer=function(t){return this._valueEncoding(t).buffer}});var yc=p((cE,dc)=>{"use strict";var cc=Ee().AbstractLevelDOWN,lc=Ee().AbstractChainedBatch,hc=Ee().AbstractIterator,bo=z(),bm=fc(),pc=sn().EncodingError,wm=["approximateSize","compactRange"];dc.exports=M;function M(t,e){if(!(this instanceof M))return new M(t,e);let r=t.supports||{},n=r.additionalMethods||{};cc.call(this,r),this.supports.encodings=!0,this.supports.additionalMethods={},wm.forEach(function(i){let o=typeof t[i]=="function";(n[i]||o)&&(this.supports.additionalMethods[i]=!0,this[i]=function(s,a,u,h){return s=this.codec.encodeKey(s,u),a=this.codec.encodeKey(a,u),this.db[i](s,a,u,h)})},this),e=e||{},typeof e.keyEncoding=="undefined"&&(e.keyEncoding="utf8"),typeof e.valueEncoding=="undefined"&&(e.valueEncoding="utf8"),this.db=t,this.codec=new bm(e)}bo(M,cc);M.prototype.type="encoding-down";M.prototype._serializeKey=M.prototype._serializeValue=function(t){return t};M.prototype._open=function(t,e){this.db.open(t,e)};M.prototype._close=function(t){this.db.close(t)};M.prototype._put=function(t,e,r,n){t=this.codec.encodeKey(t,r),e=this.codec.encodeValue(e,r),this.db.put(t,e,r,n)};M.prototype._get=function(t,e,r){t=this.codec.encodeKey(t,e),e.asBuffer=this.codec.valueAsBuffer(e),this.db.get(t,e,(n,i)=>{if(n)return r(n);try{i=this.codec.decodeValue(i,e)}catch(o){return r(new pc(o))}r(null,i)})};M.prototype._del=function(t,e,r){t=this.codec.encodeKey(t,e),this.db.del(t,e,r)};M.prototype._chainedBatch=function(){return new vt(this)};M.prototype._batch=function(t,e,r){t=this.codec.encodeBatch(t,e),this.db.batch(t,e,r)};M.prototype._iterator=function(t){return t.keyAsBuffer=this.codec.keyAsBuffer(t),t.valueAsBuffer=this.codec.valueAsBuffer(t),new Ht(this,t)};M.prototype._clear=function(t,e){t=this.codec.encodeLtgt(t),this.db.clear(t,e)};function Ht(t,e){hc.call(this,t),this.codec=t.codec,this.keys=e.keys,this.values=e.values,this.opts=this.codec.encodeLtgt(e),this.it=t.db.iterator(this.opts)}bo(Ht,hc);Ht.prototype._next=function(t){this.it.next((e,r,n)=>{if(e)return t(e);try{this.keys&&typeof r!="undefined"?r=this.codec.decodeKey(r,this.opts):r=void 0,this.values&&typeof n!="undefined"?n=this.codec.decodeValue(n,this.opts):n=void 0}catch(i){return t(new pc(i))}t(null,r,n)})};Ht.prototype._seek=function(t){t=this.codec.encodeKey(t,this.opts),this.it.seek(t)};Ht.prototype._end=function(t){this.it.end(t)};function vt(t,e){lc.call(this,t),this.codec=t.codec,this.batch=t.db.batch()}bo(vt,lc);vt.prototype._put=function(t,e,r){t=this.codec.encodeKey(t,r),e=this.codec.encodeValue(e,r),this.batch.put(t,e)};vt.prototype._del=function(t,e){t=this.codec.encodeKey(t,e),this.batch.del(t)};vt.prototype._clear=function(){this.batch.clear()};vt.prototype._write=function(t,e){this.batch.write(t,e)}});var bc=p((lE,mc)=>{"use strict";var gc=sc(),Em=yc();function vm(t){function e(n,i,o){return typeof n=="function"?o=n:typeof i=="function"&&(o=i),r(i)||(i=r(n)?n:{}),gc(Em(t(n,i),i),i,o)}function r(n){return typeof n=="object"&&n!==null}for(let n of["destroy","repair"])typeof t[n]=="function"&&(e[n]=function(...i){t[n](...i)});return e.errors=gc.errors,e}mc.exports=vm});var Ec=p(C=>{C.compare=function(t,e){if(Buffer.isBuffer(t)){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var i=t[n]-e[n];if(i)return i}return t.length-e.length}return t<e?-1:t>e?1:0};function wc(t){return t!==void 0&&t!==""}function xt(t,e){return Object.hasOwnProperty.call(t,e)}function ue(t,e){return Object.hasOwnProperty.call(t,e)&&e}var xm=C.lowerBoundKey=function(t){return ue(t,"gt")||ue(t,"gte")||ue(t,"min")||(t.reverse?ue(t,"end"):ue(t,"start"))||void 0},wo=C.lowerBound=function(t,e){var r=xm(t);return r?t[r]:e},Eo=C.lowerBoundInclusive=function(t){return!xt(t,"gt")},vo=C.upperBoundInclusive=function(t){return!xt(t,"lt")},_m=C.lowerBoundExclusive=function(t){return!Eo(t)},Sm=C.upperBoundExclusive=function(t){return!vo(t)},Am=C.upperBoundKey=function(t){return ue(t,"lt")||ue(t,"lte")||ue(t,"max")||(t.reverse?ue(t,"start"):ue(t,"end"))||void 0},xo=C.upperBound=function(t,e){var r=Am(t);return r?t[r]:e};C.start=function(t,e){return t.reverse?xo(t,e):wo(t,e)};C.end=function(t,e){return t.reverse?wo(t,e):xo(t,e)};C.startInclusive=function(t){return t.reverse?vo(t):Eo(t)};C.endInclusive=function(t){return t.reverse?Eo(t):vo(t)};function Rm(t){return t}C.toLtgt=function(t,e,r,n,i){e=e||{},r=r||Rm;var o=arguments.length>3,s=C.lowerBoundKey(t),a=C.upperBoundKey(t);return s?s==="gt"?e.gt=r(t.gt,!1):e.gte=r(t[s],!1):o&&(e.gte=r(n,!1)),a?a==="lt"?e.lt=r(t.lt,!0):e.lte=r(t[a],!0):o&&(e.lte=r(i,!0)),t.reverse!=null&&(e.reverse=!!t.reverse),xt(e,"max")&&delete e.max,xt(e,"min")&&delete e.min,xt(e,"start")&&delete e.start,xt(e,"end")&&delete e.end,e};C.contains=function(t,e,r){r=r||C.compare;var n=wo(t);if(wc(n)){var i=r(e,n);if(i<0||i===0&&_m(t))return!1}var o=xo(t);if(wc(o)){var i=r(e,o);if(i>0||i===0&&Sm(t))return!1}return!0};C.filter=function(t,e){return function(r){return C.contains(t,r,e)}}});var _o=p((pE,vc)=>{"use strict";var ln=Ec(),Re=Symbol("none");vc.exports=function(e){let r=ln.lowerBound(e,Re),n=ln.upperBound(e,Re),i=ln.lowerBoundExclusive(e,Re),o=ln.upperBoundExclusive(e,Re);return r!==Re&&n!==Re?IDBKeyRange.bound(r,n,i,o):r!==Re?IDBKeyRange.lowerBound(r,i):n!==Re?IDBKeyRange.upperBound(n,o):null}});var So=p((dE,_c)=>{"use strict";var hn=pe().Buffer,Om=function(){if(globalThis.TextDecoder){let t=new TextDecoder("utf-8");return t.decode.bind(t)}else return function(e){return xc(e).toString()}}(),Bm=function(){if(globalThis.TextDecoder){let t=new TextDecoder("utf-8");return t.decode.bind(t)}else return function(e){return hn.from(e).toString()}}();function xc(t){let e=hn.from(t.buffer);return t.byteLength===t.buffer.byteLength?e:e.slice(t.byteOffset,t.byteOffset+t.byteLength)}_c.exports=function(t,e){return t instanceof Uint8Array?e?xc(t):Om(t):t instanceof ArrayBuffer?e?hn.from(t):Bm(t):e?hn.from(String(t)):String(t)}});var Oc=p((yE,Rc)=>{"use strict";var Tm=z(),Sc=Ee().AbstractIterator,Im=_o(),Ac=So(),Cm=function(){};Rc.exports=te;function te(t,e,r){if(Sc.call(this,t),this._limit=r.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=r.keys,this._values=r.values,this._keyAsBuffer=r.keyAsBuffer,this._valueAsBuffer=r.valueAsBuffer,this._limit===0){this._completed=!0;return}let n;try{n=Im(r)}catch(i){this._completed=!0;return}this.createIterator(e,n,r.reverse)}Tm(te,Sc);te.prototype.createIterator=function(t,e,r){let n=this.db.db.transaction([t],"readonly"),o=n.objectStore(t).openCursor(e,r?"prev":"next");o.onsuccess=s=>{let a=s.target.result;a&&this.onItem(a)},this._transaction=n,n.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},n.oncomplete=()=>{this.onComplete()}};te.prototype.onItem=function(t){this._cache.push(t.key,t.value),(this._limit<=0||++this._count<this._limit)&&t.continue(),this.maybeNext()};te.prototype.onAbort=function(t){this._aborted=!0,this._error=t,this.maybeNext()};te.prototype.onComplete=function(){this._completed=!0,this.maybeNext()};te.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)};te.prototype._next=function(t){if(this._aborted){let e=this._error;this._error=null,this._nextTick(t,e)}else if(this._cache.length>0){let e=this._cache.shift(),r=this._cache.shift();this._keys&&e!==void 0?e=this._deserializeKey(e,this._keyAsBuffer):e=void 0,this._values&&r!==void 0?r=this._deserializeValue(r,this._valueAsBuffer):r=void 0,this._nextTick(t,null,e,r)}else this._completed?this._nextTick(t):this._callback=t};te.prototype._deserializeKey=Ac;te.prototype._deserializeValue=Ac;te.prototype._end=function(t){if(this._aborted||this._completed)return this._nextTick(t,this._error);this.onItem=Cm,this.onAbort=t,this.onComplete=t}});var Ic=p((gE,Tc)=>{"use strict";var Bc=pe().Buffer,Fm=function(){if(globalThis.TextEncoder){let t=new TextEncoder("utf-8");return t.encode.bind(t)}else return Bc.from}();Tc.exports=function(t,e){return e?Bc.isBuffer(t)?t:Fm(String(t)):String(t)}});var Cc=p(pn=>{"use strict";var jm=pe().Buffer;pn.test=function(t){return function(r){try{return r.cmp(t,0),!0}catch(n){return!1}}};pn.bufferKeys=pn.test(jm.alloc(0))});var jc=p((bE,Fc)=>{"use strict";Fc.exports=function(e,r,n,i,o){if(i.limit===0)return e._nextTick(o);let s=e.db.transaction([r],"readwrite"),a=s.objectStore(r),u=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let h=a.openKeyCursor?"openKeyCursor":"openCursor",c=i.reverse?"prev":"next";a[h](n,c).onsuccess=function(l){let y=l.target.result;y&&(a.delete(y.key).onsuccess=function(){(i.limit<=0||++u<i.limit)&&y.continue()})}}});var Lc=p((wE,Mc)=>{"use strict";Mc.exports=F;var Pc=Ee().AbstractLevelDOWN,Pm=z(),Nm=Oc(),Nc=Ic(),Ao=So(),Dm=Cc(),Mm=jc(),Lm=_o(),Dc="level-js-";function F(t,e){if(!(this instanceof F))return new F(t,e);if(Pc.call(this,{bufferKeys:Dm.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0}),e=e||{},typeof t!="string")throw new Error("constructor requires a location string argument");this.location=t,this.prefix=e.prefix==null?Dc:e.prefix,this.version=parseInt(e.version||1,10)}Pm(F,Pc);F.prototype.type="level-js";F.prototype._open=function(t,e){let r=indexedDB.open(this.prefix+this.location,this.version);r.onerror=function(){e(r.error||new Error("unknown error"))},r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=n=>{let i=n.target.result;i.objectStoreNames.contains(this.location)||i.createObjectStore(this.location)}};F.prototype.store=function(t){return this.db.transaction([this.location],t).objectStore(this.location)};F.prototype.await=function(t,e){let r=t.transaction;r.onabort=function(){e(r.error||new Error("aborted by user"))},r.oncomplete=function(){e(null,t.result)}};F.prototype._get=function(t,e,r){let n=this.store("readonly"),i;try{i=n.get(t)}catch(o){return this._nextTick(r,o)}this.await(i,function(o,s){if(o)return r(o);if(s===void 0)return r(new Error("NotFound"));r(null,Ao(s,e.asBuffer))})};F.prototype._del=function(t,e,r){let n=this.store("readwrite"),i;try{i=n.delete(t)}catch(o){return this._nextTick(r,o)}this.await(i,r)};F.prototype._put=function(t,e,r,n){let i=this.store("readwrite"),o;try{o=i.put(e,t)}catch(s){return this._nextTick(n,s)}this.await(o,n)};F.prototype._serializeKey=function(t){return Nc(t,this.supports.bufferKeys)};F.prototype._serializeValue=function(t){return Nc(t,!0)};F.prototype._iterator=function(t){return new Nm(this,this.location,t)};F.prototype._batch=function(t,e,r){if(t.length===0)return this._nextTick(r);let n=this.store("readwrite"),i=n.transaction,o=0,s;i.onabort=function(){r(s||i.error||new Error("aborted by user"))},i.oncomplete=function(){r()};function a(){let u=t[o++],h=u.key,c;try{c=u.type==="del"?n.delete(h):n.put(u.value,h)}catch(l){s=l,i.abort();return}o<t.length&&(c.onsuccess=a)}a()};F.prototype._clear=function(t,e){let r,n;try{r=Lm(t)}catch(i){return this._nextTick(e)}if(t.limit>=0)return Mm(this,this.location,r,t,e);try{let i=this.store("readwrite");n=r?i.delete(r):i.clear()}catch(i){return this._nextTick(e,i)}this.await(n,e)};F.prototype._close=function(t){this.db.close(),this._nextTick(t)};F.prototype.upgrade=function(t){if(this.status!=="open")return this._nextTick(t,new Error("cannot upgrade() before open()"));let e=this.iterator(),r={},n=this;e._deserializeKey=e._deserializeValue=a,i();function i(u){if(u)return s(u);e.next(o)}function o(u,h,c){if(u||h===void 0)return s(u);let l=n._serializeKey(Ao(h,!0)),y=n._serializeValue(Ao(c,!0));n._batch([{type:"del",key:h},{type:"put",key:l,value:y}],r,i)}function s(u){e.end(function(h){t(u||h)})}function a(u){return u}};F.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=Dc);let n=indexedDB.deleteDatabase(e+t);n.onsuccess=function(){r()},n.onerror=function(i){r(i)}}});var kc=p((EE,Uc)=>{Uc.exports=bc()(Lc())});var km={};k(km,{LevelDatastore:()=>Kc});var To=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e};var dn={};k(dn,{identity:()=>tl});function Jc(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var g=0,w=0,A=0,L=d.length;A!==L&&d[A]===0;)A++,g++;for(var $=(L-A)*c+1>>>0,D=new Uint8Array($);A!==L;){for(var Z=d[A],V=0,W=$-1;(Z!==0||V<w)&&W!==-1;W--,V++)Z+=256*D[W]>>>0,D[W]=Z%a>>>0,Z=Z/a>>>0;if(Z!==0)throw new Error("Non-zero carry");w=V,A++}for(var G=$-w;G!==$&&D[G]===0;)G++;for(var $e=u.repeat(g);G<$;++G)$e+=t.charAt(D[G]);return $e}function y(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var g=0;if(d[g]!==" "){for(var w=0,A=0;d[g]===u;)w++,g++;for(var L=(d.length-g)*h+1>>>0,$=new Uint8Array(L);d[g];){var D=r[d.charCodeAt(g)];if(D===255)return;for(var Z=0,V=L-1;(D!==0||Z<A)&&V!==-1;V--,Z++)D+=a*$[V]>>>0,$[V]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");A=Z,g++}if(d[g]!==" "){for(var W=L-A;W!==L&&$[W]===0;)W++;for(var G=new Uint8Array(w+(L-W)),$e=w;W!==L;)G[$e++]=$[W++];return G}}}function m(d){var g=y(d);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var Xc=Jc,Zc=Xc,Io=Zc;var Gm=new Uint8Array(0);var Co=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},fe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Fo=t=>new TextEncoder().encode(t),jo=t=>new TextDecoder().decode(t);var No=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Do=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Xt(r)}},Xt=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new Xt({...this.decoders,...r})}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Mo=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new No(e,r,n),this.decoder=new Do(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Zt=({name:t,prefix:e,encode:r,decode:n})=>new Mo(t,e,r,n),ge=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Io(r,e);return Zt({prefix:t,name:e,encode:n,decode:o=>fe(i(o))})},Qc=(t,e,r,n)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,h=0;for(let c=0;c<o;++c){let l=i[t[c]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|l,a+=r,a>=8&&(a-=8,s[h++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},el=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},T=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Zt({prefix:e,name:t,encode(i){return el(i,n,r)},decode(i){return Qc(i,n,r,t)}});var tl=Zt({prefix:"\0",name:"identity",encode:t=>jo(t),decode:t=>Fo(t)});var yn={};k(yn,{base2:()=>rl});var rl=T({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gn={};k(gn,{base8:()=>nl});var nl=T({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mn={};k(mn,{base10:()=>il});var il=ge({prefix:"9",name:"base10",alphabet:"0123456789"});var bn={};k(bn,{base16:()=>ol,base16upper:()=>sl});var ol=T({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sl=T({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var wn={};k(wn,{base32:()=>Ve,base32hex:()=>cl,base32hexpad:()=>hl,base32hexpadupper:()=>pl,base32hexupper:()=>ll,base32pad:()=>ul,base32padupper:()=>fl,base32upper:()=>al,base32z:()=>dl});var Ve=T({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),al=T({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ul=T({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fl=T({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cl=T({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ll=T({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hl=T({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pl=T({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dl=T({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var En={};k(En,{base36:()=>yl,base36upper:()=>gl});var yl=ge({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gl=ge({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var vn={};k(vn,{base58btc:()=>re,base58flickr:()=>ml});var re=ge({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ml=ge({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var xn={};k(xn,{base64:()=>bl,base64pad:()=>wl,base64url:()=>El,base64urlpad:()=>vl});var bl=T({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wl=T({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),El=T({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vl=T({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Sn={};k(Sn,{sha256:()=>kl,sha512:()=>ql});var xl=Uo,Lo=128,_l=127,Sl=~_l,Al=Math.pow(2,31);function Uo(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Al;)e[r++]=t&255|Lo,t/=128;for(;t&Sl;)e[r++]=t&255|Lo,t>>>=7;return e[r]=t|0,Uo.bytes=r-n+1,e}var Rl=_n,Ol=128,ko=127;function _n(t,e){var r=0,e=e||0,n=0,i=e,o,s=t.length;do{if(i>=s)throw _n.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&ko)<<n:(o&ko)*Math.pow(2,n),n+=7}while(o>=Ol);return _n.bytes=i-e,r}var Bl=Math.pow(2,7),Tl=Math.pow(2,14),Il=Math.pow(2,21),Cl=Math.pow(2,28),Fl=Math.pow(2,35),jl=Math.pow(2,42),Pl=Math.pow(2,49),Nl=Math.pow(2,56),Dl=Math.pow(2,63),Ml=function(t){return t<Bl?1:t<Tl?2:t<Il?3:t<Cl?4:t<Fl?5:t<jl?6:t<Pl?7:t<Nl?8:t<Dl?9:10},Ll={encode:xl,decode:Rl,encodingLength:Ml},Ul=Ll,_t=Ul;var St=t=>[_t.decode(t),_t.decode.bytes],Ge=(t,e,r=0)=>(_t.encode(t,e,r),e),He=t=>_t.encodingLength(t);var Qt=(t,e)=>{let r=e.byteLength,n=He(t),i=n+He(r),o=new Uint8Array(i+r);return Ge(t,o,0),Ge(r,o,n),o.set(e,i),new At(t,r,e,o)},Wo=t=>{let e=fe(t),[r,n]=St(e),[i,o]=St(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new At(r,i,s,e)},Ko=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Co(t.bytes,e.bytes),At=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Rt=({name:t,code:e,encode:r})=>new $o(t,e,r),$o=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return Qt(this.code,r)}else throw Error("Unknown type, must be binary type")}};var Go=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kl=Rt({name:"sha2-256",code:18,encode:Go("SHA-256")}),ql=Rt({name:"sha2-512",code:19,encode:Go("SHA-512")});var An={};k(An,{identity:()=>Wl});var Wl=Rt({name:"identity",code:0,encode:t=>fe(t)});var gb=new TextEncoder,mb=new TextDecoder;var P=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:tr,byteLength:tr,code:er,version:er,multihash:er,bytes:er,_baseCache:tr,asCID:tr})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Ot)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Hl)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return P.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Qt(e,r);return P.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ko(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return Vl(r,i,e||re.encoder);default:return Gl(r,i,e||Ve.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Jl(/^0\.0/,Xl),!!(e&&(e[Yo]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof P)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:o}=e;return new P(r,n,i,o||Ho(r,n,i.bytes))}else if(e!=null&&e[Yo]===!0){let{version:r,multihash:n,code:i}=e,o=Wo(n);return P.create(r,i,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Ot)throw new Error(`Version 0 CID must use dag-pb (code: ${Ot}) block encoding`);return new P(e,r,n,n.bytes)}case 1:{let i=Ho(e,r,n.bytes);return new P(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return P.create(0,Ot,e)}static createV1(e,r){return P.create(1,e,r)}static decode(e){let[r,n]=P.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=P.inspectBytes(e),n=r.size-r.multihashSize,i=fe(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new At(r.multihashCode,r.digestSize,o,i);return[r.version===0?P.createV0(s):P.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,y]=St(e.subarray(r));return r+=y,l},i=n(),o=Ot;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),u=n(),h=r+u,c=h-s;return{version:i,codec:o,multihashCode:a,digestSize:u,multihashSize:c,size:h}}static parse(e,r){let[n,i]=$l(e,r),o=P.decode(i);return o._baseCache.set(n,e),o}},$l=(t,e)=>{switch(t[0]){case"Q":{let r=e||re;return[re.prefix,r.decode(`${re.prefix}${t}`)]}case re.prefix:{let r=e||re;return[re.prefix,r.decode(t)]}case Ve.prefix:{let r=e||Ve;return[Ve.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Vl=(t,e,r)=>{let{prefix:n}=r;if(n!==re.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},Gl=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},Ot=112,Hl=18,Ho=(t,e,r)=>{let n=He(t),i=n+He(e),o=new Uint8Array(i+r.byteLength);return Ge(t,o,0),Ge(e,o,n),o.set(r,i),o},Yo=Symbol.for("@ipld/js-cid/CID"),er={writable:!1,configurable:!1,enumerable:!0},tr={writable:!1,enumerable:!1,configurable:!1},Yl="0.0.0-dev",Jl=(t,e)=>{if(t.test(Yl))console.warn(e);else throw new Error(e)},Xl=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Rn={...dn,...yn,...gn,...mn,...bn,...wn,...En,...vn,...xn},Ob={...Sn,...An};function Jo(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Xo=Jo("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),On=Jo("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Zl={utf8:Xo,"utf-8":Xo,hex:Rn.base16,latin1:On,ascii:On,binary:On,...Rn},rr=Zl;function Zo(t,e="utf8"){let r=rr[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}function Qo(t,e="utf8"){let r=rr[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var ce="/",es=new TextEncoder().encode(ce),nr=es[0],B=class{constructor(e,r){if(typeof e=="string")this._buf=Qo(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==nr)throw new Error("Invalid key")}toString(e="utf8"){return Zo(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new B(e.join(ce))}static random(){return new B(To().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=es),this._buf[0]!==nr){let e=new Uint8Array(this._buf.byteLength+1);e.fill(nr,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===nr;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],s=n[i];if(o<s)return!0;if(o>s)return!1}return r.length<n.length}reverse(){return B.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(ce).slice(1)}type(){return Ql(this.baseNamespace())}name(){return eh(this.baseNamespace())}instance(e){return new B(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(ce)||(e+=ce),e+=this.type(),new B(e)}parent(){let e=this.list();return e.length===1?new B(ce):new B(e.slice(0,-1).join(ce))}child(e){return this.toString()===ce?e:e.toString()===ce?this:new B(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return B.withNamespaces([...this.namespaces(),...th(e.map(r=>r.namespaces()))])}};function Ql(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function eh(t){let e=t.split(":");return e[e.length-1]}function th(t){return[].concat(...t)}var Cn={};k(Cn,{abortedError:()=>nh,dbDeleteFailedError:()=>Tn,dbOpenFailedError:()=>Bn,dbWriteFailedError:()=>In,notFoundError:()=>ir});var Ye=j(ns());function Bn(t){return t=t||new Error("Cannot open database"),(0,Ye.default)(t,"ERR_DB_OPEN_FAILED")}function Tn(t){return t=t||new Error("Delete failed"),(0,Ye.default)(t,"ERR_DB_DELETE_FAILED")}function In(t){return t=t||new Error("Write failed"),(0,Ye.default)(t,"ERR_DB_WRITE_FAILED")}function ir(t){return t=t||new Error("Not Found"),(0,Ye.default)(t,"ERR_NOT_FOUND")}function nh(t){return t=t||new Error("Aborted"),(0,Ye.default)(t,"ERR_ABORTED")}var Mn={};k(Mn,{NextToLast:()=>Dn,PREFIX:()=>or,Prefix:()=>Pn,README_FN:()=>jn,SHARDING_FN:()=>sr,ShardBase:()=>Bt,Suffix:()=>Nn,parseShardFun:()=>is,readShardFun:()=>os,readme:()=>Fn});var Fn=`This is a repository of IPLD objects. Each IPLD object is in a single file,
named <base32 encoding of cid>.data. Where <base32 encoding of cid> is the
"base32" encoding of the CID (as specified in
https://github.com/multiformats/multibase) without the 'B' prefix.
All the object files are placed in a tree of directories, based on a
function of the CID. This is a form of sharding similar to
the objects directory in git repositories. Previously, we used
prefixes, we now use the next-to-last two charters.
    func NextToLast(base32cid string) {
      nextToLastLen := 2
      offset := len(base32cid) - nextToLastLen - 1
      return str[offset : offset+nextToLastLen]
    }
For example, an object with a base58 CIDv1 of
    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f
has a base32 CIDv1 of
    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA
and will be placed at
    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data
with 'SC' being the last-to-next two characters and the 'B' at the
beginning of the CIDv1 string is the multibase prefix that is not
stored in the filename.
`;var or="/repo/flatfs/shard/",sr="SHARDING",jn="_README",Bt=class{constructor(e){this.param=e,this.name="base",this._padding=""}fun(e){return"implement me"}toString(){return`${or}v1/${this.name}/${this.param}`}},Pn=class extends Bt{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}},Nn=class extends Bt{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){let r=this._padding+e;return r.slice(r.length-this.param)}},Dn=class extends Bt{constructor(e){super(e);this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){let r=this._padding+e,n=r.length-this.param-1;return r.slice(n,n+this.param)}};function is(t){if(t=t.trim(),t.length===0)throw new Error("empty shard string");if(!t.startsWith(or))throw new Error(`invalid or no path prefix: ${t}`);let e=t.slice(or.length).split("/"),r=e[0];if(r!=="v1")throw new Error(`expect 'v1' version, got '${r}'`);let n=e[1];if(!e[2])throw new Error("missing param");let i=parseInt(e[2],10);switch(n){case"prefix":return new Pn(i);case"suffix":return new Nn(i);case"next-to-last":return new Dn(i);default:throw new Error(`unkown sharding function: ${n}`)}}var os=async(t,e)=>{let r=new B(t).child(new B(sr)),i=await(typeof e.getRaw=="function"?e.getRaw.bind(e):e.get.bind(e))(r);return is(new TextDecoder().decode(i||"").trim())};var as=j(Ln()),ar=(t,e)=>async function*(){yield*(await(0,as.default)(t)).sort(e)}();var kn=j(Un()),Oe=j(ur()),qn=j(fr()),le=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(let{key:n,value:i}of e)await this.put(n,i,r),yield{key:n,value:i}}async*getMany(e,r={}){for await(let n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(let n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,i){e.push({key:n,value:i})},delete(n){r.push(n)},commit:async n=>{await(0,kn.default)(this.putMany(e,n)),e=[],await(0,kn.default)(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=(0,Oe.default)(n,i=>i.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,o)=>(0,Oe.default)(i,o),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,o)=>ar(i,o),n)),e.offset!=null){let i=0;n=(0,Oe.default)(n,()=>i++>=e.offset)}return e.limit!=null&&(n=(0,qn.default)(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=(0,Oe.default)(n,i=>i.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,o)=>(0,Oe.default)(i,o),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,o)=>ar(i,o),n)),e.offset!=null){let i=0;n=(0,Oe.default)(n,()=>i++>=e.offset)}return e.limit!=null&&(n=(0,qn.default)(n,e.limit)),n}};var ch=j(Wn()),lh=j(ds());var pw=new B(sr),dw=new B(jn);var dh=j(ur()),yh=j(fr()),gh=j(xs());var Bs=j(Os()),Th=j(Vn()),Ih=j(Un()),jw=(0,Bs.default)("datastore:core:tiered");var et={...Cn},Kw={...Mn};var Yt=j(ur()),qc=j(Wn()),Ro=j(fr()),Oo=j(Is()),Wc=j(kc()),Kc=class extends le{constructor(e,r){super();this.path=e,this.opts=r,r&&r.db?(this.database=r.db,delete r.db):this.database=Wc.default}_initDb(){return new Promise((e,r)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},n=>{if(n)return r(n);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw et.dbOpenFailedError(e)}}async put(e,r){try{await this.db.put(e.toString(),r)}catch(n){throw et.dbWriteFailedError(n)}}async get(e){let r;try{r=await this.db.get(e.toString())}catch(n){throw n.notFound?et.notFoundError(n):et.dbWriteFailedError(n)}return r}async has(e){try{await this.db.get(e.toString())}catch(r){if(r.notFound)return!1;throw r}return!0}async delete(e){try{await this.db.del(e.toString())}catch(r){throw et.dbDeleteFailedError(r)}}close(){return this.db&&this.db.close()}batch(){let e=[];return{put:(r,n)=>{e.push({type:"put",key:r.toString(),value:n})},delete:r=>{e.push({type:"del",key:r.toString()})},commit:()=>this.db.batch(e)}}query(e){let r=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(r=e.filters.reduce((o,s)=>(0,Yt.default)(o,s),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((o,s)=>(0,Oo.default)(o,s),r));let{offset:n,limit:i}=e;if(n){let o=0;r=(0,Yt.default)(r,()=>o++>=n)}return i&&(r=(0,Ro.default)(r,i)),r}queryKeys(e){let r=(0,qc.default)(this._query({values:!1,prefix:e.prefix}),({key:o})=>o);Array.isArray(e.filters)&&(r=e.filters.reduce((o,s)=>(0,Yt.default)(o,s),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((o,s)=>(0,Oo.default)(o,s),r));let{offset:n,limit:i}=e;if(n){let o=0;r=(0,Yt.default)(r,()=>o++>=n)}return i&&(r=(0,Ro.default)(r,i)),r}_query(e){let r={keys:!0,keyAsBuffer:!0,values:e.values};if(e.prefix!=null){let n=e.prefix.toString();r.gte=n,r.lt=n+"\xFF"}return Um(this.db.iterator(r))}};function Um(t){return{[Symbol.asyncIterator](){return{next:()=>new Promise((e,r)=>{t.next((n,i,o)=>{if(n)return r(n);if(i==null)return t.end(s=>{if(s)return r(s);e({done:!0,value:void 0})});e({done:!1,value:{key:new B(i,!1),value:o}})})}),return:()=>new Promise((e,r)=>{t.end(n=>{if(n)return r(n);e({done:!0,value:void 0})})})}}}}return km;})();
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return DatastoreLevel}));
