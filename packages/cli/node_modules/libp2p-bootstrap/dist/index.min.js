(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pBootstrap = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pBootstrap=(()=>{var ka=Object.defineProperty;var $l=e=>ka(e,"__esModule",{value:!0});var Ln=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Z=(e,t)=>()=>(e&&(t=e(e=0)),t);var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),be=(e,t)=>{$l(e);for(var r in t)ka(e,r,{get:t[r],enumerable:!0})};function Na(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Ql;)t[r++]=e&255|Ka,e/=128;for(;e&Wl;)t[r++]=e&255|Ka,e>>>=7;return t[r]=e|0,Na.bytes=r-n+1,t}function Xi(e,t){var r=0,t=t||0,n=0,i=t,s,a=e.length;do{if(i>=a)throw Xi.bytes=0,new RangeError("Could not decode varint");s=e[i++],r+=n<28?(s&La)<<n:(s&La)*Math.pow(2,n),n+=7}while(s>=Zl);return Xi.bytes=i-t,r}var Gl,Ka,jl,Wl,Ql,Yl,Zl,La,Xl,Jl,eh,th,rh,nh,ih,sh,ah,oh,uh,ch,jr,qa=Z(()=>{Gl=Na,Ka=128,jl=127,Wl=~jl,Ql=Math.pow(2,31);Yl=Xi,Zl=128,La=127;Xl=Math.pow(2,7),Jl=Math.pow(2,14),eh=Math.pow(2,21),th=Math.pow(2,28),rh=Math.pow(2,35),nh=Math.pow(2,42),ih=Math.pow(2,49),sh=Math.pow(2,56),ah=Math.pow(2,63),oh=function(e){return e<Xl?1:e<Jl?2:e<eh?3:e<th?4:e<rh?5:e<nh?6:e<ih?7:e<sh?8:e<ah?9:10},uh={encode:Gl,decode:Yl,encodingLength:oh},ch=uh,jr=ch});var Wr,dr,yr,qn=Z(()=>{qa();Wr=e=>[jr.decode(e),jr.decode.bytes],dr=(e,t,r=0)=>(jr.encode(e,t,r),t),yr=e=>jr.encodingLength(e)});var Ng,Ua,xt,Oa,Ma,It=Z(()=>{Ng=new Uint8Array(0),Ua=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},xt=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Oa=e=>new TextEncoder().encode(e),Ma=e=>new TextDecoder().decode(e)});var Yr={};be(Yr,{Digest:()=>gr,create:()=>Qr,decode:()=>Ji,equals:()=>es});var Qr,Ji,es,gr,vr=Z(()=>{It();qn();Qr=(e,t)=>{let r=t.byteLength,n=yr(e),i=n+yr(r),s=new Uint8Array(i+r);return dr(e,s,0),dr(r,s,n),s.set(t,i),new gr(e,r,t,s)},Ji=e=>{let t=xt(e),[r,n]=Wr(t),[i,s]=Wr(t.subarray(n)),a=t.subarray(n+s);if(a.byteLength!==i)throw new Error("Incorrect length");return new gr(r,i,a,t)},es=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Ua(e.bytes,t.bytes),gr=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}});function fh(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,v=0,m=0,S=p.length;m!==S&&p[m]===0;)m++,g++;for(var A=(S-m)*f+1>>>0,k=new Uint8Array(A);m!==S;){for(var _=p[m],I=0,M=A-1;(_!==0||I<v)&&M!==-1;M--,I++)_+=256*k[M]>>>0,k[M]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");v=I,m++}for(var V=A-v;V!==A&&k[V]===0;)V++;for(var pe=c.repeat(g);V<A;++V)pe+=e.charAt(k[V]);return pe}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var v=0,m=0;p[g]===c;)v++,g++;for(var S=(p.length-g)*u+1>>>0,A=new Uint8Array(S);p[g];){var k=r[p.charCodeAt(g)];if(k===255)return;for(var _=0,I=S-1;(k!==0||_<m)&&I!==-1;I--,_++)k+=o*A[I]>>>0,A[I]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=_,g++}if(p[g]!==" "){for(var M=S-m;M!==S&&A[M]===0;)M++;for(var V=new Uint8Array(v+(S-M)),pe=v;M!==S;)V[pe++]=A[M++];return V}}}function y(p){var g=h(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:y}}var lh,hh,za,Ha=Z(()=>{lh=fh,hh=lh,za=hh});var $a,Ga,ja,Wa,Qa,Fn,_t,ph,dh,ue,rt=Z(()=>{Ha();It();$a=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Ga=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseDecode=n}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){return Wa(this,t)}},ja=class{constructor(t){this.decoders=t}or(t){return Wa(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Wa=(e,t)=>new ja({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qa=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new $a(t,r,n),this.decoder=new Ga(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},Fn=({name:e,prefix:t,encode:r,decode:n})=>new Qa(e,t,r,n),_t=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=za(r,t);return Fn({prefix:e,name:t,encode:n,decode:s=>xt(i(s))})},ph=(e,t,r,n)=>{let i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let s=e.length;for(;e[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),o=0,c=0,u=0;for(let f=0;f<s;++f){let l=i[e[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,o+=r,o>=8&&(o-=8,a[u++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},dh=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,s="",a=0,o=0;for(let c=0;c<e.length;++c)for(o=o<<8|e[c],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},ue=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Fn({prefix:t,name:e,encode(i){return dh(i,n,r)},decode(i){return ph(i,n,r,e)}})});var Rt={};be(Rt,{base58btc:()=>nt,base58flickr:()=>yh});var nt,yh,Pt=Z(()=>{rt();nt=_t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yh=_t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var mr={};be(mr,{base32:()=>xr,base32hex:()=>mh,base32hexpad:()=>wh,base32hexpadupper:()=>Sh,base32hexupper:()=>bh,base32pad:()=>vh,base32padupper:()=>xh,base32upper:()=>gh,base32z:()=>Eh});var xr,gh,vh,xh,mh,bh,wh,Sh,Eh,br=Z(()=>{rt();xr=ue({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gh=ue({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vh=ue({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xh=ue({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mh=ue({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bh=ue({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wh=ue({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Sh=ue({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Eh=ue({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Mn={};be(Mn,{CID:()=>de});var de,Bh,Ch,Ah,Zr,Th,Ya,Za,Un,On,Ih,_h,Rh,Xr=Z(()=>{qn();vr();Pt();br();It();de=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:On,byteLength:On,code:Un,version:Un,multihash:Un,bytes:Un,_baseCache:On,asCID:On})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==Zr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Th)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return de.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Qr(t,r);return de.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&es(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return Ch(r,i,t||nt.encoder);default:return Ah(r,i,t||xr.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return _h(/^0\.0/,Rh),!!(t&&(t[Za]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof de)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:i,bytes:s}=t;return new de(r,n,i,s||Ya(r,n,i.bytes))}else if(t!=null&&t[Za]===!0){let{version:r,multihash:n,code:i}=t,s=Ji(n);return de.create(r,i,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==Zr)throw new Error(`Version 0 CID must use dag-pb (code: ${Zr}) block encoding`);return new de(t,r,n,n.bytes)}case 1:{let i=Ya(t,r,n.bytes);return new de(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return de.create(0,Zr,t)}static createV1(t,r){return de.create(1,t,r)}static decode(t){let[r,n]=de.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=de.inspectBytes(t),n=r.size-r.multihashSize,i=xt(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),a=new gr(r.multihashCode,r.digestSize,s,i);return[r.version===0?de.createV0(a):de.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[l,h]=Wr(t.subarray(r));return r+=h,l},i=n(),s=Zr;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,o=n(),c=n(),u=r+c,f=u-a;return{version:i,codec:s,multihashCode:o,digestSize:c,multihashSize:f,size:u}}static parse(t,r){let[n,i]=Bh(t,r),s=de.decode(i);return s._baseCache.set(n,t),s}},Bh=(e,t)=>{switch(e[0]){case"Q":{let r=t||nt;return[nt.prefix,r.decode(`${nt.prefix}${e}`)]}case nt.prefix:{let r=t||nt;return[nt.prefix,r.decode(e)]}case xr.prefix:{let r=t||xr;return[xr.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Ch=(e,t,r)=>{let{prefix:n}=r;if(n!==nt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return i},Ah=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let s=r.encode(e);return t.set(n,s),s}else return i},Zr=112,Th=18,Ya=(e,t,r)=>{let n=yr(e),i=n+yr(t),s=new Uint8Array(i+r.byteLength);return dr(e,s,0),dr(t,s,n),s.set(r,i),s},Za=Symbol.for("@ipld/js-cid/CID"),Un={writable:!1,configurable:!1,enumerable:!0},On={writable:!1,enumerable:!1,configurable:!1},Ih="0.0.0-dev",_h=(e,t)=>{if(e.test(Ih))console.warn(t);else throw new Error(t)},Rh=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Vn={};be(Vn,{base36:()=>Ph,base36upper:()=>Dh});var Ph,Dh,ts=Z(()=>{rt();Ph=_t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Dh=_t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var wr={};be(wr,{base64:()=>kh,base64pad:()=>Kh,base64url:()=>Nh,base64urlpad:()=>Lh});var kh,Kh,Nh,Lh,Jr=Z(()=>{rt();kh=ue({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kh=ue({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nh=ue({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Lh=ue({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var zn={};be(zn,{base16:()=>qh,base16upper:()=>Fh});var qh,Fh,rs=Z(()=>{rt();qh=ue({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fh=ue({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Ja=C((Xg,Xa)=>{"use strict";Xa.exports=Uh;function Uh(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,c){r[n]=function(f){if(s)if(s=!1,f)c(f);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];o.apply(null,l)}};try{e.apply(t||null,r)}catch(u){s&&(s=!1,c(u))}})}});var no=C(ro=>{"use strict";var Hn=ro;Hn.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Sr=new Array(64),eo=new Array(123);for(Qe=0;Qe<64;)eo[Sr[Qe]=Qe<26?Qe+65:Qe<52?Qe+71:Qe<62?Qe-4:Qe-59|43]=Qe++;var Qe;Hn.encode=function(t,r,n){for(var i=null,s=[],a=0,o=0,c;r<n;){var u=t[r++];switch(o){case 0:s[a++]=Sr[u>>2],c=(u&3)<<4,o=1;break;case 1:s[a++]=Sr[c|u>>4],c=(u&15)<<2,o=2;break;case 2:s[a++]=Sr[c|u>>6],s[a++]=Sr[u&63],o=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return o&&(s[a++]=Sr[c],s[a++]=61,o===1&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var to="invalid encoding";Hn.decode=function(t,r,n){for(var i=n,s=0,a,o=0;o<t.length;){var c=t.charCodeAt(o++);if(c===61&&s>1)break;if((c=eo[c])===void 0)throw Error(to);switch(s){case 0:a=c,s=1;break;case 1:r[n++]=a<<2|(c&48)>>4,a=c,s=2;break;case 2:r[n++]=(a&15)<<4|(c&60)>>2,a=c,s=3;break;case 3:r[n++]=(a&3)<<6|c,s=0;break}}if(s===1)throw Error(to);return n-i};Hn.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var so=C((ev,io)=>{"use strict";io.exports=$n;function $n(){this._listeners={}}$n.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};$n.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};$n.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var ho=C((tv,lo)=>{"use strict";lo.exports=ao(ao);function ao(e){return typeof Float32Array!="undefined"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3]}function s(c,u,f){t[0]=c,u[f]=r[3],u[f+1]=r[2],u[f+2]=r[1],u[f+3]=r[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],t[0]}function o(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],t[0]}e.readFloatLE=n?a:o,e.readFloatBE=n?o:a}():function(){function t(n,i,s,a){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,s,a);else if(isNaN(i))n(2143289344,s,a);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,s,a);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,s,a);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((o<<31|c+127<<23|u)>>>0,s,a)}}e.writeFloatLE=t.bind(null,oo),e.writeFloatBE=t.bind(null,uo);function r(n,i,s){var a=n(i,s),o=(a>>31)*2+1,c=a>>>23&255,u=a&8388607;return c===255?u?NaN:o*(1/0):c===0?o*1401298464324817e-60*u:o*Math.pow(2,c-150)*(u+8388608)}e.readFloatLE=r.bind(null,co),e.readFloatBE=r.bind(null,fo)}(),typeof Float64Array!="undefined"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(c,u,f){t[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3],u[f+4]=r[4],u[f+5]=r[5],u[f+6]=r[6],u[f+7]=r[7]}function s(c,u,f){t[0]=c,u[f]=r[7],u[f+1]=r[6],u[f+2]=r[5],u[f+3]=r[4],u[f+4]=r[3],u[f+5]=r[2],u[f+6]=r[1],u[f+7]=r[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],t[0]}function o(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],t[0]}e.readDoubleLE=n?a:o,e.readDoubleBE=n?o:a}():function(){function t(n,i,s,a,o,c){var u=a<0?1:0;if(u&&(a=-a),a===0)n(0,o,c+i),n(1/a>0?0:2147483648,o,c+s);else if(isNaN(a))n(0,o,c+i),n(2146959360,o,c+s);else if(a>17976931348623157e292)n(0,o,c+i),n((u<<31|2146435072)>>>0,o,c+s);else{var f;if(a<22250738585072014e-324)f=a/5e-324,n(f>>>0,o,c+i),n((u<<31|f/4294967296)>>>0,o,c+s);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),f=a*Math.pow(2,-l),n(f*4503599627370496>>>0,o,c+i),n((u<<31|l+1023<<20|f*1048576&1048575)>>>0,o,c+s)}}}e.writeDoubleLE=t.bind(null,oo,0,4),e.writeDoubleBE=t.bind(null,uo,4,0);function r(n,i,s,a,o){var c=n(a,o+i),u=n(a,o+s),f=(u>>31)*2+1,l=u>>>20&2047,h=4294967296*(u&1048575)+c;return l===2047?h?NaN:f*(1/0):l===0?f*5e-324*h:f*Math.pow(2,l-1075)*(h+4503599627370496)}e.readDoubleLE=r.bind(null,co,0,4),e.readDoubleBE=r.bind(null,fo,4,0)}(),e}function oo(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function uo(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function co(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function fo(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var po=C((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var go=C(yo=>{"use strict";var ns=yo;ns.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(t.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};ns.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var s=null,a=[],o=0,c;r<n;)c=t[r++],c<128?a[o++]=c:c>191&&c<224?a[o++]=(c&31)<<6|t[r++]&63:c>239&&c<365?(c=((c&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,a[o++]=55296+(c>>10),a[o++]=56320+(c&1023)):a[o++]=(c&15)<<12|(t[r++]&63)<<6|t[r++]&63,o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};ns.write=function(t,r,n){for(var i=n,s,a,o=0;o<t.length;++o)s=t.charCodeAt(o),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((a=t.charCodeAt(o+1))&64512)==56320?(s=65536+((s&1023)<<10)+(a&1023),++o,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var xo=C((nv,vo)=>{"use strict";vo.exports=Oh;function Oh(e,t,r){var n=r||8192,i=n>>>1,s=null,a=n;return function(c){if(c<1||c>i)return e(c);a+c>n&&(s=e(n),a=0);var u=t.call(s,a,a+=c);return a&7&&(a=(a|7)+1),u}}});var bo=C((iv,mo)=>{"use strict";mo.exports=ge;var en=kt();function ge(e,t){this.lo=e>>>0,this.hi=t>>>0}var Qt=ge.zero=new ge(0,0);Qt.toNumber=function(){return 0};Qt.zzEncode=Qt.zzDecode=function(){return this};Qt.length=function(){return 1};var Mh=ge.zeroHash="\0\0\0\0\0\0\0\0";ge.fromNumber=function(t){if(t===0)return Qt;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new ge(n,i)};ge.from=function(t){if(typeof t=="number")return ge.fromNumber(t);if(en.isString(t))if(en.Long)t=en.Long.fromString(t);else return ge.fromNumber(parseInt(t,10));return t.low||t.high?new ge(t.low>>>0,t.high>>>0):Qt};ge.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};ge.prototype.toLong=function(t){return en.Long?new en.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var Dt=String.prototype.charCodeAt;ge.fromHash=function(t){return t===Mh?Qt:new ge((Dt.call(t,0)|Dt.call(t,1)<<8|Dt.call(t,2)<<16|Dt.call(t,3)<<24)>>>0,(Dt.call(t,4)|Dt.call(t,5)<<8|Dt.call(t,6)<<16|Dt.call(t,7)<<24)>>>0)};ge.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ge.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};ge.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};ge.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var kt=C(is=>{"use strict";var D=is;D.asPromise=Ja();D.base64=no();D.EventEmitter=so();D.float=ho();D.inquire=po();D.utf8=go();D.pool=xo();D.LongBits=bo();D.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);D.global=D.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||is;D.emptyArray=Object.freeze?Object.freeze([]):[];D.emptyObject=Object.freeze?Object.freeze({}):{};D.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};D.isString=function(t){return typeof t=="string"||t instanceof String};D.isObject=function(t){return t&&typeof t=="object"};D.isset=D.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};D.Buffer=function(){try{var e=D.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}();D._Buffer_from=null;D._Buffer_allocUnsafe=null;D.newBuffer=function(t){return typeof t=="number"?D.Buffer?D._Buffer_allocUnsafe(t):new D.Array(t):D.Buffer?D._Buffer_from(t):typeof Uint8Array=="undefined"?t:new Uint8Array(t)};D.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;D.Long=D.global.dcodeIO&&D.global.dcodeIO.Long||D.global.Long||D.inquire("long");D.key2Re=/^true|false|0|1$/;D.key32Re=/^-?(?:0|[1-9][0-9]*)$/;D.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;D.longToHash=function(t){return t?D.LongBits.from(t).toHash():D.LongBits.zeroHash};D.longFromHash=function(t,r){var n=D.LongBits.fromHash(t);return D.Long?D.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function wo(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}D.merge=wo;D.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function So(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&wo(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}D.newError=So;D.ProtocolError=So("ProtocolError");D.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};D.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};D.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};D._configure=function(){var e=D.Buffer;if(!e){D._Buffer_from=D._Buffer_allocUnsafe=null;return}D._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},D._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var ls=C((av,Ao)=>{"use strict";Ao.exports=H;var qe=kt(),ss,Gn=qe.LongBits,Eo=qe.base64,Bo=qe.utf8;function tn(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function as(){}function Vh(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function H(){this.len=0,this.head=new tn(as,0,0),this.tail=this.head,this.states=null}var Co=function(){return qe.Buffer?function(){return(H.create=function(){return new ss})()}:function(){return new H}};H.create=Co();H.alloc=function(t){return new qe.Array(t)};qe.Array!==Array&&(H.alloc=qe.pool(H.alloc,qe.Array.prototype.subarray));H.prototype._push=function(t,r,n){return this.tail=this.tail.next=new tn(t,r,n),this.len+=r,this};function os(e,t,r){t[r]=e&255}function zh(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function us(e,t){this.len=e,this.next=void 0,this.val=t}us.prototype=Object.create(tn.prototype);us.prototype.fn=zh;H.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new us((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};H.prototype.int32=function(t){return t<0?this._push(cs,10,Gn.fromNumber(t)):this.uint32(t)};H.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function cs(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}H.prototype.uint64=function(t){var r=Gn.from(t);return this._push(cs,r.length(),r)};H.prototype.int64=H.prototype.uint64;H.prototype.sint64=function(t){var r=Gn.from(t).zzEncode();return this._push(cs,r.length(),r)};H.prototype.bool=function(t){return this._push(os,1,t?1:0)};function fs(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}H.prototype.fixed32=function(t){return this._push(fs,4,t>>>0)};H.prototype.sfixed32=H.prototype.fixed32;H.prototype.fixed64=function(t){var r=Gn.from(t);return this._push(fs,4,r.lo)._push(fs,4,r.hi)};H.prototype.sfixed64=H.prototype.fixed64;H.prototype.float=function(t){return this._push(qe.float.writeFloatLE,4,t)};H.prototype.double=function(t){return this._push(qe.float.writeDoubleLE,8,t)};var Hh=qe.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};H.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(os,1,0);if(qe.isString(t)){var n=H.alloc(r=Eo.length(t));Eo.decode(t,n,0),t=n}return this.uint32(r)._push(Hh,r,t)};H.prototype.string=function(t){var r=Bo.length(t);return r?this.uint32(r)._push(Bo.write,r,t):this._push(os,1,0)};H.prototype.fork=function(){return this.states=new Vh(this),this.head=this.tail=new tn(as,0,0),this.len=0,this};H.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new tn(as,0,0),this.len=0),this};H.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};H.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};H._configure=function(e){ss=e,H.create=Co(),ss._configure()}});var _o=C((ov,Io)=>{"use strict";Io.exports=it;var To=ls();(it.prototype=Object.create(To.prototype)).constructor=it;var Kt=kt();function it(){To.call(this)}it._configure=function(){it.alloc=Kt._Buffer_allocUnsafe,it.writeBytesBuffer=Kt.Buffer&&Kt.Buffer.prototype instanceof Uint8Array&&Kt.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};it.prototype.bytes=function(t){Kt.isString(t)&&(t=Kt._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(it.writeBytesBuffer,r,t),this};function $h(e,t,r){e.length<40?Kt.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}it.prototype.string=function(t){var r=Kt.Buffer.byteLength(t);return this.uint32(r),r&&this._push($h,r,t),this};it._configure()});var ds=C((uv,Ko)=>{"use strict";Ko.exports=ce;var st=kt(),hs,Ro=st.LongBits,Gh=st.utf8;function Ye(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function ce(e){this.buf=e,this.pos=0,this.len=e.length}var Po=typeof Uint8Array!="undefined"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new ce(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new ce(t);throw Error("illegal buffer")},Do=function(){return st.Buffer?function(r){return(ce.create=function(i){return st.Buffer.isBuffer(i)?new hs(i):Po(i)})(r)}:Po};ce.create=Do();ce.prototype._slice=st.Array.prototype.subarray||st.Array.prototype.slice;ce.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Ye(this,10);return t}}();ce.prototype.int32=function(){return this.uint32()|0};ce.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function ps(){var e=new Ro(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Ye(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Ye(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}ce.prototype.bool=function(){return this.uint32()!==0};function jn(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}ce.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ye(this,4);return jn(this.buf,this.pos+=4)};ce.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ye(this,4);return jn(this.buf,this.pos+=4)|0};function ko(){if(this.pos+8>this.len)throw Ye(this,8);return new Ro(jn(this.buf,this.pos+=4),jn(this.buf,this.pos+=4))}ce.prototype.float=function(){if(this.pos+4>this.len)throw Ye(this,4);var t=st.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};ce.prototype.double=function(){if(this.pos+8>this.len)throw Ye(this,4);var t=st.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};ce.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Ye(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};ce.prototype.string=function(){var t=this.bytes();return Gh.read(t,0,t.length)};ce.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Ye(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Ye(this);while(this.buf[this.pos++]&128);return this};ce.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};ce._configure=function(e){hs=e,ce.create=Do(),hs._configure();var t=st.Long?"toLong":"toNumber";st.merge(ce.prototype,{int64:function(){return ps.call(this)[t](!1)},uint64:function(){return ps.call(this)[t](!0)},sint64:function(){return ps.call(this).zzDecode()[t](!1)},fixed64:function(){return ko.call(this)[t](!0)},sfixed64:function(){return ko.call(this)[t](!1)}})}});var Fo=C((cv,qo)=>{"use strict";qo.exports=Yt;var No=ds();(Yt.prototype=Object.create(No.prototype)).constructor=Yt;var Lo=kt();function Yt(e){No.call(this,e)}Yt._configure=function(){Lo.Buffer&&(Yt.prototype._slice=Lo.Buffer.prototype.slice)};Yt.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Yt._configure()});var Oo=C((fv,Uo)=>{"use strict";Uo.exports=rn;var ys=kt();(rn.prototype=Object.create(ys.EventEmitter.prototype)).constructor=rn;function rn(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");ys.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}rn.prototype.rpcCall=function e(t,r,n,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return ys.asPromise(e,a,t,r,n,i);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,u){if(c)return a.emit("error",c,t),s(c);if(u===null){a.end(!0);return}if(!(u instanceof n))try{u=n[a.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return a.emit("error",f,t),s(f)}return a.emit("data",u,t),s(null,u)})}catch(o){a.emit("error",o,t),setTimeout(function(){s(o)},0);return}};rn.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Vo=C(Mo=>{"use strict";var jh=Mo;jh.Service=Oo()});var Ho=C((hv,zo)=>{"use strict";zo.exports={}});var jo=C(Go=>{"use strict";var Pe=Go;Pe.build="minimal";Pe.Writer=ls();Pe.BufferWriter=_o();Pe.Reader=ds();Pe.BufferReader=Fo();Pe.util=kt();Pe.rpc=Vo();Pe.roots=Ho();Pe.configure=$o;function $o(){Pe.util._configure(),Pe.Writer._configure(Pe.BufferWriter),Pe.Reader._configure(Pe.BufferReader)}$o()});var gs=C((dv,Wo)=>{"use strict";Wo.exports=jo()});var Qn=C((yv,Yo)=>{"use strict";var Zt=gs(),Wn=Zt.Reader,Qo=Zt.Writer,we=Zt.util,Fe=Zt.roots["libp2p-crypto-keys"]||(Zt.roots["libp2p-crypto-keys"]={});Fe.KeyType=function(){var e={},t=Object.create(e);return t[e[0]="RSA"]=0,t[e[1]="Ed25519"]=1,t[e[2]="Secp256k1"]=2,t}();Fe.PublicKey=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=we.newBuffer([]),e.encode=function(r,n){return n||(n=Qo.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},e.decode=function(r,n){r instanceof Wn||(r=Wn.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new Fe.PublicKey;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw we.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw we.ProtocolError("missing required 'Data'",{instance:s});return s},e.fromObject=function(r){if(r instanceof Fe.PublicKey)return r;var n=new Fe.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?we.base64.decode(r.Data,n.Data=we.newBuffer(we.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=we.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?Fe.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?we.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,Zt.util.toJSONOptions)},e}();Fe.PrivateKey=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=we.newBuffer([]),e.encode=function(r,n){return n||(n=Qo.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},e.decode=function(r,n){r instanceof Wn||(r=Wn.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new Fe.PrivateKey;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw we.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw we.ProtocolError("missing required 'Data'",{instance:s});return s},e.fromObject=function(r){if(r instanceof Fe.PrivateKey)return r;var n=new Fe.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?we.base64.decode(r.Data,n.Data=we.newBuffer(we.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=we.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?Fe.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?we.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,Zt.util.toJSONOptions)},e}();Yo.exports=Fe});var X=C((gv,Zo)=>{Zo.exports={options:{usePureJavaScript:!1}}});var e0=C((vv,Jo)=>{var vs={};Jo.exports=vs;var Xo={};vs.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Wh(e,t);else{var i=0,s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<o.length;++c)u+=o[c]<<8,o[c]=u%s,u=u/s|0;for(;u>0;)o.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};vs.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Xo[t];if(!r){r=Xo[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var o=r[e.charCodeAt(n)];if(o===void 0)return;for(var c=0,u=o;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer!="undefined"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Wh(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,o=e.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}});var le=C((xv,i0)=>{var t0=X(),r0=e0(),d=i0.exports=t0.util=t0.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){d.nextTick=process.nextTick,typeof setImmediate=="function"?d.setImmediate=setImmediate:d.setImmediate=d.nextTick;return}if(typeof setImmediate=="function"){d.setImmediate=function(){return setImmediate.apply(void 0,arguments)},d.nextTick=function(o){return setImmediate(o)};return}if(d.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=o,e="forge.setImmediate",t=[];d.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=d.setImmediate;d.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}d.nextTick=d.setImmediate})();d.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;d.globalScope=function(){return d.isNodejs?globalThis:typeof self=="undefined"?window:self}();d.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};d.isArrayBuffer=function(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer};d.isArrayBufferView=function(e){return e&&d.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function nn(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}d.ByteBuffer=xs;function xs(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(d.isArrayBuffer(e)||d.isArrayBufferView(e))if(typeof Buffer!="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(n){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof xs||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}d.ByteStringBuffer=xs;var Qh=4096;d.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Qh&&(this.data.substr(0,1),this._constructedStringLength=0)};d.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};d.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};d.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};d.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};d.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};d.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(d.encodeUtf8(e))};d.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};d.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};d.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};d.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};d.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};d.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};d.ByteStringBuffer.prototype.putInt=function(e,t){nn(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};d.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};d.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};d.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};d.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};d.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};d.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};d.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};d.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};d.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};d.ByteStringBuffer.prototype.getInt=function(e){nn(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};d.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};d.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};d.ByteStringBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};d.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};d.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};d.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};d.ByteStringBuffer.prototype.copy=function(){var e=d.createBuffer(this.data);return e.read=this.read,e};d.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};d.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};d.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};d.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};d.ByteStringBuffer.prototype.toString=function(){return d.decodeUtf8(this.bytes())};function Yh(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=d.isArrayBuffer(e),n=d.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}d.DataBuffer=Yh;d.DataBuffer.prototype.length=function(){return this.write-this.read};d.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};d.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};d.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};d.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};d.DataBuffer.prototype.putBytes=function(e,t){if(d.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(d.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof d.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&d.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof d.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=d.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=d.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};d.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};d.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};d.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};d.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};d.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};d.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};d.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};d.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};d.DataBuffer.prototype.putInt=function(e,t){nn(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};d.DataBuffer.prototype.putSignedInt=function(e,t){return nn(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};d.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};d.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};d.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};d.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};d.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};d.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};d.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};d.DataBuffer.prototype.getInt=function(e){nn(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};d.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};d.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};d.DataBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};d.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};d.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};d.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};d.DataBuffer.prototype.copy=function(){return new d.DataBuffer(this)};d.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};d.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};d.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};d.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};d.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return d.binary.raw.encode(t);if(e==="hex")return d.binary.hex.encode(t);if(e==="base64")return d.binary.base64.encode(t);if(e==="utf8")return d.text.utf8.decode(t);if(e==="utf16")return d.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};d.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=d.encodeUtf8(e)),new d.ByteBuffer(e)};d.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};d.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s,n};d.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};d.bytesToHex=function(e){return d.createBuffer(e).toHex()};d.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Lt=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],n0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";d.encode64=function(e,t){for(var r="",n="",i,s,a,o=0;o<e.length;)i=e.charCodeAt(o++),s=e.charCodeAt(o++),a=e.charCodeAt(o++),r+=Nt.charAt(i>>2),r+=Nt.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Nt.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Nt.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};d.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=Lt[e.charCodeAt(a++)-43],n=Lt[e.charCodeAt(a++)-43],i=Lt[e.charCodeAt(a++)-43],s=Lt[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};d.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};d.decodeUtf8=function(e){return decodeURIComponent(escape(e))};d.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r0.encode,decode:r0.decode}};d.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};d.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};d.binary.hex.encode=d.bytesToHex;d.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};d.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,o=0;o<e.byteLength;)i=e[o++],s=e[o++],a=e[o++],r+=Nt.charAt(i>>2),r+=Nt.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Nt.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Nt.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};d.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,o,c=0,u=r;c<e.length;)i=Lt[e.charCodeAt(c++)-43],s=Lt[e.charCodeAt(c++)-43],a=Lt[e.charCodeAt(c++)-43],o=Lt[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,o!==64&&(n[u++]=(a&3)<<6|o));return t?u-r:n.subarray(0,u)};d.binary.base58.encode=function(e,t){return d.binary.baseN.encode(e,n0,t)};d.binary.base58.decode=function(e,t){return d.binary.baseN.decode(e,n0,t)};d.text={utf8:{},utf16:{}};d.text.utf8.encode=function(e,t,r){e=d.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};d.text.utf8.decode=function(e){return d.decodeUtf8(String.fromCharCode.apply(null,e))};d.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o),s+=2;return t?s-r:n};d.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};d.deflate=function(e,t,r){if(t=d.decode64(e.deflate(d.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};d.inflate=function(e,t,r){var n=e.inflate(d.encode64(t)).rval;return n===null?null:d.decode64(n)};var ms=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=d.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},bs=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(d.decode64(r))),r},Zh=function(e,t,r,n){var i=bs(e,t);i===null&&(i={}),i[r]=n,ms(e,t,i)},Xh=function(e,t,r){var n=bs(e,t);return n!==null&&(n=r in n?n[r]:null),n},Jh=function(e,t,r){var n=bs(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),ms(e,t,n)}},ep=function(e,t){ms(e,t,null)},Yn=function(e,t,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,s=!1,a=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n};d.setItem=function(e,t,r,n,i){Yn(Zh,arguments,i)};d.getItem=function(e,t,r,n){return Yn(Xh,arguments,n)};d.removeItem=function(e,t,r,n){Yn(Jh,arguments,n)};d.clearItems=function(e,t,r){Yn(ep,arguments,r)};d.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=r===null?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var Zn=null;d.getQueryVariables=function(e){var t=function(n){for(var i={},s=n.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("="),c,u;o>0?(c=s[a].substring(0,o),u=s[a].substring(o+1)):(c=s[a],u=null),c in i||(i[c]=[]),!(c in Object.prototype)&&u!==null&&i[c].push(unescape(u))}return i},r;return typeof e=="undefined"?(Zn===null&&(typeof window!="undefined"&&window.location&&window.location.search?Zn=t(window.location.search.substring(1)):Zn={}),r=Zn):r=t(e),r};d.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");i.length>0&&i[0]===""&&i.shift();var s=r===""?{}:d.getQueryVariables(r);return{pathString:t,queryString:r,path:i,query:s}};d.makeRequest=function(e){var t=d.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(n){return typeof n=="undefined"?t.path:t.path[n]},getQuery:function(n,i){var s;return typeof n=="undefined"?s=t.query:(s=t.query[n],s&&typeof i!="undefined"&&(s=s[i])),s},getQueryLast:function(n,i){var s,a=r.getQuery(n);return a?s=a[a.length-1]:s=i,s}};return r};d.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};d.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};d.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(a)),s.join("")};d.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,o=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+o:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};d.formatSize=function(e){return e>=1073741824?e=d.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=d.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=d.formatNumber(e/1024,0)+" KiB":e=d.formatNumber(e,0)+" bytes",e};d.bytesFromIP=function(e){return e.indexOf(".")!==-1?d.bytesFromIPv4(e):e.indexOf(":")!==-1?d.bytesFromIPv6(e):null};d.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=d.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};d.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=d.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=d.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};d.bytesToIP=function(e){return e.length===4?d.bytesToIPv4(e):e.length===16?d.bytesToIPv6(e):null};d.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};d.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=d.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],o=t.length;!a||o!==a.end+1?r.push({start:o,end:o}):(a.end=o,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};d.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in d&&!e.update)return t(null,d.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return d.cores=navigator.hardwareConcurrency,t(null,d.cores);if(typeof Worker=="undefined")return d.cores=1,t(null,d.cores);if(typeof Blob=="undefined")return d.cores=2,t(null,d.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var o=Date.now(),c=o+4;Date.now()<c;);self.postMessage({st:o,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,o,c){if(o===0){var u=Math.floor(a.reduce(function(f,l){return f+l},0)/a.length);return d.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,d.cores)}i(c,function(f,l){a.push(s(c,l)),n(a,o-1,c)})}function i(a,o){for(var c=[],u=[],f=0;f<a;++f){var l=new Worker(r);l.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var y=0;y<a;++y)c[y].terminate();o(null,u)}}),c.push(l)}for(var f=0;f<a;++f)c[f].postMessage(f)}function s(a,o){for(var c=[],u=0;u<a;++u)for(var f=o[u],l=c[u]=[],h=0;h<a;++h)if(u!==h){var y=o[h];(f.st>y.st&&f.st<y.et||y.st>f.st&&y.st<f.et)&&l.push(h)}return c.reduce(function(p,g){return Math.max(p,g.length)},0)}}});var Xn=C((mv,s0)=>{var sn=X();sn.pki=sn.pki||{};var ws=s0.exports=sn.pki.oids=sn.oids=sn.oids||{};function B(e,t){ws[e]=t,ws[t]=e}function W(e,t){ws[e]=t}B("1.2.840.113549.1.1.1","rsaEncryption");B("1.2.840.113549.1.1.4","md5WithRSAEncryption");B("1.2.840.113549.1.1.5","sha1WithRSAEncryption");B("1.2.840.113549.1.1.7","RSAES-OAEP");B("1.2.840.113549.1.1.8","mgf1");B("1.2.840.113549.1.1.9","pSpecified");B("1.2.840.113549.1.1.10","RSASSA-PSS");B("1.2.840.113549.1.1.11","sha256WithRSAEncryption");B("1.2.840.113549.1.1.12","sha384WithRSAEncryption");B("1.2.840.113549.1.1.13","sha512WithRSAEncryption");B("1.3.101.112","EdDSA25519");B("1.2.840.10040.4.3","dsa-with-sha1");B("1.3.14.3.2.7","desCBC");B("1.3.14.3.2.26","sha1");B("2.16.840.1.101.3.4.2.1","sha256");B("2.16.840.1.101.3.4.2.2","sha384");B("2.16.840.1.101.3.4.2.3","sha512");B("1.2.840.113549.2.5","md5");B("1.2.840.113549.1.7.1","data");B("1.2.840.113549.1.7.2","signedData");B("1.2.840.113549.1.7.3","envelopedData");B("1.2.840.113549.1.7.4","signedAndEnvelopedData");B("1.2.840.113549.1.7.5","digestedData");B("1.2.840.113549.1.7.6","encryptedData");B("1.2.840.113549.1.9.1","emailAddress");B("1.2.840.113549.1.9.2","unstructuredName");B("1.2.840.113549.1.9.3","contentType");B("1.2.840.113549.1.9.4","messageDigest");B("1.2.840.113549.1.9.5","signingTime");B("1.2.840.113549.1.9.6","counterSignature");B("1.2.840.113549.1.9.7","challengePassword");B("1.2.840.113549.1.9.8","unstructuredAddress");B("1.2.840.113549.1.9.14","extensionRequest");B("1.2.840.113549.1.9.20","friendlyName");B("1.2.840.113549.1.9.21","localKeyId");B("1.2.840.113549.1.9.22.1","x509Certificate");B("1.2.840.113549.1.12.10.1.1","keyBag");B("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");B("1.2.840.113549.1.12.10.1.3","certBag");B("1.2.840.113549.1.12.10.1.4","crlBag");B("1.2.840.113549.1.12.10.1.5","secretBag");B("1.2.840.113549.1.12.10.1.6","safeContentsBag");B("1.2.840.113549.1.5.13","pkcs5PBES2");B("1.2.840.113549.1.5.12","pkcs5PBKDF2");B("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");B("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");B("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");B("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");B("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");B("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");B("1.2.840.113549.2.7","hmacWithSHA1");B("1.2.840.113549.2.8","hmacWithSHA224");B("1.2.840.113549.2.9","hmacWithSHA256");B("1.2.840.113549.2.10","hmacWithSHA384");B("1.2.840.113549.2.11","hmacWithSHA512");B("1.2.840.113549.3.7","des-EDE3-CBC");B("2.16.840.1.101.3.4.1.2","aes128-CBC");B("2.16.840.1.101.3.4.1.22","aes192-CBC");B("2.16.840.1.101.3.4.1.42","aes256-CBC");B("2.5.4.3","commonName");B("2.5.4.5","serialName");B("2.5.4.6","countryName");B("2.5.4.7","localityName");B("2.5.4.8","stateOrProvinceName");B("2.5.4.9","streetAddress");B("2.5.4.10","organizationName");B("2.5.4.11","organizationalUnitName");B("2.5.4.13","description");B("2.5.4.15","businessCategory");B("2.5.4.17","postalCode");B("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");B("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");B("2.16.840.1.113730.1.1","nsCertType");B("2.16.840.1.113730.1.13","nsComment");W("2.5.29.1","authorityKeyIdentifier");W("2.5.29.2","keyAttributes");W("2.5.29.3","certificatePolicies");W("2.5.29.4","keyUsageRestriction");W("2.5.29.5","policyMapping");W("2.5.29.6","subtreesConstraint");W("2.5.29.7","subjectAltName");W("2.5.29.8","issuerAltName");W("2.5.29.9","subjectDirectoryAttributes");W("2.5.29.10","basicConstraints");W("2.5.29.11","nameConstraints");W("2.5.29.12","policyConstraints");W("2.5.29.13","basicConstraints");B("2.5.29.14","subjectKeyIdentifier");B("2.5.29.15","keyUsage");W("2.5.29.16","privateKeyUsagePeriod");B("2.5.29.17","subjectAltName");B("2.5.29.18","issuerAltName");B("2.5.29.19","basicConstraints");W("2.5.29.20","cRLNumber");W("2.5.29.21","cRLReason");W("2.5.29.22","expirationDate");W("2.5.29.23","instructionCode");W("2.5.29.24","invalidityDate");W("2.5.29.25","cRLDistributionPoints");W("2.5.29.26","issuingDistributionPoint");W("2.5.29.27","deltaCRLIndicator");W("2.5.29.28","issuingDistributionPoint");W("2.5.29.29","certificateIssuer");W("2.5.29.30","nameConstraints");B("2.5.29.31","cRLDistributionPoints");B("2.5.29.32","certificatePolicies");W("2.5.29.33","policyMappings");W("2.5.29.34","policyConstraints");B("2.5.29.35","authorityKeyIdentifier");W("2.5.29.36","policyConstraints");B("2.5.29.37","extKeyUsage");W("2.5.29.46","freshestCRL");W("2.5.29.54","inhibitAnyPolicy");B("1.3.6.1.4.1.11129.2.4.2","timestampList");B("1.3.6.1.5.5.7.1.1","authorityInfoAccess");B("1.3.6.1.5.5.7.3.1","serverAuth");B("1.3.6.1.5.5.7.3.2","clientAuth");B("1.3.6.1.5.5.7.3.3","codeSigning");B("1.3.6.1.5.5.7.3.4","emailProtection");B("1.3.6.1.5.5.7.3.8","timeStamping")});var on=C((bv,o0)=>{var ne=X();le();Xn();var T=o0.exports=ne.asn1=ne.asn1||{};T.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};T.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};T.create=function(e,t,r,n,i){if(ne.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var o={tagClass:e,type:t,constructed:r,composed:r||ne.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=T.copy(o)),o};T.copy=function(e,t){var r;if(ne.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(T.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:T.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};T.equals=function(e,t,r){if(ne.util.isArray(e)){if(!ne.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!T.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&T.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};T.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function an(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var tp=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;an(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};T.fromDer=function(e,t){return t===void 0&&(t={strict:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=ne.util.createBuffer(e)),Jn(e,e.length(),0,t)};function Jn(e,t,r,n){var i;an(e,t,2);var s=e.getByte();t--;var a=s&192,o=s&31;i=e.length();var c=tp(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,l,h=(s&32)==32;if(h)if(f=[],c===void 0)for(;;){if(an(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),f.push(Jn(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(Jn(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===T.Class.UNIVERSAL&&o===T.Type.BITSTRING&&(l=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===T.Class.UNIVERSAL&&o===T.Type.BITSTRING&&c>1){var y=e.read,p=t,g=0;if(o===T.Type.BITSTRING&&(an(e,t,1),g=e.getByte(),t--),g===0)try{i=e.length();var v={verbose:n.verbose,strict:!0,decodeBitStrings:!0},m=Jn(e,t,r+1,v),S=i-e.length();t-=S,o==T.Type.BITSTRING&&S++;var A=m.tagClass;S===c&&(A===T.Class.UNIVERSAL||A===T.Class.CONTEXT_SPECIFIC)&&(f=[m])}catch(_){}f===void 0&&(e.read=y,t=p)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(o===T.Type.BMPSTRING)for(f="";c>0;c-=2)an(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c)}var k=l===void 0?null:{bitStringContents:l};return T.create(a,o,h,f,k)}T.toDer=function(e){var t=ne.util.createBuffer(),r=e.tagClass|e.type,n=ne.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=T.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(T.toDer(e.value[s]))}else if(e.type===T.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===T.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)==0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)==128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),o="";do o+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(o.length|128);for(var s=o.length-1;s>=0;--s)t.putByte(o.charCodeAt(s))}return t.putBuffer(n),t};T.oidToDer=function(e){var t=e.split("."),r=ne.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,o=2;o<t.length;++o){n=!0,i=[],s=parseInt(t[o],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};T.derToOid=function(e){var t;typeof e=="string"&&(e=ne.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};T.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),l=parseInt(e.substr(u+4,2),10),h=f*60+l;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};T.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var l=e.length-5,h=e.charAt(l);if(h==="+"||h==="-"){var y=parseInt(e.substr(l+1,2),10),p=parseInt(e.substr(l+4,2),10);u=y*60+p,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,o,c)),t};T.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};T.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};T.integerToDer=function(e){var t=ne.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};T.derToInteger=function(e){typeof e=="string"&&(e=ne.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};T.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass=="undefined")&&(e.type===t.type||typeof t.type=="undefined"))if(e.constructed===t.constructed||typeof t.constructed=="undefined"){if(i=!0,t.value&&ne.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=T.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var o;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var a0=/[^\\u0000-\\u00ff]/;T.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case T.Class.UNIVERSAL:n+="Universal:";break;case T.Class.APPLICATION:n+="Application:";break;case T.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case T.Class.PRIVATE:n+="Private:";break}if(e.tagClass===T.Class.UNIVERSAL)switch(n+=e.type,e.type){case T.Type.NONE:n+=" (None)";break;case T.Type.BOOLEAN:n+=" (Boolean)";break;case T.Type.INTEGER:n+=" (Integer)";break;case T.Type.BITSTRING:n+=" (Bit string)";break;case T.Type.OCTETSTRING:n+=" (Octet string)";break;case T.Type.NULL:n+=" (Null)";break;case T.Type.OID:n+=" (Object Identifier)";break;case T.Type.ODESC:n+=" (Object Descriptor)";break;case T.Type.EXTERNAL:n+=" (External or Instance of)";break;case T.Type.REAL:n+=" (Real)";break;case T.Type.ENUMERATED:n+=" (Enumerated)";break;case T.Type.EMBEDDED:n+=" (Embedded PDV)";break;case T.Type.UTF8:n+=" (UTF8)";break;case T.Type.ROID:n+=" (Relative Object Identifier)";break;case T.Type.SEQUENCE:n+=" (Sequence)";break;case T.Type.SET:n+=" (Set)";break;case T.Type.PRINTABLESTRING:n+=" (Printable String)";break;case T.Type.IA5String:n+=" (IA5String (ASCII))";break;case T.Type.UTCTIME:n+=" (UTC time)";break;case T.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case T.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,o="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,o+=T.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(o+=","));n+=i+"Sub values: "+a+o}else{if(n+=i+"Value: ",e.type===T.Type.OID){var c=T.derToOid(e.value);n+=c,ne.pki&&ne.pki.oids&&c in ne.pki.oids&&(n+=" ("+ne.pki.oids[c]+") ")}if(e.type===T.Type.INTEGER)try{n+=T.derToInteger(e.value)}catch(f){n+="0x"+ne.util.bytesToHex(e.value)}else if(e.type===T.Type.BITSTRING){if(e.value.length>1?n+="0x"+ne.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else e.type===T.Type.OCTETSTRING?(a0.test(e.value)||(n+="("+e.value+") "),n+="0x"+ne.util.bytesToHex(e.value)):e.type===T.Type.UTF8?n+=ne.util.decodeUtf8(e.value):e.type===T.Type.PRINTABLESTRING||e.type===T.Type.IA5String?n+=e.value:a0.test(e.value)?n+="0x"+ne.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Es=C((wv,u0)=>{var ve=X();le();u0.exports=ve.cipher=ve.cipher||{};ve.cipher.algorithms=ve.cipher.algorithms||{};ve.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=ve.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new ve.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};ve.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=ve.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new ve.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};ve.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),ve.cipher.algorithms[e]=t};ve.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in ve.cipher.algorithms?ve.cipher.algorithms[e]:null};var Ss=ve.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Ss.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=ve.util.createBuffer(),this.output=e.output||ve.util.createBuffer(),this.mode.start(t)};Ss.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Ss.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Cs=C((Sv,c0)=>{var xe=X();le();xe.cipher=xe.cipher||{};var O=c0.exports=xe.cipher.modes=xe.cipher.modes||{};O.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.ecb.prototype.start=function(e){};O.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};O.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};O.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};O.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};O.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=ei(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};O.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};O.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};O.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};O.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};O.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xe.util.createBuffer(),this._partialBytes=0};O.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=ei(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xe.util.createBuffer(),this._partialBytes=0};O.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=ei(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb.prototype.decrypt=O.ofb.prototype.encrypt;O.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xe.util.createBuffer(),this._partialBytes=0};O.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=ei(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ti(this._inBlock)};O.ctr.prototype.decrypt=O.ctr.prototype.encrypt;O.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xe.util.createBuffer(),this._partialBytes=0,this._R=3774873600};O.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xe.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xe.util.createBuffer(e.additionalData):r=xe.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xe.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Bs(n*8)))}this._inBlock=this._j0.slice(0),ti(this._inBlock),this._partialBytes=0,r=xe.util.createBuffer(r),this._aDataLength=Bs(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};O.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ti(this._inBlock)};O.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ti(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};O.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xe.util.createBuffer();var n=this._aDataLength.concat(Bs(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};O.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};O.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};O.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};O.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};O.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;o[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(o,e),t)}return s};O.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],c=i[a];i[s+a]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function ei(e,t){if(typeof e=="string"&&(e=xe.util.createBuffer(e)),xe.util.isArray(e)&&e.length>4){var r=e;e=xe.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xe.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}function ti(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Bs(e){return[e/4294967296|0,e&4294967295]}});var _s=C((Ev,p0)=>{var te=X();Es();Cs();le();p0.exports=te.aes=te.aes||{};te.aes.startEncrypting=function(e,t,r,n){var i=ri({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};te.aes.createEncryptionCipher=function(e,t){return ri({key:e,output:null,decrypt:!1,mode:t})};te.aes.startDecrypting=function(e,t,r,n){var i=ri({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};te.aes.createDecryptionCipher=function(e,t){return ri({key:e,output:null,decrypt:!0,mode:t})};te.aes.Algorithm=function(e,t){As||l0();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return Is(r._w,n,i,!1)},decrypt:function(n,i){return Is(r._w,n,i,!0)}}}),r._init=!1};te.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=te.util.createBuffer(t);else if(te.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=te.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!te.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!te.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=h0(t,e.decrypt&&!a),this._init=!0}};te.aes._expandKey=function(e,t){return As||l0(),h0(e,t)};te.aes._updateBlock=Is;Er("AES-ECB",te.cipher.modes.ecb);Er("AES-CBC",te.cipher.modes.cbc);Er("AES-CFB",te.cipher.modes.cfb);Er("AES-OFB",te.cipher.modes.ofb);Er("AES-CTR",te.cipher.modes.ctr);Er("AES-GCM",te.cipher.modes.gcm);function Er(e,t){var r=function(){return new te.aes.Algorithm(e,t)};te.cipher.registerAlgorithm(e,r)}var As=!1,Br=4,Ae,Ts,f0,Xt,Ze;function l0(){As=!0,f0=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Ae=new Array(256),Ts=new Array(256),Xt=new Array(4),Ze=new Array(4);for(var t=0;t<4;++t)Xt[t]=new Array(256),Ze[t]=new Array(256);for(var r=0,n=0,i,s,a,o,c,u,f,t=0;t<256;++t){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Ae[r]=o,Ts[o]=r,c=e[o],i=e[r],s=e[i],a=e[s],u=c<<24^o<<16^o<<8^(o^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var l=0;l<4;++l)Xt[l][r]=u,Ze[l][o]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}function h0(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,o=Br*a,c=s;c<o;++c)n=r[c-1],c%s==0?(n=Ae[n>>>16&255]<<24^Ae[n>>>8&255]<<16^Ae[n&255]<<8^Ae[n>>>24]^f0[i]<<24,i++):s>6&&c%s==4&&(n=Ae[n>>>24]<<24^Ae[n>>>16&255]<<16^Ae[n>>>8&255]<<8^Ae[n&255]),r[c]=r[c-s]^n;if(t){var u,f=Ze[0],l=Ze[1],h=Ze[2],y=Ze[3],p=r.slice(0);o=r.length;for(var c=0,g=o-Br;c<o;c+=Br,g-=Br)if(c===0||c===o-Br)p[c]=r[g],p[c+1]=r[g+3],p[c+2]=r[g+2],p[c+3]=r[g+1];else for(var v=0;v<Br;++v)u=r[g+v],p[c+(3&-v)]=f[Ae[u>>>24]]^l[Ae[u>>>16&255]]^h[Ae[u>>>8&255]]^y[Ae[u&255]];r=p}return r}function Is(e,t,r,n){var i=e.length/4-1,s,a,o,c,u;n?(s=Ze[0],a=Ze[1],o=Ze[2],c=Ze[3],u=Ts):(s=Xt[0],a=Xt[1],o=Xt[2],c=Xt[3],u=Ae);var f,l,h,y,p,g,v;f=t[0]^e[0],l=t[n?3:1]^e[1],h=t[2]^e[2],y=t[n?1:3]^e[3];for(var m=3,S=1;S<i;++S)p=s[f>>>24]^a[l>>>16&255]^o[h>>>8&255]^c[y&255]^e[++m],g=s[l>>>24]^a[h>>>16&255]^o[y>>>8&255]^c[f&255]^e[++m],v=s[h>>>24]^a[y>>>16&255]^o[f>>>8&255]^c[l&255]^e[++m],y=s[y>>>24]^a[f>>>16&255]^o[l>>>8&255]^c[h&255]^e[++m],f=p,l=g,h=v;r[0]=u[f>>>24]<<24^u[l>>>16&255]<<16^u[h>>>8&255]<<8^u[y&255]^e[++m],r[n?3:1]=u[l>>>24]<<24^u[h>>>16&255]<<16^u[y>>>8&255]<<8^u[f&255]^e[++m],r[2]=u[h>>>24]<<24^u[y>>>16&255]<<16^u[f>>>8&255]<<8^u[l&255]^e[++m],r[n?1:3]=u[y>>>24]<<24^u[f>>>16&255]<<16^u[l>>>8&255]<<8^u[h&255]^e[++m]}function ri(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=te.cipher.createDecipher(r,e.key):n=te.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var o=null;a instanceof te.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,i.call(n,a)},n}});var g0=C((Bv,y0)=>{var ie=X();Es();Cs();le();y0.exports=ie.des=ie.des||{};ie.des.startEncrypting=function(e,t,r,n){var i=ni({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ie.des.createEncryptionCipher=function(e,t){return ni({key:e,output:null,decrypt:!1,mode:t})};ie.des.startDecrypting=function(e,t,r,n){var i=ni({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ie.des.createDecryptionCipher=function(e,t){return ni({key:e,output:null,decrypt:!0,mode:t})};ie.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return d0(r._keys,n,i,!1)},decrypt:function(n,i){return d0(r._keys,n,i,!0)}}}),r._init=!1};ie.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ie.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=fp(t),this._init=!0}};at("DES-ECB",ie.cipher.modes.ecb);at("DES-CBC",ie.cipher.modes.cbc);at("DES-CFB",ie.cipher.modes.cfb);at("DES-OFB",ie.cipher.modes.ofb);at("DES-CTR",ie.cipher.modes.ctr);at("3DES-ECB",ie.cipher.modes.ecb);at("3DES-CBC",ie.cipher.modes.cbc);at("3DES-CFB",ie.cipher.modes.cfb);at("3DES-OFB",ie.cipher.modes.ofb);at("3DES-CTR",ie.cipher.modes.ctr);function at(e,t){var r=function(){return new ie.des.Algorithm(e,t)};ie.cipher.registerAlgorithm(e,r)}var rp=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],np=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],ip=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],sp=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ap=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],op=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],up=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],cp=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function fp(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,A,k=0;k<g;k++){var _=e.getInt32(),I=e.getInt32();A=(_>>>4^I)&252645135,I^=A,_^=A<<4,A=(I>>>-16^_)&65535,_^=A,I^=A<<-16,A=(_>>>2^I)&858993459,I^=A,_^=A<<2,A=(I>>>-16^_)&65535,_^=A,I^=A<<-16,A=(_>>>1^I)&1431655765,I^=A,_^=A<<1,A=(I>>>8^_)&16711935,_^=A,I^=A<<8,A=(_>>>1^I)&1431655765,I^=A,_^=A<<1,A=_<<8|I>>>20&240,_=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=A;for(var M=0;M<m.length;++M){m[M]?(_=_<<2|_>>>26,I=I<<2|I>>>26):(_=_<<1|_>>>27,I=I<<1|I>>>27),_&=-15,I&=-15;var V=t[_>>>28]|r[_>>>24&15]|n[_>>>20&15]|i[_>>>16&15]|s[_>>>12&15]|a[_>>>8&15]|o[_>>>4&15],pe=c[I>>>28]|u[I>>>24&15]|f[I>>>20&15]|l[I>>>16&15]|h[I>>>12&15]|y[I>>>8&15]|p[I>>>4&15];A=(pe>>>16^V)&65535,v[S++]=V^A,v[S++]=pe^A<<16}}return v}function d0(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=t[0],c=t[1];a=(o>>>4^c)&252645135,c^=a,o^=a<<4,a=(o>>>16^c)&65535,c^=a,o^=a<<16,a=(c>>>2^o)&858993459,o^=a,c^=a<<2,a=(c>>>8^o)&16711935,o^=a,c^=a<<8,a=(o>>>1^c)&1431655765,c^=a,o^=a<<1,o=o<<1|o>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],l=s[u+2],h=s[u];h!=f;h+=l){var y=c^e[h],p=(c>>>4|c<<28)^e[h+1];a=o,o=c,c=a^(np[y>>>24&63]|sp[y>>>16&63]|op[y>>>8&63]|cp[y&63]|rp[p>>>24&63]|ip[p>>>16&63]|ap[p>>>8&63]|up[p&63])}a=o,o=c,c=a}o=o>>>1|o<<31,c=c>>>1|c<<31,a=(o>>>1^c)&1431655765,c^=a,o^=a<<1,a=(c>>>8^o)&16711935,o^=a,c^=a<<8,a=(c>>>2^o)&858993459,o^=a,c^=a<<2,a=(o>>>16^c)&65535,c^=a,o^=a<<16,a=(o>>>4^c)&252645135,c^=a,o^=a<<4,r[0]=o,r[1]=c}function ni(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ie.cipher.createDecipher(r,e.key):n=ie.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var o=null;a instanceof ie.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,i.call(n,a)},n}});var Jt=C((Cv,v0)=>{var ii=X();v0.exports=ii.md=ii.md||{};ii.md.algorithms=ii.md.algorithms||{}});var m0=C((Av,x0)=>{var mt=X();Jt();le();var lp=x0.exports=mt.hmac=mt.hmac||{};lp.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in mt.md.algorithms)t=mt.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=mt.util.createBuffer(a);else if(mt.util.isArray(a)){var o=a;a=mt.util.createBuffer();for(var c=0;c<o.length;++c)a.putByte(o[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=mt.util.createBuffer(),n=mt.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var o=a.at(c);r.putByte(54^o),n.putByte(92^o)}if(u<t.blockLength)for(var o=t.blockLength-u,c=0;c<o;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var Cr=C(()=>{});var w0=C((_v,b0)=>{var Te=X();m0();Jt();le();var hp=Te.pkcs5=Te.pkcs5||{},bt;Te.util.isNodejs&&!Te.options.usePureJavaScript&&(bt=Cr());b0.exports=Te.pbkdf2=hp.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),Te.util.isNodejs&&!Te.options.usePureJavaScript&&bt.pbkdf2&&(i===null||typeof i!="object")&&(bt.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?bt.pbkdf2Sync.length===4?bt.pbkdf2(e,t,r,n,function(A,k){if(A)return s(A);s(null,k.toString("binary"))}):bt.pbkdf2(e,t,r,n,i,function(A,k){if(A)return s(A);s(null,k.toString("binary"))}):bt.pbkdf2Sync.length===4?bt.pbkdf2Sync(e,t,r,n).toString("binary"):bt.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Te.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Te.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var o=new Error("Derived key is too long.");if(s)return s(o);throw o}var c=Math.ceil(n/a),u=n-(c-1)*a,f=Te.hmac.create();f.start(i,e);var l="",h,y,p;if(!s){for(var g=1;g<=c;++g){f.start(null,null),f.update(t),f.update(Te.util.int32ToBytes(g)),h=p=f.digest().getBytes();for(var v=2;v<=r;++v)f.start(null,null),f.update(p),y=f.digest().getBytes(),h=Te.util.xorBytes(h,y,a),p=y;l+=g<c?h:h.substr(0,u)}return l}var g=1,v;function m(){if(g>c)return s(null,l);f.start(null,null),f.update(t),f.update(Te.util.int32ToBytes(g)),h=p=f.digest().getBytes(),v=2,S()}function S(){if(v<=r)return f.start(null,null),f.update(p),y=f.digest().getBytes(),h=Te.util.xorBytes(h,y,a),p=y,++v,Te.util.setImmediate(S);l+=g<c?h:h.substr(0,u),++g,m()}m()}});var B0=C((Rv,E0)=>{var si=X();le();var S0=E0.exports=si.pem=si.pem||{};S0.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=ai(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=ai(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=ai(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=ai(e.headers[i]);return e.procType&&(r+=`\r
`),r+=si.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};S0.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:si.util.decode64(s[3])};if(t.push(a),!!s[2]){for(var o=s[2].split(i),c=0;s&&c<o.length;){for(var u=o[c].replace(/\s+$/,""),f=c+1;f<o.length;++f){var l=o[f];if(!/\s/.test(l[0]))break;u+=l,c=f}if(s=u.match(n),s){for(var h={name:s[1],values:[]},y=s[2].split(","),p=0;p<y.length;++p)h.values.push(pp(y[p]));if(a.procType)if(!a.contentDomain&&h.name==="Content-Domain")a.contentDomain=y[0]||"";else if(!a.dekInfo&&h.name==="DEK-Info"){if(h.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:y[0],parameters:y[1]||null}}else a.headers.push(h);else{if(h.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(h.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:y[0],type:y[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function ai(e){for(var t=e.name+": ",r=[],n=function(c,u){return" "+u},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var o=t[a];o===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+o+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}function pp(e){return e.replace(/^\s+/,"")}});var R0=C((Pv,_0)=>{var ot=X();Jt();le();var C0=_0.exports=ot.sha256=ot.sha256||{};ot.md.sha256=ot.md.algorithms.sha256=C0;C0.create=function(){A0||dp();var e=null,t=ot.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=ot.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ot.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),I0(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=ot.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Rs.substr(0,n.blockLength-a));for(var o,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)o=n.fullMessageLength[f+1]*8,c=o/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};I0(l,r,i);var h=ot.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var Rs=null,A0=!1,T0=null;function dp(){Rs=String.fromCharCode(128),Rs+=ot.util.fillString(String.fromCharCode(0),64),T0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A0=!0}function I0(e,t,r){for(var n,i,s,a,o,c,u,f,l,h,y,p,g,v,m,S=r.length();S>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,l=e.h1,h=e.h2,y=e.h3,p=e.h4,g=e.h5,v=e.h6,m=e.h7,u=0;u<64;++u)a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),o=v^p&(g^v),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&l|h&(f^l),n=m+a+o+T0[u]+t[u],i=s+c,m=v,v=g,g=p,p=y+n>>>0,y=h,h=l,l=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+y|0,e.h4=e.h4+p|0,e.h5=e.h5+g|0,e.h6=e.h6+v|0,e.h7=e.h7+m|0,S-=64}}});var D0=C((Dv,P0)=>{var ut=X();le();var oi=null;ut.util.isNodejs&&!ut.options.usePureJavaScript&&!process.versions["node-webkit"]&&(oi=Cr());var yp=P0.exports=ut.prng=ut.prng||{};yp.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var l=t.plugin.cipher,h=t.plugin.increment,y=t.plugin.formatKey,p=t.plugin.formatSeed,g=ut.util.createBuffer();t.key=null,v();function v(m){if(m)return f(m);if(g.length()>=u)return f(null,g.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return ut.util.nextTick(function(){s(v)});var S=l(t.key,t.seed);t.generated+=S.length,g.putBytes(S),t.key=y(l(t.key,h(t.seed))),t.seed=p(l(t.key,t.seed)),ut.util.setImmediate(v)}},t.generateSync=function(u){var f=t.plugin.cipher,l=t.plugin.increment,h=t.plugin.formatKey,y=t.plugin.formatSeed;t.key=null;for(var p=ut.util.createBuffer();p.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var g=f(t.key,t.seed);t.generated+=g.length,p.putBytes(g),t.key=h(f(t.key,l(t.seed))),t.seed=y(f(t.key,t.seed))}return p.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return o(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(l,h){if(l)return u(l);t.collect(h),o(),u()})}function a(){if(t.pools[0].messageLength>=32)return o();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),o()}function o(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,l=0;l<32;++l)t.reseeds%f==0&&(u.update(t.pools[l].digest().getBytes()),t.pools[l].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}function c(u){var f=null,l=ut.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(f=function(_){return h.getRandomValues(_)});var y=ut.util.createBuffer();if(f)for(;y.length()<u;){var p=Math.max(1,Math.min(u-y.length(),65536)/4),g=new Uint32Array(Math.floor(p));try{f(g);for(var v=0;v<g.length;++v)y.putInt32(g[v])}catch(_){if(!(typeof QuotaExceededError!="undefined"&&_ instanceof QuotaExceededError))throw _}}if(y.length()<u)for(var m,S,A,k=Math.floor(Math.random()*65536);y.length()<u;){S=16807*(k&65535),m=16807*(k>>16),S+=(m&32767)<<16,S+=m>>15,S=(S&2147483647)+(S>>31),k=S&4294967295;for(var v=0;v<3;++v)A=k>>>(v<<3),A^=Math.floor(Math.random()*256),y.putByte(String.fromCharCode(A&255))}return y.getBytes(u)}return oi?(t.seedFile=function(u,f){oi.randomBytes(u,function(l,h){if(l)return f(l);f(null,h.toString())})},t.seedFileSync=function(u){return oi.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(l){f(l)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,l=0;l<f;++l)t.pools[t.pool].update(u.substr(l,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var l="",h=0;h<f;h+=8)l+=String.fromCharCode(u>>h&255);t.collect(l)},t.registerWorker=function(u){if(u===self)t.seedFile=function(l,h){function y(p){var g=p.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",y),h(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var h=l.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(y,p){u.postMessage({forge:{prng:{err:y,bytes:p}}})})};u.addEventListener("message",f)}},t}});var un=C((kv,Ps)=>{var me=X();_s();R0();D0();le();(function(){if(me.random&&me.random.getBytes){Ps.exports=me.random;return}(function(e){var t={},r=new Array(4),n=me.util.createBuffer();t.formatKey=function(l){var h=me.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),me.aes._expandKey(l,!1)},t.formatSeed=function(l){var h=me.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},t.cipher=function(l,h){return me.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(l){return++l[3],l},t.md=me.md.sha256;function i(){var l=me.prng.create(t);return l.getBytes=function(h,y){return l.generate(h,y)},l.getBytesSync=function(h){return l.generate(h)},l}var s=i(),a=null,o=me.util.globalScope,c=o.crypto||o.msCrypto;if(c&&c.getRandomValues&&(a=function(l){return c.getRandomValues(l)}),me.options.usePureJavaScript||!me.util.isNodejs&&!a){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch(l){}s.collect(u),u=null}e&&(e().mousemove(function(l){s.collectInt(l.clientX,16),s.collectInt(l.clientY,16)}),e().keypress(function(l){s.collectInt(l.charCode,8)}))}if(!me.random)me.random=s;else for(var f in s)me.random[f]=s[f];me.random.createInstance=i,Ps.exports=me.random})(typeof jQuery!="undefined"?jQuery:null)})()});var L0=C((Kv,N0)=>{var De=X();le();var Ds=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],k0=[1,2,3,5],gp=function(e,t){return e<<t&65535|(e&65535)>>16-t},vp=function(e,t){return(e&65535)>>t|e<<16-t&65535};N0.exports=De.rc2=De.rc2||{};De.rc2.expandKey=function(e,t){typeof e=="string"&&(e=De.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(Ds[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-s,Ds[r.at(128-s)&a]),o=127-s;o>=0;o--)r.setAt(o,Ds[r.at(o+1)^r.at(o+s)]);return r};var K0=function(e,t,r){var n=!1,i=null,s=null,a=null,o,c,u,f,l=[];for(e=De.rc2.expandKey(e,t),u=0;u<64;u++)l.push(e.getInt16Le());r?(o=function(p){for(u=0;u<4;u++)p[u]+=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),p[u]=gp(p[u],k0[u]),f++},c=function(p){for(u=0;u<4;u++)p[u]+=l[p[(u+3)%4]&63]}):(o=function(p){for(u=3;u>=0;u--)p[u]=vp(p[u],k0[u]),p[u]-=l[f]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),f--},c=function(p){for(u=3;u>=0;u--)p[u]-=l[p[(u+3)%4]&63]});var h=function(p){var g=[];for(u=0;u<4;u++){var v=i.getInt16Le();a!==null&&(r?v^=a.getInt16Le():a.putInt16Le(v)),g.push(v&65535)}f=r?0:63;for(var m=0;m<p.length;m++)for(var S=0;S<p[m][0];S++)p[m][1](g);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(g[u]):g[u]^=a.getInt16Le()),s.putInt16Le(g[u])},y=null;return y={start:function(p,g){p&&typeof p=="string"&&(p=De.util.createBuffer(p)),n=!1,i=De.util.createBuffer(),s=g||new De.util.createBuffer,a=p,y.output=s},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,o],[1,c],[6,o],[1,c],[5,o]])},finish:function(p){var g=!0;if(r)if(p)g=p(8,i,!r);else{var v=i.length()===8?8:8-i.length();i.fillWithByte(v,v)}if(g&&(n=!0,y.update()),!r&&(g=i.length()===0,g))if(p)g=p(8,s,!r);else{var m=s.length(),S=s.at(m-1);S>m?g=!1:s.truncate(S)}return g}},y};De.rc2.startEncrypting=function(e,t,r){var n=De.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};De.rc2.createEncryptionCipher=function(e,t){return K0(e,t,!0)};De.rc2.startDecrypting=function(e,t,r){var n=De.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};De.rc2.createDecryptionCipher=function(e,t){return K0(e,t,!1)}});var fi=C((Nv,H0)=>{var ks=X();H0.exports=ks.jsbn=ks.jsbn||{};var wt,xp=244837814094590,q0=(xp&16777215)==15715070;function w(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}ks.jsbn.BigInteger=w;function $(){return new w(null)}function mp(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function bp(e,t,r,n,i,s){for(var a=t&32767,o=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=o*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+o*u+(i>>>30),r.data[n++]=c&1073741823}return i}function F0(e,t,r,n,i,s){for(var a=t&16383,o=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=o*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+o*u,r.data[n++]=c&268435455}return i}typeof navigator=="undefined"?(w.prototype.am=F0,wt=28):q0&&navigator.appName=="Microsoft Internet Explorer"?(w.prototype.am=bp,wt=30):q0&&navigator.appName!="Netscape"?(w.prototype.am=mp,wt=26):(w.prototype.am=F0,wt=28);w.prototype.DB=wt;w.prototype.DM=(1<<wt)-1;w.prototype.DV=1<<wt;var Ks=52;w.prototype.FV=Math.pow(2,Ks);w.prototype.F1=Ks-wt;w.prototype.F2=2*wt-Ks;var wp="0123456789abcdefghijklmnopqrstuvwxyz",ui=new Array,Ar,Ue;Ar="0".charCodeAt(0);for(Ue=0;Ue<=9;++Ue)ui[Ar++]=Ue;Ar="a".charCodeAt(0);for(Ue=10;Ue<36;++Ue)ui[Ar++]=Ue;Ar="A".charCodeAt(0);for(Ue=10;Ue<36;++Ue)ui[Ar++]=Ue;function U0(e){return wp.charAt(e)}function O0(e,t){var r=ui[e.charCodeAt(t)];return r??-1}function Sp(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function Ep(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function qt(e){var t=$();return t.fromInt(e),t}function Bp(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:O0(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&w.ZERO.subTo(this,this)}function Cp(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function Ap(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(n=this.data[a]>>o)>0&&(i=!0,s=U0(n));a>=0;)o<t?(n=(this.data[a]&(1<<o)-1)<<t-o,n|=this.data[--a]>>(o+=this.DB-t)):(n=this.data[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=U0(n));return i?s:"0"}function Tp(){var e=$();return w.ZERO.subTo(this,e),e}function Ip(){return this.s<0?this.negate():this}function _p(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function ci(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function Rp(){return this.t<=0?0:this.DB*(this.t-1)+ci(this.data[this.t-1]^this.s&this.DM)}function Pp(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function Dp(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function kp(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t.data[o+s+1]=this.data[o]>>n|a,a=(this.data[o]&i)<<r;for(o=s-1;o>=0;--o)t.data[o]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function Kp(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function Np(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function Lp(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)}function qp(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function Fp(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=$());var s=$(),a=this.s,o=e.s,c=this.DB-ci(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/l,y=(1<<this.F1)/l,p=1<<this.F2,g=r.t,v=g-u,m=t??$();for(s.dlShiftTo(v,m),r.compareTo(m)>=0&&(r.data[r.t++]=1,r.subTo(m,r)),w.ONE.dlShiftTo(u,m),m.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--v>=0;){var S=r.data[--g]==f?this.DM:Math.floor(r.data[g]*h+(r.data[g-1]+p)*y);if((r.data[g]+=s.am(0,S,r,v,0,u))<S)for(s.dlShiftTo(v,m),r.subTo(m,r);r.data[g]<--S;)r.subTo(m,r)}t!=null&&(r.drShiftTo(u,t),a!=o&&w.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&w.ZERO.subTo(r,r)}}}function Up(e){var t=$();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t}function er(e){this.m=e}function Op(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Mp(e){return e}function Vp(e){e.divRemTo(this.m,null,e)}function zp(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Hp(e,t){e.squareTo(t),this.reduce(t)}er.prototype.convert=Op;er.prototype.revert=Mp;er.prototype.reduce=Vp;er.prototype.mulTo=zp;er.prototype.sqrTo=Hp;function $p(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function tr(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Gp(e){var t=$();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t}function jp(e){var t=$();return e.copyTo(t),this.reduce(t),t}function Wp(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Qp(e,t){e.squareTo(t),this.reduce(t)}function Yp(e,t,r){e.multiplyTo(t,r),this.reduce(r)}tr.prototype.convert=Gp;tr.prototype.revert=jp;tr.prototype.reduce=Wp;tr.prototype.mulTo=Yp;tr.prototype.sqrTo=Qp;function Zp(){return(this.t>0?this.data[0]&1:this.s)==0}function Xp(e,t){if(e>4294967295||e<1)return w.ONE;var r=$(),n=$(),i=t.convert(this),s=ci(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}function Jp(e,t){var r;return e<256||t.isEven()?r=new er(t):r=new tr(t),this.exp(e,r)}w.prototype.copyTo=Sp;w.prototype.fromInt=Ep;w.prototype.fromString=Bp;w.prototype.clamp=Cp;w.prototype.dlShiftTo=Pp;w.prototype.drShiftTo=Dp;w.prototype.lShiftTo=kp;w.prototype.rShiftTo=Kp;w.prototype.subTo=Np;w.prototype.multiplyTo=Lp;w.prototype.squareTo=qp;w.prototype.divRemTo=Fp;w.prototype.invDigit=$p;w.prototype.isEven=Zp;w.prototype.exp=Xp;w.prototype.toString=Ap;w.prototype.negate=Tp;w.prototype.abs=Ip;w.prototype.compareTo=_p;w.prototype.bitLength=Rp;w.prototype.mod=Up;w.prototype.modPowInt=Jp;w.ZERO=qt(0);w.ONE=qt(1);function ed(){var e=$();return this.copyTo(e),e}function td(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function rd(){return this.t==0?this.s:this.data[0]<<24>>24}function nd(){return this.t==0?this.s:this.data[0]<<16>>16}function id(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function sd(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function ad(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=qt(r),i=$(),s=$(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}function od(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,o=0;o<e.length;++o){var c=O0(e,o);if(c<0){e.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&w.ZERO.subTo(this,this)}function ud(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),Ns,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function cd(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function fd(e){return this.compareTo(e)==0}function ld(e){return this.compareTo(e)<0?this:e}function hd(e){return this.compareTo(e)>0?this:e}function pd(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function dd(e,t){return e&t}function yd(e){var t=$();return this.bitwiseTo(e,dd,t),t}function Ns(e,t){return e|t}function gd(e){var t=$();return this.bitwiseTo(e,Ns,t),t}function M0(e,t){return e^t}function vd(e){var t=$();return this.bitwiseTo(e,M0,t),t}function V0(e,t){return e&~t}function xd(e){var t=$();return this.bitwiseTo(e,V0,t),t}function md(){for(var e=$(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function bd(e){var t=$();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function wd(e){var t=$();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Sd(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function Ed(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Sd(this.data[e]);return this.s<0?this.t*this.DB:-1}function Bd(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function Cd(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Bd(this.data[r]^t);return e}function Ad(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function Td(e,t){var r=w.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function Id(e){return this.changeBit(e,Ns)}function _d(e){return this.changeBit(e,V0)}function Rd(e){return this.changeBit(e,M0)}function Pd(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function Dd(e){var t=$();return this.addTo(e,t),t}function kd(e){var t=$();return this.subTo(e,t),t}function Kd(e){var t=$();return this.multiplyTo(e,t),t}function Nd(e){var t=$();return this.divRemTo(e,t,null),t}function Ld(e){var t=$();return this.divRemTo(e,null,t),t}function qd(e){var t=$(),r=$();return this.divRemTo(e,t,r),new Array(t,r)}function Fd(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Ud(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function cn(){}function z0(e){return e}function Od(e,t,r){e.multiplyTo(t,r)}function Md(e,t){e.squareTo(t)}cn.prototype.convert=z0;cn.prototype.revert=z0;cn.prototype.mulTo=Od;cn.prototype.sqrTo=Md;function Vd(e){return this.exp(e,new cn)}function zd(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function Hd(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Tr(e){this.r2=$(),this.q3=$(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function $d(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=$();return e.copyTo(t),this.reduce(t),t}function Gd(e){return e}function jd(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Wd(e,t){e.squareTo(t),this.reduce(t)}function Qd(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Tr.prototype.convert=$d;Tr.prototype.revert=Gd;Tr.prototype.reduce=jd;Tr.prototype.mulTo=Qd;Tr.prototype.sqrTo=Wd;function Yd(e,t){var r=e.bitLength(),n,i=qt(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new er(t):t.isEven()?s=new Tr(t):s=new tr(t);var a=new Array,o=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=$();for(s.sqrTo(a[1],f);o<=u;)a[o]=$(),s.mulTo(f,a[o-2],a[o]),o+=2}var l=e.t-1,h,y=!0,p=$(),g;for(r=ci(e.data[l])-1;l>=0;){for(r>=c?h=e.data[l]>>r-c&u:(h=(e.data[l]&(1<<r+1)-1)<<c-r,l>0&&(h|=e.data[l-1]>>this.DB+r-c)),o=n;(h&1)==0;)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--l),y)a[h].copyTo(i),y=!1;else{for(;o>1;)s.sqrTo(i,p),s.sqrTo(p,i),o-=2;o>0?s.sqrTo(i,p):(g=i,i=p,p=g),s.mulTo(p,a[h],i)}for(;l>=0&&(e.data[l]&1<<r)==0;)s.sqrTo(i,p),g=i,i=p,p=g,--r<0&&(r=this.DB-1,--l)}return s.revert(i)}function Zd(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function Xd(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function Jd(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return w.ZERO;for(var r=e.clone(),n=this.clone(),i=qt(1),s=qt(0),a=qt(0),o=qt(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(e,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(o,s)):(n.subTo(r,n),t&&a.subTo(i,a),o.subTo(s,o))}if(n.compareTo(w.ONE)!=0)return w.ZERO;if(o.compareTo(e)>=0)return o.subtract(e);if(o.signum()<0)o.addTo(e,o);else return o;return o.signum()<0?o.add(e):o}var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ey=(1<<26)/Xe[Xe.length-1];function ty(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Xe[Xe.length-1]){for(t=0;t<Xe.length;++t)if(r.data[0]==Xe[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Xe.length;){for(var n=Xe[t],i=t+1;i<Xe.length&&n<ey;)n*=Xe[i++];for(n=r.modInt(n);t<i;)if(n%Xe[t++]==0)return!1}return r.millerRabin(e)}function ry(e){var t=this.subtract(w.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=ny(),s,a=0;a<e;++a){do s=new w(this.bitLength(),i);while(s.compareTo(w.ONE)<=0||s.compareTo(t)>=0);var o=s.modPow(n,this);if(o.compareTo(w.ONE)!=0&&o.compareTo(t)!=0){for(var c=1;c++<r&&o.compareTo(t)!=0;)if(o=o.modPowInt(2,this),o.compareTo(w.ONE)==0)return!1;if(o.compareTo(t)!=0)return!1}}return!0}function ny(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}w.prototype.chunkSize=id;w.prototype.toRadix=ad;w.prototype.fromRadix=od;w.prototype.fromNumber=ud;w.prototype.bitwiseTo=pd;w.prototype.changeBit=Td;w.prototype.addTo=Pd;w.prototype.dMultiply=Fd;w.prototype.dAddOffset=Ud;w.prototype.multiplyLowerTo=zd;w.prototype.multiplyUpperTo=Hd;w.prototype.modInt=Xd;w.prototype.millerRabin=ry;w.prototype.clone=ed;w.prototype.intValue=td;w.prototype.byteValue=rd;w.prototype.shortValue=nd;w.prototype.signum=sd;w.prototype.toByteArray=cd;w.prototype.equals=fd;w.prototype.min=ld;w.prototype.max=hd;w.prototype.and=yd;w.prototype.or=gd;w.prototype.xor=vd;w.prototype.andNot=xd;w.prototype.not=md;w.prototype.shiftLeft=bd;w.prototype.shiftRight=wd;w.prototype.getLowestSetBit=Ed;w.prototype.bitCount=Cd;w.prototype.testBit=Ad;w.prototype.setBit=Id;w.prototype.clearBit=_d;w.prototype.flipBit=Rd;w.prototype.add=Dd;w.prototype.subtract=kd;w.prototype.multiply=Kd;w.prototype.divide=Nd;w.prototype.remainder=Ld;w.prototype.divideAndRemainder=qd;w.prototype.modPow=Yd;w.prototype.modInverse=Jd;w.prototype.pow=Vd;w.prototype.gcd=Zd;w.prototype.isProbablePrime=ty});var Q0=C((Lv,W0)=>{var ct=X();Jt();le();var $0=W0.exports=ct.sha1=ct.sha1||{};ct.md.sha1=ct.md.algorithms.sha1=$0;$0.create=function(){G0||iy();var e=null,t=ct.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=ct.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ct.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),j0(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=ct.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Ls.substr(0,n.blockLength-a));for(var o,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)o=n.fullMessageLength[f+1]*8,c=o/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};j0(l,r,i);var h=ct.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var Ls=null,G0=!1;function iy(){Ls=String.fromCharCode(128),Ls+=ct.util.fillString(String.fromCharCode(0),64),G0=!0}function j0(e,t,r){for(var n,i,s,a,o,c,u,f,l=r.length();l>=64;){for(i=e.h0,s=e.h1,a=e.h2,o=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=o^s&(a^o),n=(i<<5|i>>>27)+u+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=o^s&(a^o),n=(i<<5|i>>>27)+u+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^o,n=(i<<5|i>>>27)+u+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^o,n=(i<<5|i>>>27)+u+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|o&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^o,n=(i<<5|i>>>27)+u+c+3395469782+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,l-=64}}});var X0=C((qv,Z0)=>{var ft=X();le();un();Q0();var Y0=Z0.exports=ft.pkcs1=ft.pkcs1||{};Y0.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=ft.md.sha1.create(),a||(a=s);var o=Math.ceil(e.n.bitLength()/8),c=o-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),l="",h=c-t.length,y=0;y<h;y++)l+="\0";var p=f.getBytes()+l+""+t;if(!i)i=ft.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var g=li(i,o-s.digestLength-1,a),v=ft.util.xorBytes(p,g,p.length),m=li(v,s.digestLength,a),S=ft.util.xorBytes(i,m,i.length);return"\0"+S+v};Y0.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var v=new Error("RSAES-OAEP encoded message length is invalid.");throw v.length=t.length,v.expectedLength=a,v}if(i===void 0?i=ft.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),l=li(f,i.digestLength,s),h=ft.util.xorBytes(u,l,u.length),y=li(h,a-i.digestLength-1,s),p=ft.util.xorBytes(f,y,f.length),g=p.substring(0,i.digestLength),v=c!=="\0",m=0;m<i.digestLength;++m)v|=o.charAt(m)!==g.charAt(m);for(var S=1,A=i.digestLength,k=i.digestLength;k<p.length;k++){var _=p.charCodeAt(k),I=_&1^1,M=S?65534:0;v|=_&M,S=S&I,A+=S}if(v||p.charCodeAt(A)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(A+1)};function li(e,t,r){r||(r=ft.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}});var J0=C((Fv,qs)=>{var Ft=X();le();fi();un();(function(){if(Ft.prime){qs.exports=Ft.prime;return}var e=qs.exports=Ft.prime=Ft.prime||{},t=Ft.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(l,h){return l|h};e.generateProbablePrime=function(l,h,y){typeof h=="function"&&(y=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var g=h.prng||Ft.random,v={nextBytes:function(m){for(var S=g.getBytesSync(m.length),A=0;A<m.length;++A)m[A]=S.charCodeAt(A)}};if(p.name==="PRIMEINC")return s(l,v,p.options,y);throw new Error("Invalid prime generation algorithm: "+p.name)};function s(l,h,y,p){return"workers"in y?c(l,h,y,p):a(l,h,y,p)}function a(l,h,y,p){var g=u(l,h),v=0,m=f(g.bitLength());"millerRabinTests"in y&&(m=y.millerRabinTests);var S=10;"maxBlockTime"in y&&(S=y.maxBlockTime),o(g,l,h,v,m,S,p)}function o(l,h,y,p,g,v,m){var S=+new Date;do{if(l.bitLength()>h&&(l=u(h,y)),l.isProbablePrime(g))return m(null,l);l.dAddOffset(r[p++%8],0)}while(v<0||+new Date-S<v);Ft.util.setImmediate(function(){o(l,h,y,p,g,v,m)})}function c(l,h,y,p){if(typeof Worker=="undefined")return a(l,h,y,p);var g=u(l,h),v=y.workers,m=y.workLoad||100,S=m*30/8,A=y.workerScript||"forge/prime.worker.js";if(v===-1)return Ft.util.estimateCores(function(_,I){_&&(I=2),v=I-1,k()});k();function k(){v=Math.max(1,v);for(var _=[],I=0;I<v;++I)_[I]=new Worker(A);for(var M=v,I=0;I<v;++I)_[I].addEventListener("message",pe);var V=!1;function pe(We){if(!V){--M;var Ke=We.data;if(Ke.found){for(var Ce=0;Ce<_.length;++Ce)_[Ce].terminate();return V=!0,p(null,new t(Ke.prime,16))}g.bitLength()>l&&(g=u(l,h));var pr=g.toString(16);We.target.postMessage({hex:pr,workLoad:m}),g.dAddOffset(S,0)}}}}function u(l,h){var y=new t(l,h),p=l-1;return y.testBit(p)||y.bitwiseTo(t.ONE.shiftLeft(p),i,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var pi=C((Uv,au)=>{var L=X();on();fi();Xn();X0();J0();un();le();typeof z=="undefined"&&(z=L.jsbn.BigInteger);var z,Fs=L.util.isNodejs?Cr():null,x=L.asn1,Oe=L.util;L.pki=L.pki||{};au.exports=L.pki.rsa=L.rsa=L.rsa||{};var q=L.pki,sy=[6,4,2,4,2,4,6,2],ay={name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},oy={name:"RSAPrivateKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},uy={name:"RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},cy=L.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},fy=function(e){var t;if(e.algorithm in q.oids)t=q.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=x.oidToDer(t).getBytes(),i=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),s=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);s.value.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,n)),s.value.push(x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,""));var a=x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),x.toDer(i).getBytes()},eu=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(z.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(z.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new z(L.util.bytesToHex(L.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(z.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a};q.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=tu(e,t,r)):(i=L.util.createBuffer(),i.putBytes(e));for(var a=new z(i.toHex(),16),o=eu(a,t,n),c=o.toString(16),u=L.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(L.util.hexToBytes(c)),u.getBytes()};q.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new z(L.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=eu(a,t,r),c=o.toString(16),u=L.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(L.util.hexToBytes(c)),n!==!1?hi(u.getBytes(),t,r):u.getBytes()};q.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||L.random,i={nextBytes:function(o){for(var c=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=c.charCodeAt(u)}},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new z(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};q.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new z(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},s=+new Date,a,o=0;e.keys===null&&(t<=0||o<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new z(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(z.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(hy(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(sy[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(z.ONE).gcd(e.e).compareTo(z.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(z.ONE),e.q1=e.q.subtract(z.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(z.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:q.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:q.rsa.setPublicKey(e.n,e.e)}}a=+new Date,o+=a-s,s=a}return e.keys!==null};q.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!L.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(ru("generateKeyPair"))return Fs.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,c,u){if(o)return n(o);n(null,{privateKey:q.privateKeyFromPem(u),publicKey:q.publicKeyFromPem(c)})});if(nu("generateKey")&&nu("exportKey"))return Oe.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:su(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Oe.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var c=q.privateKeyFromAsn1(x.fromDer(L.util.createBuffer(o)));n(null,{privateKey:c,publicKey:q.setRsaPublicKey(c.n,c.e)})}});if(iu("generateKey")&&iu("exportKey")){var i=Oe.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:su(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var c=o.target.result,u=Oe.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var l=f.target.result,h=q.privateKeyFromAsn1(x.fromDer(L.util.createBuffer(l)));n(null,{privateKey:h,publicKey:q.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(o){n(o)};return}}else if(ru("generateKeyPairSync")){var s=Fs.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:q.privateKeyFromPem(s.privateKey),publicKey:q.publicKeyFromPem(s.publicKey)}}}var a=q.rsa.createKeyPairGenerationState(e,t,r);if(!n)return q.rsa.stepKeyPairGenerationState(a,0),a.keys;ly(a,r,n)};q.setRsaPublicKey=q.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,c,u){return tu(o,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,c){return L.pkcs1.encode_rsa_oaep(c,o,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return q.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(o,c){c=hi(c,r,!0);var u=x.fromDer(c);return o===u.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(o,c){return c=hi(c,r,!0),o===c}});var a=q.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};q.setRsaPrivateKey=q.rsa.setPrivateKey=function(e,t,r,n,i,s,a,o){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:o};return c.decrypt=function(u,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=q.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:hi};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(y,p){return L.pkcs1.decode_rsa_oaep(p,y,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:fy},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return u}},l=1);var h=f.encode(u,c.n.bitLength());return q.rsa.encrypt(h,c,l)},c};q.wrapRsaPrivateKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(q.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,x.toDer(e).getBytes())])};q.privateKeyFromAsn1=function(e){var t={},r=[];if(x.validate(e,ay,t,r)&&(e=x.fromDer(L.util.createBuffer(t.privateKey))),t={},r=[],!x.validate(e,oy,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,o,c,u,f,l;return i=L.util.createBuffer(t.privateKeyModulus).toHex(),s=L.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=L.util.createBuffer(t.privateKeyPrivateExponent).toHex(),o=L.util.createBuffer(t.privateKeyPrime1).toHex(),c=L.util.createBuffer(t.privateKeyPrime2).toHex(),u=L.util.createBuffer(t.privateKeyExponent1).toHex(),f=L.util.createBuffer(t.privateKeyExponent2).toHex(),l=L.util.createBuffer(t.privateKeyCoefficient).toHex(),q.setRsaPrivateKey(new z(i,16),new z(s,16),new z(a,16),new z(o,16),new z(c,16),new z(u,16),new z(f,16),new z(l,16))};q.privateKeyToAsn1=q.privateKeyToRSAPrivateKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.e)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.d)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.p)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.q)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.dP)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.dQ)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.qInv))])};q.publicKeyFromAsn1=function(e){var t={},r=[];if(x.validate(e,cy,t,r)){var n=x.derToOid(t.publicKeyOid);if(n!==q.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!x.validate(e,uy,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=L.util.createBuffer(t.publicKeyModulus).toHex(),a=L.util.createBuffer(t.publicKeyExponent).toHex();return q.setRsaPublicKey(new z(s,16),new z(a,16))};q.publicKeyToAsn1=q.publicKeyToSubjectPublicKeyInfo=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(q.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,[q.publicKeyToRSAPublicKey(e)])])};q.publicKeyToRSAPublicKey=function(e){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,lt(e.e))])};function tu(e,t,r){var n=L.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,o;if(r===0||r===1){o=r===0?0:255;for(var c=0;c<a;++c)n.putByte(o)}else for(;a>0;){for(var u=0,f=L.random.getBytes(a),c=0;c<a;++c)o=f.charCodeAt(c),o===0?++u:n.putByte(o);a=u}return n.putByte(0),n.putBytes(e),n}function hi(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=L.util.createBuffer(e),a=s.getByte(),o=s.getByte();if(a!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(o===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(o===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function ly(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(o,c){if(o)return r(o);if(e.p=c,e.q!==null)return a(o,e.q);s(e.qBits,a)})}function s(o,c){L.prime.generateProbablePrime(o,n,c)}function a(o,c){if(o)return r(o);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(z.ONE).gcd(e.e).compareTo(z.ONE)!==0){e.p=null,i();return}if(e.q.subtract(z.ONE).gcd(e.e).compareTo(z.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(z.ONE),e.q1=e.q.subtract(z.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(z.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:q.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:q.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function lt(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=L.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function hy(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function ru(e){return L.util.isNodejs&&typeof Fs[e]=="function"}function nu(e){return typeof Oe.globalScope!="undefined"&&typeof Oe.globalScope.crypto=="object"&&typeof Oe.globalScope.crypto.subtle=="object"&&typeof Oe.globalScope.crypto.subtle[e]=="function"}function iu(e){return typeof Oe.globalScope!="undefined"&&typeof Oe.globalScope.msCrypto=="object"&&typeof Oe.globalScope.msCrypto.subtle=="object"&&typeof Oe.globalScope.msCrypto.subtle[e]=="function"}function su(e){for(var t=L.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var hu=C((Ov,lu)=>{var R=X();_s();on();g0();Jt();Xn();w0();B0();un();L0();pi();le();typeof ou=="undefined"&&(ou=R.jsbn.BigInteger);var ou,b=R.asn1,F=R.pki=R.pki||{};lu.exports=F.pbe=R.pbe=R.pbe||{};var rr=F.oids,py={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},dy={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},yy={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};F.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=R.random.getBytesSync(r.saltSize),i=r.count,s=b.integerToDer(i),a,o,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,l;switch(r.algorithm){case"aes128":a=16,u=16,f=rr["aes128-CBC"],l=R.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=rr["aes192-CBC"],l=R.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=rr["aes256-CBC"],l=R.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=rr.desCBC,l=R.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),p=fu(y),g=R.pkcs5.pbkdf2(t,n,i,a,p),v=R.random.getBytesSync(u),m=l(g);m.start(v),m.update(b.toDer(e)),m.finish(),c=m.output.getBytes();var S=gy(n,s,a,y);o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(rr.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(rr.pkcs5PBKDF2).getBytes()),S]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,v)])])])}else if(r.algorithm==="3des"){a=24;var A=new R.util.ByteBuffer(n),g=F.pbe.generatePkcs12Key(t,A,1,i,a),v=F.pbe.generatePkcs12Key(t,A,2,i,a),m=R.des.createEncryptionCipher(g);m.start(v),m.update(b.toDer(e)),m.finish(),c=m.output.getBytes(),o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(rr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[o,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,c)]);return k};F.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!b.validate(e,py,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=b.derToOid(n.encryptionOid),o=F.pbe.getCipher(a,n.encryptionParams,t),c=R.util.createBuffer(n.encryptedData);return o.update(c),o.finish()&&(r=b.fromDer(o.output)),r};F.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(e).getBytes()};return R.pem.encode(r,{maxline:t})};F.encryptedPrivateKeyFromPem=function(e){var t=R.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(t.body)};F.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=F.wrapRsaPrivateKey(F.privateKeyToAsn1(e));return n=F.encryptPrivateKeyInfo(n,t,r),F.encryptedPrivateKeyToPem(n)}var i,s,a,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=R.random.getBytesSync(16),o=R.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=R.random.getBytesSync(16),o=R.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=R.random.getBytesSync(16),o=R.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=R.random.getBytesSync(8),o=R.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=R.random.getBytesSync(8),o=R.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=R.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=o(u);f.start(s),f.update(b.toDer(F.privateKeyToAsn1(e))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:R.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return R.pem.encode(l)};F.decryptRsaPrivateKey=function(e,t){var r=null,n=R.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=R.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=R.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=R.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=R.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=R.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=function(l){return R.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":s=8,a=function(l){return R.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":s=16,a=function(l){return R.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=R.util.hexToBytes(n.dekInfo.parameters),c=R.pbe.opensslDeriveBytes(t,o.substr(0,8),s),u=a(c);if(u.start(o),u.update(R.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=F.decryptPrivateKeyInfo(b.fromDer(r),t):r=b.fromDer(r),r!==null&&(r=F.privateKeyFromAsn1(r)),r};F.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,o;if(typeof s=="undefined"||s===null){if(!("sha1"in R.md))throw new Error('"sha1" hash algorithm unavailable.');s=R.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new R.util.ByteBuffer,l=new R.util.ByteBuffer;if(e!=null){for(o=0;o<e.length;o++)l.putInt16(e.charCodeAt(o));l.putInt16(0)}var h=l.length(),y=t.length(),p=new R.util.ByteBuffer;p.fillWithByte(r,u);var g=u*Math.ceil(y/u),v=new R.util.ByteBuffer;for(o=0;o<g;o++)v.putByte(t.at(o%y));var m=u*Math.ceil(h/u),S=new R.util.ByteBuffer;for(o=0;o<m;o++)S.putByte(l.at(o%h));var A=v;A.putBuffer(S);for(var k=Math.ceil(i/c),_=1;_<=k;_++){var I=new R.util.ByteBuffer;I.putBytes(p.bytes()),I.putBytes(A.bytes());for(var M=0;M<n;M++)s.start(),s.update(I.getBytes()),I=s.digest();var V=new R.util.ByteBuffer;for(o=0;o<u;o++)V.putByte(I.at(o%c));var pe=Math.ceil(y/u)+Math.ceil(h/u),We=new R.util.ByteBuffer;for(a=0;a<pe;a++){var Ke=new R.util.ByteBuffer(A.getBytes(u)),Ce=511;for(o=V.length()-1;o>=0;o--)Ce=Ce>>8,Ce+=V.at(o)+Ke.at(o),Ke.setAt(o,Ce&255);We.putBuffer(Ke)}A=We,f.putBuffer(I)}return f.truncate(f.length()-i),f};F.pbe.getCipher=function(e,t,r){switch(e){case F.oids.pkcs5PBES2:return F.pbe.getCipherForPBES2(e,t,r);case F.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case F.oids["pbewithSHAAnd40BitRC2-CBC"]:return F.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};F.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!b.validate(t,dy,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=b.derToOid(n.kdfOid),e!==F.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=b.derToOid(n.encOid),e!==F.oids["aes128-CBC"]&&e!==F.oids["aes192-CBC"]&&e!==F.oids["aes256-CBC"]&&e!==F.oids["des-EDE3-CBC"]&&e!==F.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,o=R.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var c,u;switch(F.oids[e]){case"aes128-CBC":c=16,u=R.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=R.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=R.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=R.des.createDecryptionCipher;break;case"desCBC":c=8,u=R.des.createDecryptionCipher;break}var f=cu(n.prfOid),l=R.pkcs5.pbkdf2(r,a,o,c,f),h=n.encIv,y=u(l);return y.start(h),y};F.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!b.validate(t,yy,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=R.util.createBuffer(n.salt),o=R.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var c,u,f;switch(e){case F.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=R.des.startDecrypting;break;case F.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(g,v){var m=R.rc2.createDecryptionCipher(g,40);return m.start(v,null),m};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var l=cu(n.prfOid),h=F.pbe.generatePkcs12Key(r,a,1,o,c,l);l.start();var y=F.pbe.generatePkcs12Key(r,a,2,o,u,l);return f(h,y)};F.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in R.md))throw new Error('"md5" hash algorithm unavailable.');n=R.md.md5.create()}t===null&&(t="");for(var i=[uu(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(uu(n,i[a-1]+e+t));return i.join("").substr(0,r)};function uu(e,t){return e.start().update(t).digest().getBytes()}function cu(e){var t;if(!e)t="hmacWithSHA1";else if(t=F.oids[b.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return fu(t)}function fu(e){var t=R.md;switch(e){case"hmacWithSHA224":t=R.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function gy(e,t,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,R.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(F.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var Je=C((Mv,du)=>{"use strict";function pu(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function vy(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return pu(e,r)}catch(n){r.message=e.message,r.stack=e.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),pu(new i,r)}}du.exports=vy});var Us={};be(Us,{identity:()=>xy});var xy,yu=Z(()=>{rt();It();xy=Fn({prefix:"\0",name:"identity",encode:e=>Ma(e),decode:e=>Oa(e)})});var Os={};be(Os,{base2:()=>my});var my,gu=Z(()=>{rt();my=ue({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Ms={};be(Ms,{base8:()=>by});var by,vu=Z(()=>{rt();by=ue({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Vs={};be(Vs,{base10:()=>wy});var wy,xu=Z(()=>{rt();wy=_t({prefix:"9",name:"base10",alphabet:"0123456789"})});var fn,mu,di=Z(()=>{vr();fn=({name:e,code:t,encode:r})=>new mu(e,t,r),mu=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}async digest(t){if(t instanceof Uint8Array){let r=await this.encode(t);return Qr(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var nr={};be(nr,{sha256:()=>Sy,sha512:()=>Ey});var wu,Sy,Ey,Ir=Z(()=>{di();wu=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Sy=fn({name:"sha2-256",code:18,encode:wu("SHA-256")}),Ey=fn({name:"sha2-512",code:19,encode:wu("SHA-512")})});var ln={};be(ln,{identity:()=>By});var By,yi=Z(()=>{di();It();By=fn({name:"identity",code:0,encode:e=>xt(e)})});var Su=Z(()=>{It()});var Xv,Jv,Eu=Z(()=>{Xv=new TextEncoder,Jv=new TextDecoder});var Bu=Z(()=>{Xr();qn();It();di();vr()});var zs,nx,Cu=Z(()=>{yu();gu();vu();xu();rs();br();ts();Pt();Jr();Ir();yi();Su();Eu();Bu();zs={...Us,...Os,...Ms,...Vs,...zn,...mr,...Vn,...Rt,...wr},nx={...nr,...ln}});function Au(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Tu,Hs,Ty,gi,$s=Z(()=>{Cu();Tu=Au("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),Hs=Au("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Ty={utf8:Tu,"utf-8":Tu,hex:zs.base16,latin1:Hs,ascii:Hs,binary:Hs,...zs},gi=Ty});var St={};be(St,{fromString:()=>Iy});function Iy(e,t="utf8"){let r=gi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}var Et=Z(()=>{$s()});var ir={};be(ir,{concat:()=>_y});function _y(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}var sr=Z(()=>{});var hn=C(Iu=>{"use strict";Iu.get=(e=globalThis)=>{let t=e.crypto;if(!t||!t.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}});var Gs=C((cx,Ru)=>{"use strict";var{concat:Ry}=(sr(),ir),{fromString:_u}=(Et(),St),Py=hn();function Dy({algorithm:e="AES-GCM",nonceLength:t=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:s=32767}={}){let a=Py.get();r*=8;async function o(u,f){let l=a.getRandomValues(new Uint8Array(i)),h=a.getRandomValues(new Uint8Array(t)),y={name:e,iv:h},p={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},g=await a.subtle.importKey("raw",_u(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),v=await a.subtle.deriveKey(p,g,{name:e,length:r},!0,["encrypt"]),m=await a.subtle.encrypt(y,v,u);return Ry([l,y.iv,new Uint8Array(m)])}async function c(u,f){let l=u.slice(0,i),h=u.slice(i,i+t),y=u.slice(i+t),p={name:e,iv:h},g={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},v=await a.subtle.importKey("raw",_u(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),m=await a.subtle.deriveKey(g,v,{name:e,length:r},!0,["decrypt"]),S=await a.subtle.decrypt(p,m,y);return new Uint8Array(S)}return{encrypt:o,decrypt:c}}Ru.exports={create:Dy}});var Du=C((fx,Pu)=>{"use strict";var{base64:ky}=(Jr(),wr),Ky=Gs();Pu.exports={import:async function(e,t){let r=ky.decode(e);return await Ky.create().decrypt(r,t)}}});var ar={};be(ar,{equals:()=>Ny});function Ny(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var or=Z(()=>{});var Me={};be(Me,{toString:()=>Ly});function Ly(e,t="utf8"){let r=gi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}var Ve=Z(()=>{$s()});var qu=C((hx,Lu)=>{var re=X();Jt();le();var pn=Lu.exports=re.sha512=re.sha512||{};re.md.sha512=re.md.algorithms.sha512=pn;var ku=re.sha384=re.sha512.sha384=re.sha512.sha384||{};ku.create=function(){return pn.create("SHA-384")};re.md.sha384=re.md.algorithms.sha384=ku;re.sha512.sha256=re.sha512.sha256||{create:function(){return pn.create("SHA-512/256")}};re.md["sha512/256"]=re.md.algorithms["sha512/256"]=re.sha512.sha256;re.sha512.sha224=re.sha512.sha224||{create:function(){return pn.create("SHA-512/224")}};re.md["sha512/224"]=re.md.algorithms["sha512/224"]=re.sha512.sha224;pn.create=function(e){if(Ku||qy(),typeof e=="undefined"&&(e="SHA-512"),!(e in ur))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=ur[e],r=null,n=re.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var o={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var c=o.messageLengthSize/4,u=0;u<c;++u)o.fullMessageLength.push(0);n=re.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return o},o.start(),o.update=function(c,u){u==="utf8"&&(c=re.util.encodeUtf8(c));var f=c.length;o.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=f[1],f[1]=f[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),Nu(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var c=re.util.createBuffer();c.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,f=u&o.blockLength-1;c.putBytes(js.substr(0,o.blockLength-f));for(var l,h,y=o.fullMessageLength[0]*8,p=0;p<o.fullMessageLength.length-1;++p)l=o.fullMessageLength[p+1]*8,h=l/4294967296>>>0,y+=h,c.putInt32(y>>>0),y=l>>>0;c.putInt32(y);for(var g=new Array(r.length),p=0;p<r.length;++p)g[p]=r[p].slice(0);Nu(g,i,c);var v=re.util.createBuffer(),m;e==="SHA-512"?m=g.length:e==="SHA-384"?m=g.length-2:m=g.length-4;for(var p=0;p<m;++p)v.putInt32(g[p][0]),(p!==m-1||e!=="SHA-512/224")&&v.putInt32(g[p][1]);return v},o};var js=null,Ku=!1,Ws=null,ur=null;function qy(){js=String.fromCharCode(128),js+=re.util.fillString(String.fromCharCode(0),128),Ws=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],ur={},ur["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],ur["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],ur["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],ur["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Ku=!0}function Nu(e,t,r){for(var n,i,s,a,o,c,u,f,l,h,y,p,g,v,m,S,A,k,_,I,M,V,pe,We,Ke,Ce,pr,Nn,fe,Re,K,Wi,Qi,Yi,Zi,Da=r.length();Da>=128;){for(fe=0;fe<16;++fe)t[fe][0]=r.getInt32()>>>0,t[fe][1]=r.getInt32()>>>0;for(;fe<80;++fe)Wi=t[fe-2],Re=Wi[0],K=Wi[1],n=((Re>>>19|K<<13)^(K>>>29|Re<<3)^Re>>>6)>>>0,i=((Re<<13|K>>>19)^(K<<3|Re>>>29)^(Re<<26|K>>>6))>>>0,Yi=t[fe-15],Re=Yi[0],K=Yi[1],s=((Re>>>1|K<<31)^(Re>>>8|K<<24)^Re>>>7)>>>0,a=((Re<<31|K>>>1)^(Re<<24|K>>>8)^(Re<<25|K>>>7))>>>0,Qi=t[fe-7],Zi=t[fe-16],K=i+Qi[1]+a+Zi[1],t[fe][0]=n+Qi[0]+s+Zi[0]+(K/4294967296>>>0)>>>0,t[fe][1]=K>>>0;for(g=e[0][0],v=e[0][1],m=e[1][0],S=e[1][1],A=e[2][0],k=e[2][1],_=e[3][0],I=e[3][1],M=e[4][0],V=e[4][1],pe=e[5][0],We=e[5][1],Ke=e[6][0],Ce=e[6][1],pr=e[7][0],Nn=e[7][1],fe=0;fe<80;++fe)u=((M>>>14|V<<18)^(M>>>18|V<<14)^(V>>>9|M<<23))>>>0,f=((M<<18|V>>>14)^(M<<14|V>>>18)^(V<<23|M>>>9))>>>0,l=(Ke^M&(pe^Ke))>>>0,h=(Ce^V&(We^Ce))>>>0,o=((g>>>28|v<<4)^(v>>>2|g<<30)^(v>>>7|g<<25))>>>0,c=((g<<4|v>>>28)^(v<<30|g>>>2)^(v<<25|g>>>7))>>>0,y=(g&m|A&(g^m))>>>0,p=(v&S|k&(v^S))>>>0,K=Nn+f+h+Ws[fe][1]+t[fe][1],n=pr+u+l+Ws[fe][0]+t[fe][0]+(K/4294967296>>>0)>>>0,i=K>>>0,K=c+p,s=o+y+(K/4294967296>>>0)>>>0,a=K>>>0,pr=Ke,Nn=Ce,Ke=pe,Ce=We,pe=M,We=V,K=I+i,M=_+n+(K/4294967296>>>0)>>>0,V=K>>>0,_=A,I=k,A=m,k=S,m=g,S=v,K=i+a,g=n+s+(K/4294967296>>>0)>>>0,v=K>>>0;K=e[0][1]+v,e[0][0]=e[0][0]+g+(K/4294967296>>>0)>>>0,e[0][1]=K>>>0,K=e[1][1]+S,e[1][0]=e[1][0]+m+(K/4294967296>>>0)>>>0,e[1][1]=K>>>0,K=e[2][1]+k,e[2][0]=e[2][0]+A+(K/4294967296>>>0)>>>0,e[2][1]=K>>>0,K=e[3][1]+I,e[3][0]=e[3][0]+_+(K/4294967296>>>0)>>>0,e[3][1]=K>>>0,K=e[4][1]+V,e[4][0]=e[4][0]+M+(K/4294967296>>>0)>>>0,e[4][1]=K>>>0,K=e[5][1]+We,e[5][0]=e[5][0]+pe+(K/4294967296>>>0)>>>0,e[5][1]=K>>>0,K=e[6][1]+Ce,e[6][0]=e[6][0]+Ke+(K/4294967296>>>0)>>>0,e[6][1]=K>>>0,K=e[7][1]+Nn,e[7][0]=e[7][0]+pr+(K/4294967296>>>0)>>>0,e[7][1]=K>>>0,Da-=128}}});var Uu=C((px,Fu)=>{"use strict";var vi=65536;function Fy(e){let t=new Uint8Array(e),r=0;if(e>0)if(e>vi)for(;r<e;)r+vi>e?(crypto.getRandomValues(t.subarray(r,r+(e-r))),r+=e-r):(crypto.getRandomValues(t.subarray(r,r+vi)),r+=vi);else crypto.getRandomValues(t);return t}Fu.exports=Fy});var Qs=C((dx,Ou)=>{"use strict";var Uy=Uu(),Oy=Je();Ou.exports=function(e){if(isNaN(e)||e<=0)throw Oy(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Uy(e)}});var xi=C(dn=>{"use strict";le();fi();var My=X(),{fromString:Vy}=(Et(),St),{toString:Mu}=(Ve(),Me),{concat:Vu}=(sr(),ir);dn.bigIntegerToUintBase64url=(e,t)=>{let r=Uint8Array.from(e.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Vu([new Uint8Array(t-r.length),r])}return Mu(r,"base64url")};dn.base64urlToBigInteger=e=>{let t=dn.base64urlToBuffer(e);return new My.jsbn.BigInteger(Mu(t,"base16"),16)};dn.base64urlToBuffer=(e,t)=>{let r=Vy(e,"base64urlpad");if(t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Vu([new Uint8Array(t-r.length),r])}return r}});var $u=C(yn=>{"use strict";on();pi();var Ut=X(),{bigIntegerToUintBase64url:ht,base64urlToBigInteger:pt}=xi(),{fromString:zu}=(Et(),St),{toString:Hu}=(Ve(),Me);yn.pkcs1ToJwk=function(e){let t=Ut.asn1.fromDer(Hu(e,"ascii")),r=Ut.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:ht(r.n),e:ht(r.e),d:ht(r.d),p:ht(r.p),q:ht(r.q),dp:ht(r.dP),dq:ht(r.dQ),qi:ht(r.qInv),alg:"RS256",kid:"2011-04-29"}};yn.jwkToPkcs1=function(e){let t=Ut.pki.privateKeyToAsn1({n:pt(e.n),e:pt(e.e),d:pt(e.d),p:pt(e.p),q:pt(e.q),dP:pt(e.dp),dQ:pt(e.dq),qInv:pt(e.qi)});return zu(Ut.asn1.toDer(t).getBytes(),"ascii")};yn.pkixToJwk=function(e){let t=Ut.asn1.fromDer(Hu(e,"ascii")),r=Ut.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:ht(r.n),e:ht(r.e),alg:"RS256",kid:"2011-04-29"}};yn.jwkToPkix=function(e){let t=Ut.pki.publicKeyToAsn1({n:pt(e.n),e:pt(e.e)});return zu(Ut.asn1.toDer(t).getBytes(),"ascii")}});var Qu=C((vx,Wu)=>{"use strict";pi();var Gu=X(),{base64urlToBigInteger:zy}=xi();function ju(e,t){return t.map(r=>zy(e[r]))}function Hy(e){return Gu.pki.setRsaPrivateKey(...ju(e,["n","e","d","p","q","dp","dq","qi"]))}function $y(e){return Gu.pki.setRsaPublicKey(...ju(e,["n","e"]))}Wu.exports={jwk2pub:$y,jwk2priv:Hy}});var Xu=C(Ct=>{"use strict";var Bt=hn(),Gy=Qs(),{toString:jy}=(Ve(),Me),{fromString:Wy}=(Et(),St);Ct.utils=$u();Ct.generateKey=async function(e){let t=await Bt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Yu(t);return{privateKey:r[0],publicKey:r[1]}};Ct.unmarshalPrivateKey=async function(e){let r=[await Bt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Qy(e)],n=await Yu({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};Ct.getRandomValues=Gy;Ct.hashAndSign=async function(e,t){let r=await Bt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Bt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(t));return new Uint8Array(n,n.byteOffset,n.byteLength)};Ct.hashAndVerify=async function(e,t,r){let n=await Bt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Bt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,t,r)};function Yu(e){return Promise.all([Bt.get().subtle.exportKey("jwk",e.privateKey),Bt.get().subtle.exportKey("jwk",e.publicKey)])}function Qy(e){return Bt.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:Yy,jwk2priv:Zy}=Qu();function Zu(e,t,r,n){let i=t?Yy(e):Zy(e),s=jy(Uint8Array.from(r),"ascii"),a=n(s,i);return Wy(a,"ascii")}Ct.encrypt=function(e,t){return Zu(e,!0,t,(r,n)=>n.encrypt(r))};Ct.decrypt=function(e,t){return Zu(e,!1,t,(r,n)=>n.decrypt(r))}});var mi=C((mx,Ju)=>{"use strict";var{base64:Xy}=(Jr(),wr),Jy=Gs();Ju.exports={export:async function(e,t){let n=await Jy.create().encrypt(e,t);return Xy.encode(n)}}});var ic=C((bx,nc)=>{"use strict";var{sha256:ec}=(Ir(),nr),tc=Je(),{equals:rc}=(or(),ar),{toString:e1}=(Ve(),Me);qu();var bi=X(),ze=Xu(),wi=Qn(),t1=mi(),Si=class{constructor(t){this._key=t}async verify(t,r){return ze.hashAndVerify(this._key,r,t)}marshal(){return ze.utils.jwkToPkix(this._key)}get bytes(){return wi.PublicKey.encode({Type:wi.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(t){return ze.encrypt(this._key,t)}equals(t){return rc(this.bytes,t.bytes)}async hash(){let{bytes:t}=await ec.digest(this.bytes);return t}},gn=class{constructor(t,r){this._key=t,this._publicKey=r}genSecret(){return ze.getRandomValues(16)}async sign(t){return ze.hashAndSign(this._key,t)}get public(){if(!this._publicKey)throw tc(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Si(this._publicKey)}decrypt(t){return ze.decrypt(this._key,t)}marshal(){return ze.utils.jwkToPkcs1(this._key)}get bytes(){return wi.PrivateKey.encode({Type:wi.KeyType.RSA,Data:this.marshal()}).finish()}equals(t){return rc(this.bytes,t.bytes)}async hash(){let{bytes:t}=await ec.digest(this.bytes);return t}async id(){let t=await this.public.hash();return e1(t,"base58btc")}async export(t,r="pkcs-8"){if(r==="pkcs-8"){let n=new bi.util.ByteBuffer(this.marshal()),i=bi.asn1.fromDer(n),s=bi.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return bi.pki.encryptRsaPrivateKey(s,t,a)}else{if(r==="libp2p-key")return t1.export(this.bytes,t);throw tc(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function r1(e){let t=ze.utils.pkcs1ToJwk(e),r=await ze.unmarshalPrivateKey(t);return new gn(r.privateKey,r.publicKey)}function n1(e){let t=ze.utils.pkixToJwk(e);return new Si(t)}async function i1(e){let t=await ze.unmarshalPrivateKey(e);return new gn(t.privateKey,t.publicKey)}async function s1(e){let t=await ze.generateKey(e);return new gn(t.privateKey,t.publicKey)}nc.exports={RsaPublicKey:Si,RsaPrivateKey:gn,unmarshalRsaPublicKey:n1,unmarshalRsaPrivateKey:r1,generateKeyPair:s1,fromJwk:i1}});var hc=C((ae,lc)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.utils=ae.verify=ae.sign=ae.getPublicKey=ae.SignResult=ae.Signature=ae.Point=ae.ExtendedPoint=ae.CURVE=void 0;var oe={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};ae.CURVE=oe;var Ie=32,vn=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a1=25063068953384623474111414158702152701244531502492656460079210482610430750235n,o1=54469307008909316920995813868745141605393597292927456921205312896311721017578n,u1=1159843021668779879193775521855586647937357759715417654439879720876111806838n,c1=40440834346308536858101042469323190826248399146238708352240133220865137265952n,ee=class{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof se))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(se.ZERO)?ee.ZERO:new ee(t.x,t.y,1n,E(t.x*t.y))}static toAffineBatch(t){let r=l1(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}static fromRistrettoHash(t){let r=Xs(t.slice(0,Ie)),n=this.calcElligatorRistrettoMap(r),i=Xs(t.slice(Ie,Ie*2)),s=this.calcElligatorRistrettoMap(i);return n.add(s)}static calcElligatorRistrettoMap(t){let{d:r}=oe,n=E(vn*t*t),i=E((n+1n)*u1),s=-1n,a=E((s-r*n)*E(n+r)),{isValid:o,value:c}=ea(i,a),u=E(c*t);Mt(u)||(u=E(-u)),o||(c=u),o||(s=n);let f=E(s*(n-1n)*c1-a),l=c*c,h=E((c+c)*a),y=E(f*a1),p=E(1n-l),g=E(1n+l);return new ee(E(h*g),E(p*y),E(y*g),E(h*p))}static fromRistrettoBytes(t){let{a:r,d:n}=oe,i="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",s=Xs(t);if(!d1(ac(s,Ie),t)||Mt(s))throw new Error(i);let a=E(s*s),o=E(1n+r*a),c=E(1n-r*a),u=E(o*o),f=E(c*c),l=E(r*n*u-f),{isValid:h,value:y}=uc(E(l*f)),p=E(y*c),g=E(y*p*l),v=E((s+s)*p);Mt(v)&&(v=E(-v));let m=E(o*g),S=E(v*m);if(!h||Mt(S)||m===0n)throw new Error(i);return new ee(v,m,1n,S)}toRistrettoBytes(){let{x:t,y:r,z:n,t:i}=this,s=E((n+r)*(n-r)),a=E(t*r),{value:o}=uc(E(s*a**2n)),c=E(o*s),u=E(o*a),f=E(c*u*i),l;Mt(i*f)?([t,r]=[E(r*vn),E(t*vn)],l=E(c*o1)):l=u,Mt(t*f)&&(r=E(-r));let h=E((n-r)*l);return Mt(h)&&(h=E(-h)),ac(h,Ie)}equals(t){let r=this,n=t,[i,s,a,o]=[r.t,n.t,r.z,n.z];return E(i*o)===E(s*a)}negate(){return new ee(E(-this.x),this.y,this.z,E(-this.t))}double(){let t=this.x,r=this.y,n=this.z,{a:i}=oe,s=E(t**2n),a=E(r**2n),o=E(2n*n**2n),c=E(i*s),u=E((t+r)**2n-s-a),f=E(c+a),l=E(f-o),h=E(c-a),y=E(u*l),p=E(f*h),g=E(u*h),v=E(l*f);return new ee(y,p,v,g)}add(t){let r=this.x,n=this.y,i=this.z,s=this.t,a=t.x,o=t.y,c=t.z,u=t.t,f=E((n-r)*(o+a)),l=E((n+r)*(o-a)),h=E(l-f);if(h===0n)return this.double();let y=E(i*2n*u),p=E(s*2n*c),g=E(p+y),v=E(l+f),m=E(p-y),S=E(g*h),A=E(v*m),k=E(g*m),_=E(h*v);return new ee(S,A,_,k)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){if(!oc(t))throw new TypeError("Point#multiply: expected number or bigint");let r=E(BigInt(t),oe.n);if(r===1n)return this;let n=ee.ZERO,i=this;for(;r>0n;)r&1n&&(n=n.add(i)),i=i.double(),r>>=1n;return n}precomputeWindow(t){let r=256/t+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let o=1;o<2**(t-1);o++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(ee.BASE)&&(r=se.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Ys.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=ee.normalizeZ(i),Ys.set(r,i)));let s=ee.ZERO,a=ee.ZERO,o=256/n+1,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<o;h++){let y=h*c,p=Number(t&u);if(t>>=l,p>c&&(p-=f,t+=1n),p===0)a=a.add(h%2?i[y].negate():i[y]);else{let g=i[y+Math.abs(p)-1];s=s.add(p<0?g.negate():g)}}return[s,a]}multiply(t,r){if(!oc(t))throw new TypeError("Point#multiply: expected number or bigint");let n=E(BigInt(t),oe.n);return ee.normalizeZ(this.wNAF(n,r))[0]}toAffine(t=Js(this.z)){let r=E(this.x*t),n=E(this.y*t);return new se(r,n)}};ae.ExtendedPoint=ee;ee.BASE=new ee(oe.Gx,oe.Gy,1n,E(oe.Gx*oe.Gy));ee.ZERO=new ee(0n,1n,1n,0n);var Ys=new WeakMap,se=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Ys.delete(this)}static fromHex(t){let{d:r,P:n}=oe,i=t instanceof Uint8Array?t:xn(t);if(i.length!==32)throw new Error("Point.fromHex: expected 32 bytes");let s=i[31],a=s&~128,o=(s&128)!=0,c=Uint8Array.from(Array.from(i.slice(0,31)).concat(a)),u=_r(c);if(u>=n)throw new Error("Point.fromHex expects hex <= Fp");let f=E(u*u),l=E(f-1n),h=E(r*f+1n),{isValid:y,value:p}=ea(l,h);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let g=(p&1n)===1n;return o!==g&&(p=E(-p)),new se(p,u)}static async fromPrivateKey(t){let r=await ae.utils.sha512(fc(t));return se.BASE.multiply(cc(r))}toRawBytes(){let t=Zs(this.y),r=new Uint8Array(Ie);for(let i=t.length-2,s=0;s<Ie&&i>=0;i-=2,s++)r[s]=Number.parseInt(t[i]+t[i+1],16);let n=this.x&1n?128:0;return r[Ie-1]|=n,r}toHex(){return sc(this.toRawBytes())}toX25519(){return E((1n+this.y)*Js(1n-this.y))}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new se(E(-this.x),this.y)}add(t){return ee.fromAffine(this).add(ee.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return ee.fromAffine(this).multiply(t,this).toAffine()}};ae.Point=se;se.BASE=new se(oe.Gx,oe.Gy);se.ZERO=new se(0n,1n);var Ot=class{constructor(t,r){this.r=t,this.s=r}static fromHex(t){t=ra(t);let r=se.fromHex(t.slice(0,32)),n=_r(t.slice(32));if(!y1(n))throw new Error("Signature.fromHex expects s <= CURVE.n");return new Ot(r,n)}toRawBytes(){let t=xn(Zs(this.s)).reverse(),r=new Uint8Array(Ie);r.set(t);let n=new Uint8Array(Ie*2);return n.set(this.r.toRawBytes()),n.set(r,32),n}toHex(){return sc(this.toRawBytes())}};ae.Signature=Ot;ae.SignResult=Ot;function f1(...e){if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}function sc(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function xn(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2;t[r]=Number.parseInt(e.slice(n,n+2),16)}return t}function Zs(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function ac(e,t=Ie){let r=Zs(e).padStart(t*2,"0");return xn(r).reverse()}function Mt(e){return(E(e)&1n)===1n}function oc(e){return!!(typeof e=="bigint"&&e>0n||typeof e=="number"&&e>0&&Number.isSafeInteger(e))}function _r(e){let t=0n;for(let r=0;r<e.length;r++)t+=BigInt(e[r])<<8n*BigInt(r);return t}function Xs(e){return E(_r(e)&2n**255n-1n)}function E(e,t=oe.P){let r=e%t;return r>=0n?r:t+r}function Js(e,t=oe.P){if(e===0n||t<=0n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=E(e,t),n=t,[i,s,a,o]=[0n,1n,1n,0n];for(;r!==0n;){let u=n/r,f=n%r,l=i-a*u,h=s-o*u;[n,r]=[r,f],[i,s]=[a,o],[a,o]=[l,h]}if(n!==1n)throw new Error("invert: does not exist");return E(i,t)}function l1(e,t=oe.P){let r=e.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)e[s]!==0n&&(n[s]=i,i=E(i*e[s],t));i=Js(i,t);for(let s=r-1;s>=0;s--){if(e[s]===0n)continue;let a=E(i*e[s],t);e[s]=E(i*n[s],t),i=a}return e}function dt(e,t){let{P:r}=oe,n=e;for(;t-- >0n;)n*=n,n%=r;return n}function h1(e){let{P:t}=oe,n=e*e%t*e%t,i=dt(n,2n)*n%t,s=dt(i,1n)*e%t,a=dt(s,5n)*s%t,o=dt(a,10n)*a%t,c=dt(o,20n)*o%t,u=dt(c,40n)*c%t,f=dt(u,80n)*u%t,l=dt(f,80n)*u%t,h=dt(l,10n)*a%t;return dt(h,2n)*e%t}function ea(e,t){let r=E(t*t*t),n=E(r*r*t),i=E(e*r*h1(e*n)),s=E(t*i*i),a=i,o=E(i*vn),c=s===e,u=s===E(-e),f=s===E(-e*vn);return c&&(i=a),(u||f)&&(i=o),Mt(i)&&(i=E(-i)),{isValid:c||u,value:i}}function uc(e){return ea(1n,e)}async function ta(...e){let t=f1(...e),r=await ae.utils.sha512(t),n=_r(r);return E(n,oe.n)}function p1(e){return e.slice(Ie)}function cc(e){let t=Ie-1,r=e.slice(0,Ie);return r[0]&=248,r[t]&=127,r[t]|=64,E(_r(r),oe.n)}function d1(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ra(e){return e instanceof Uint8Array?e:xn(e)}function y1(e){return 0<e&&e<oe.n}function fc(e){let t;if(typeof e=="bigint"||typeof e=="number"&&Number.isSafeInteger(e)){if(t=BigInt(e),t<0n||t>2n**256n)throw new Error("Expected 32 bytes of private key");e=t.toString(16).padStart(Ie*2,"0")}if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");return xn(e)}else if(e instanceof Uint8Array){if(e.length!==32)throw new Error("Expected 32 bytes of private key");return e}else throw new TypeError("Expected valid private key")}async function g1(e){let t=await se.fromPrivateKey(e);return typeof e=="string"?t.toHex():t.toRawBytes()}ae.getPublicKey=g1;async function v1(e,t){let r=await ae.utils.sha512(fc(t)),n=cc(r),i=se.BASE.multiply(n),s=ra(e),a=await ta(p1(r),s),o=se.BASE.multiply(a),c=await ta(o.toRawBytes(),i.toRawBytes(),s),u=E(a+c*n,oe.n),f=new Ot(o,u);return typeof e=="string"?f.toHex():f.toRawBytes()}ae.sign=v1;async function x1(e,t,r){t=ra(t),r instanceof se||(r=se.fromHex(r)),e instanceof Ot||(e=Ot.fromHex(e));let n=await ta(e.r.toRawBytes(),r.toRawBytes(),t),i=ee.fromAffine(r).multiplyUnsafe(n),s=ee.BASE.multiply(e.s);return ee.fromAffine(e.r).add(i).subtract(s).multiplyUnsafe(8n).equals(ee.ZERO)}ae.verify=x1;se.BASE._setWindowSize(8);var Vt=(()=>{let e=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof lc!="undefined"&&typeof Ln=="function"&&!e?Cr():void 0,web:e}})();ae.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(e=32)=>{if(Vt.web)return Vt.web.getRandomValues(new Uint8Array(e));if(Vt.node){let{randomBytes:t}=Vt.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let e=1024;for(;e--;){let t=ae.utils.randomBytes(32),r=_r(t);if(r>1n&&r<oe.n)return t}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async e=>{if(Vt.web){let t=await Vt.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Vt.node)return Uint8Array.from(Vt.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=se.BASE){let r=t.equals(se.BASE)?t:new se(t.x,t.y);return r._setWindowSize(e),r.multiply(1n),r}}});var dc=C(zt=>{"use strict";var mn=hc(),m1=32,b1=64,Ei=32;zt.publicKeyLength=m1;zt.privateKeyLength=b1;zt.generateKey=async function(){let e=mn.utils.randomPrivateKey(),t=await mn.getPublicKey(e);return{privateKey:pc(e,t),publicKey:t}};zt.generateKeyFromSeed=async function(e){if(e.length!==Ei)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let t=e,r=await mn.getPublicKey(t);return{privateKey:pc(t,r),publicKey:r}};zt.hashAndSign=function(e,t){let r=e.slice(0,Ei);return mn.sign(t,r)};zt.hashAndVerify=function(e,t,r){return mn.verify(t,r,e)};function pc(e,t){let r=new Uint8Array(zt.privateKeyLength);for(let n=0;n<Ei;n++)r[n]=e[n],r[Ei+n]=t[n];return r}});var mc=C((Sx,xc)=>{"use strict";var yc=Je(),{equals:gc}=(or(),ar),{sha256:vc}=(Ir(),nr),{base58btc:w1}=(Pt(),Rt),{identity:S1}=(yi(),ln),Se=dc(),Bi=Qn(),E1=mi(),Ci=class{constructor(t){this._key=Pr(t,Se.publicKeyLength)}async verify(t,r){return Se.hashAndVerify(this._key,r,t)}marshal(){return this._key}get bytes(){return Bi.PublicKey.encode({Type:Bi.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(t){return gc(this.bytes,t.bytes)}async hash(){let{bytes:t}=await vc.digest(this.bytes);return t}},Rr=class{constructor(t,r){this._key=Pr(t,Se.privateKeyLength),this._publicKey=Pr(r,Se.publicKeyLength)}async sign(t){return Se.hashAndSign(this._key,t)}get public(){return new Ci(this._publicKey)}marshal(){return this._key}get bytes(){return Bi.PrivateKey.encode({Type:Bi.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(t){return gc(this.bytes,t.bytes)}async hash(){let{bytes:t}=await vc.digest(this.bytes);return t}async id(){let t=await S1.digest(this.public.bytes);return w1.encode(t.bytes).substring(1)}async export(t,r="libp2p-key"){if(r==="libp2p-key")return E1.export(this.bytes,t);throw yc(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function B1(e){if(e.length>Se.privateKeyLength){e=Pr(e,Se.privateKeyLength+Se.publicKeyLength);let n=e.slice(0,Se.privateKeyLength),i=e.slice(Se.privateKeyLength,e.length);return new Rr(n,i)}e=Pr(e,Se.privateKeyLength);let t=e.slice(0,Se.privateKeyLength),r=e.slice(Se.publicKeyLength);return new Rr(t,r)}function C1(e){return e=Pr(e,Se.publicKeyLength),new Ci(e)}async function A1(){let{privateKey:e,publicKey:t}=await Se.generateKey();return new Rr(e,t)}async function T1(e){let{privateKey:t,publicKey:r}=await Se.generateKeyFromSeed(e);return new Rr(t,r)}function Pr(e,t){if(e=Uint8Array.from(e||[]),e.length!==t)throw yc(new Error(`Key must be a Uint8Array of length ${t}, got ${e.length}`),"ERR_INVALID_KEY_TYPE");return e}xc.exports={Ed25519PublicKey:Ci,Ed25519PrivateKey:Rr,unmarshalEd25519PrivateKey:B1,unmarshalEd25519PublicKey:C1,generateKeyPair:A1,generateKeyPairFromSeed:T1}});var Kc=C((j,kc)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.utils=j.schnorr=j.verify=j.signSync=j.sign=j.getSharedSecret=j.recoverPublicKey=j.getPublicKey=j.SignResult=j.Signature=j.Point=j.CURVE=void 0;var Q={a:0n,b:7n,P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,h:1n,Gx:55066263022277343669578718895168534326250603453777594175500187360389116729240n,Gy:32670510020758816978083085130507043184471273380659243275938904335757337482424n,beta:0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501een};j.CURVE=Q;function bc(e){let{a:t,b:r}=Q;return P(e**3n+t*e+r)}var Ai=Q.a===0n,G=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof Y))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new G(t.x,t.y,1n)}static toAffineBatch(t){let r=_1(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return G.toAffineBatch(t).map(G.fromAffine)}equals(t){let r=this,n=t,i=P(r.z*r.z),s=P(r.z*i),a=P(n.z*n.z),o=P(n.z*a);return P(r.x*a)===P(i*n.x)&&P(r.y*o)===P(s*n.y)}negate(){return new G(this.x,P(-this.y),this.z)}double(){let t=this.x,r=this.y,n=this.z,i=P(t**2n),s=P(r**2n),a=P(s**2n),o=P(2n*(P(P((t+s)**2n))-i-a)),c=P(3n*i),u=P(c**2n),f=P(u-2n*o),l=P(c*(o-f)-8n*a),h=P(2n*r*n);return new G(f,l,h)}add(t){if(!(t instanceof G))throw new TypeError("JacobianPoint#add: expected JacobianPoint");let r=this.x,n=this.y,i=this.z,s=t.x,a=t.y,o=t.z;if(s===0n||a===0n)return this;if(r===0n||n===0n)return t;let c=P(i**2n),u=P(o**2n),f=P(r*u),l=P(s*c),h=P(n*o*u),y=P(P(a*i)*c),p=P(l-f),g=P(y-h);if(p===0n)return g===0n?this.double():G.ZERO;let v=P(p**2n),m=P(p*v),S=P(f*v),A=P(g**2n-m-2n*S),k=P(g*(S-A)-h*m),_=P(i*o*p);return new G(A,k,_)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){if(!Ec(t))throw new TypeError("Point#multiply: expected valid scalar");let r=P(BigInt(t),Q.n);if(!Ai){let f=G.ZERO,l=this;for(;r>0n;)r&1n&&(f=f.add(l)),l=l.double(),r>>=1n;return f}let[n,i,s,a]=Cc(r),o=G.ZERO,c=G.ZERO,u=this;for(;i>0n||a>0n;)i&1n&&(o=o.add(u)),a&1n&&(c=c.add(u)),u=u.double(),i>>=1n,a>>=1n;return n&&(o=o.negate()),s&&(c=c.negate()),c=new G(P(c.x*Q.beta),c.y,c.z),o.add(c)}precomputeWindow(t){let r=Ai?128/t+1:256/t+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let o=1;o<2**(t-1);o++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(G.BASE)&&(r=Y.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&na.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=G.normalizeZ(i),na.set(r,i)));let s=G.ZERO,a=G.ZERO,o=Ai?128/n+1:256/n+1,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<o;h++){let y=h*c,p=Number(t&u);if(t>>=l,p>c&&(p-=f,t+=1n),p===0)a=a.add(h%2?i[y].negate():i[y]);else{let g=i[y+Math.abs(p)-1];s=s.add(p<0?g.negate():g)}}return[s,a]}multiply(t,r){if(!Ec(t))throw new TypeError("Point#multiply: expected valid scalar");let n=P(BigInt(t),Q.n),i,s;if(Ai){let[a,o,c,u]=Cc(n),f,l,h,y;[f,h]=this.wNAF(o,r),[l,y]=this.wNAF(u,r),a&&(f=f.negate()),c&&(l=l.negate()),l=new G(P(l.x*Q.beta),l.y,l.z),[i,s]=[f.add(l),h.add(y)]}else[i,s]=this.wNAF(n,r);return G.normalizeZ([i,s])[0]}toAffine(t=Sn(this.z)){let r=t**2n,n=P(this.x*r),i=P(this.y*r*t);return new Y(n,i)}};G.BASE=new G(Q.Gx,Q.Gy,1n);G.ZERO=new G(0n,1n,0n);var na=new WeakMap,Y=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,na.delete(this)}static fromCompressedHex(t){let r=t.length===32,n=He(r?t:t.slice(1)),i=bc(n),s=I1(i),a=(s&1n)===1n;r?a&&(s=P(-s)):(t[0]&1)==1!==a&&(s=P(-s));let o=new Y(n,s);return o.assertValidity(),o}static fromUncompressedHex(t){let r=He(t.slice(1,33)),n=He(t.slice(33)),i=new Y(r,n);return i.assertValidity(),i}static fromHex(t){let r=_i(t),n=r[0];if(r.length===32||r.length===33&&(n===2||n===3))return this.fromCompressedHex(r);if(r.length===65&&n===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r.length}`)}static fromPrivateKey(t){return Y.BASE.multiply(Dr(t))}static fromSignature(t,r,n){let i=t instanceof Uint8Array?He(t):Tt(t),s=Ic(r),{r:a,s:o}=s;if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid yParity bit");let c=2+(n&1),u=Y.fromHex(`0${c}${Ht(a)}`),f=G.fromAffine(u).multiplyUnsafe(o),l=G.BASE.multiply(i),h=Sn(a,Q.n),p=f.subtract(l).multiplyUnsafe(h).toAffine();return p.assertValidity(),p}toRawBytes(t=!1){return $t(this.toHex(t))}toHex(t=!1){let r=Ht(this.x);return t?`${this.y&1n?"03":"02"}${r}`:`04${r}${Ht(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{P:r}=Q,{x:n,y:i}=this;if(n===0n||i===0n||n>=r||i>=r)throw new Error(t);let s=P(i*i),a=bc(n);if((s-a)%r!==0n)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Y(this.x,P(-this.y))}double(){return G.fromAffine(this).double().toAffine()}add(t){return G.fromAffine(this).add(G.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return G.fromAffine(this).multiply(t,this).toAffine()}};j.Point=Y;Y.BASE=new Y(Q.Gx,Q.Gy);Y.ZERO=new Y(0n,0n);function wc(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}var At=class{constructor(t,r){this.r=t,this.s=r}static fromCompact(t){if(typeof t!="string"&&!(t instanceof Uint8Array))throw new TypeError("Signature.fromCompact: Expected string or Uint8Array");let r=t instanceof Uint8Array?Ti(t):t;if(r.length!==128)throw new Error("Signature.fromCompact: Expected 64-byte hex");let n=new At(Tt(r.slice(0,64)),Tt(r.slice(64,128)));return n.assertValidity(),n}static fromDER(t){let r="Signature.fromDER";if(typeof t!="string"&&!(t instanceof Uint8Array))throw new TypeError(`${r}: Expected string or Uint8Array`);let n=t instanceof Uint8Array?Ti(t):t,i=wn(n.slice(2,4));if(n.slice(0,2)!=="30"||i!==n.length-4||n.slice(4,6)!=="02")throw new Error(`${r}: Invalid signature ${n}`);let s=wn(n.slice(6,8)),a=8+s,o=n.slice(8,a);if(o.startsWith("00")&&wn(o.slice(2,4))<=127)throw new Error(`${r}: Invalid r with trailing length`);let c=Tt(o);if(n.slice(a,a+2)!=="02")throw new Error(`${r}: Invalid r-s separator`);let f=wn(n.slice(a+2,a+4)),l=i-f-s-10;if(l>0||l===-4)throw new Error(`${r}: Invalid total length`);if(f>i-s-4)throw new Error(`${r}: Invalid s`);let h=a+4,y=n.slice(h,h+f);if(y.startsWith("00")&&wn(y.slice(2,4))<=127)throw new Error(`${r}: Invalid s with trailing length`);let p=Tt(y),g=new At(c,p);return g.assertValidity(),g}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!En(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!En(r))throw new Error("Invalid Signature: s must be 0 < s < n")}toDERRawBytes(t=!1){return $t(this.toDERHex(t))}toDERHex(t=!1){let r=wc(bn(this.s));if(t)return r;let n=wc(bn(this.r)),i=bn(n.length/2),s=bn(r.length/2);return`30${bn(n.length/2+r.length/2+4)}02${i}${n}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return $t(this.toCompactHex())}toCompactHex(){return Ht(this.r)+Ht(this.s)}};j.Signature=At;j.SignResult=At;function Sc(...e){if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}function Ti(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function Ht(e){return e.toString(16).padStart(64,"0")}function Ii(e){return $t(Ht(e))}function bn(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Tt(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function $t(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2;t[r]=Number.parseInt(e.slice(n,n+2),16)}return t}function _i(e){return e instanceof Uint8Array?e:$t(e)}function He(e){return Tt(Ti(e))}function wn(e){return Number.parseInt(e,16)*2}function Ec(e){return!!(typeof e=="bigint"&&e>0n||typeof e=="number"&&e>0&&Number.isSafeInteger(e))}function P(e,t=Q.P){let r=e%t;return r>=0?r:t+r}function $e(e,t){let{P:r}=Q,n=e;for(;t-- >0n;)n*=n,n%=r;return n}function I1(e){let{P:t}=Q,r=e*e*e%t,n=r*r*e%t,i=$e(n,3n)*n%t,s=$e(i,3n)*n%t,a=$e(s,2n)*r%t,o=$e(a,11n)*a%t,c=$e(o,22n)*o%t,u=$e(c,44n)*c%t,f=$e(u,88n)*u%t,l=$e(f,44n)*c%t,h=$e(l,3n)*n%t,y=$e(h,23n)*o%t,p=$e(y,6n)*r%t;return $e(p,2n)}function Sn(e,t=Q.P){if(e===0n||t<=0n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=P(e,t),n=t,[i,s,a,o]=[0n,1n,1n,0n];for(;r!==0n;){let u=n/r,f=n%r,l=i-a*u,h=s-o*u;[n,r]=[r,f],[i,s]=[a,o],[a,o]=[l,h]}if(n!==1n)throw new Error("invert: does not exist");return P(i,t)}function _1(e,t=Q.P){let r=e.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)e[s]!==0n&&(n[s]=i,i=P(i*e[s],t));i=Sn(i,t);for(let s=r-1;s>=0;s--){if(e[s]===0n)continue;let a=P(i*e[s],t);e[s]=P(i*n[s],t),i=a}return e}var Bc=(e,t)=>(e+t/2n)/t,Ri=2n**128n;function Cc(e){let{n:t}=Q,r=0x3086d221a7d46bcde86c90e49284eb15n,n=-0xe4437ed6010e88286f547fa90abfe4c3n,i=0x114ca50f7a8e2f3f657c1108d9d44cfd8n,s=r,a=Bc(s*e,t),o=Bc(-n*e,t),c=P(e-a*r-o*i,t),u=P(-a*n-o*s,t),f=c>Ri,l=u>Ri;if(f&&(c=t-c),l&&(u=t-u),c>Ri||u>Ri)throw new Error("splitScalarEndo: Endomorphism failed");return[f,c,l,u]}function R1(e){typeof e!="string"&&(e=Ti(e));let t=Tt(e||"0"),n=e.length/2*8-256;return n>0&&(t=t>>BigInt(n)),t>=Q.n&&(t-=Q.n),t}function Ac(e,t){if(e==null)throw new Error(`sign: expected valid msgHash, not "${e}"`);let r=typeof e=="string"?Tt(e):He(e),n=Ii(r),i=He(n),s=Ii(t),a=new Uint8Array(32).fill(1),o=new Uint8Array(32).fill(0),c=Uint8Array.from([0]),u=Uint8Array.from([1]);return[n,i,s,a,o,c,u]}async function P1(e,t){let r=Dr(t),[n,i,s,a,o,c,u]=Ac(e,r),f=j.utils.hmacSha256;o=await f(o,a,c,s,n),a=await f(o,a),o=await f(o,a,u,s,n),a=await f(o,a);for(let l=0;l<1e3;l++){a=await f(o,a);let h=Tc(a,i,r);if(h)return h;o=await f(o,a,c),a=await f(o,a)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function D1(e,t){let r=Dr(t),[n,i,s,a,o,c,u]=Ac(e,r),f=j.utils.hmacSha256Sync;if(!f)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");if(o=f(o,a,c,s,n),o instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");a=f(o,a),o=f(o,a,u,s,n),a=f(o,a);for(let l=0;l<1e3;l++){a=f(o,a);let h=Tc(a,i,r);if(h)return h;o=f(o,a,c),a=f(o,a)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function En(e){return 0<e&&e<Q.n}function Tc(e,t,r){let n=He(e);if(!En(n))return;let i=Q.n,s=Y.BASE.multiply(n),a=P(s.x,i),o=P(Sn(n,i)*(t+a*r),i);if(!(a===0n||o===0n))return[s,a,o]}function Dr(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=Tt(e)}else if(e instanceof Uint8Array){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=He(e)}else throw new TypeError("Expected valid private key");if(!En(t))throw new Error("Expected private key: 0 < key < n");return t}function ia(e){return e instanceof Y?(e.assertValidity(),e):Y.fromHex(e)}function Ic(e){return e instanceof At?(e.assertValidity(),e):At.fromDER(e)}function k1(e,t=!1){let r=Y.fromPrivateKey(e);return typeof e=="string"?r.toHex(t):r.toRawBytes(t)}j.getPublicKey=k1;function K1(e,t,r){let n=Y.fromSignature(e,t,r);return typeof e=="string"?n.toHex():n.toRawBytes()}j.recoverPublicKey=K1;function _c(e){let t=e instanceof Uint8Array,r=typeof e=="string",n=(t||r)&&e.length;return t?n===33||n===65:r?n===66||n===130:e instanceof Y}function N1(e,t,r=!1){if(_c(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!_c(t))throw new TypeError("getSharedSecret: second arg must be public key");let n=ia(t);n.assertValidity();let i=n.multiply(Dr(e));return typeof e=="string"?i.toHex(r):i.toRawBytes(r)}j.getSharedSecret=N1;function Rc(e,t,r=!1){let[n,i,s]=e,{canonical:a,der:o,recovered:c}=t,u=(n.x===i?0:2)|Number(n.y&1n),f=s,l=Q.n>>1n;s>l&&a&&(f=Q.n-s,u^=1);let h=new At(i,f);h.assertValidity();let y=o===!1?h.toCompactHex():h.toDERHex(),p=r?y:$t(y);return c?[p,u]:p}async function L1(e,t,r={}){return Rc(await P1(e,t),r,typeof e=="string")}j.sign=L1;function q1(e,t,r={}){return Rc(D1(e,t),r,typeof e=="string")}j.signSync=q1;function F1(e,t,r){let{n}=Q,i;try{i=Ic(e)}catch(v){return!1}let{r:s,s:a}=i,o=R1(t);if(o===0n)return!1;let c=G.fromAffine(ia(r)),u=Sn(a,n),f=P(o*u,n),l=P(s*u,n),h=G.BASE.multiply(f),y=c.multiplyUnsafe(l),p=h.add(y).toAffine();return P(p.x,n)===s}j.verify=F1;async function sa(e,...t){let r=new Uint8Array(e.split("").map(s=>s.charCodeAt(0))),n=await j.utils.sha256(r),i=await j.utils.sha256(Sc(n,n,...t));return He(i)}async function Pc(e,t,r){let n=Ii(e),i=await sa("BIP0340/challenge",n,t.toRawX(),r);return P(i,Q.n)}function aa(e){return P(e.y,2n)===0n}var cr=class{constructor(t,r){if(this.r=t,this.s=r,t<=0n||r<=0n||t>=Q.P||r>=Q.n)throw new Error("Invalid signature")}static fromHex(t){let r=_i(t);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=He(r.slice(0,32)),i=He(r.slice(32));return new cr(n,i)}toHex(){return Ht(this.r)+Ht(this.s)}toRawBytes(){return $t(this.toHex())}};function U1(e){let t=Y.fromPrivateKey(e);return typeof e=="string"?t.toHexX():t.toRawX()}async function O1(e,t,r=j.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);t||(t=0n);let{n}=Q,i=_i(e),s=Dr(t),a=_i(r);if(a.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let o=Y.fromPrivateKey(s),c=aa(o)?s:n-s,u=await sa("BIP0340/aux",a),f=c^u,l=await sa("BIP0340/nonce",Ii(f),o.toRawX(),i),h=P(l,n);if(h===0n)throw new Error("sign: Creation of signature failed. k is zero");let y=Y.fromPrivateKey(h),p=aa(y)?h:n-h,g=await Pc(y.x,o,i),v=new cr(y.x,P(p+g*c,n));if(!await Dc(v.toRawBytes(),i,o.toRawX()))throw new Error("sign: Invalid signature produced");return typeof e=="string"?v.toHex():v.toRawBytes()}async function Dc(e,t,r){let n=e instanceof cr?e:cr.fromHex(e),i=typeof t=="string"?$t(t):t,s=ia(r),a=await Pc(n.r,s,i),o=Y.fromPrivateKey(n.s),c=s.multiply(a),u=o.subtract(c);return!(u.equals(Y.BASE)||!aa(u)||u.x!==n.r)}j.schnorr={Signature:cr,getPublicKey:U1,sign:O1,verify:Dc};Y.BASE._setWindowSize(8);var Ne=(()=>{let e=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof kc!="undefined"&&typeof Ln=="function"&&!e?Cr():void 0,web:e}})();j.utils={isValidPrivateKey(e){try{return Dr(e),!0}catch(t){return!1}},randomBytes:(e=32)=>{if(Ne.web)return Ne.web.getRandomValues(new Uint8Array(e));if(Ne.node){let{randomBytes:t}=Ne.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let e=8;for(;e--;){let t=j.utils.randomBytes(32),r=He(t);if(En(r)&&r!==1n)return t}throw new Error("Valid private key was not found in 8 iterations. PRNG is broken")},sha256:async e=>{if(Ne.web){let t=await Ne.web.subtle.digest("SHA-256",e.buffer);return new Uint8Array(t)}else if(Ne.node){let{createHash:t}=Ne.node;return Uint8Array.from(t("sha256").update(e).digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Ne.web){let r=await Ne.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Sc(...t),i=await Ne.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Ne.node){let{createHmac:r}=Ne.node,n=r("sha256",e);for(let i of t)n.update(i);return Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(e=8,t=Y.BASE){let r=t===Y.BASE?t:new Y(t.x,t.y);return r._setWindowSize(e),r.multiply(3n),r}}});var qc=C((Ex,Lc)=>{"use strict";var Bn=Je(),Gt=Kc(),{sha256:Nc}=(Ir(),nr);Lc.exports=()=>{let e=32;function t(){return Gt.utils.randomPrivateKey()}async function r(u,f){let{digest:l}=await Nc.digest(f);try{return await Gt.sign(l,u)}catch(h){throw Bn(h,"ERR_INVALID_INPUT")}}async function n(u,f,l){try{let{digest:h}=await Nc.digest(l);return Gt.verify(f,h,u)}catch(h){throw Bn(h,"ERR_INVALID_INPUT")}}function i(u){return Gt.Point.fromHex(u).toRawBytes(!0)}function s(u){return Gt.Point.fromHex(u).toRawBytes(!1)}function a(u){try{Gt.getPublicKey(u,!0)}catch(f){throw Bn(f,"ERR_INVALID_PRIVATE_KEY")}}function o(u){try{Gt.Point.fromHex(u)}catch(f){throw Bn(f,"ERR_INVALID_PUBLIC_KEY")}}function c(u){try{return Gt.getPublicKey(u,!0)}catch(f){throw Bn(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:t,privateKeyLength:e,hashAndSign:r,hashAndVerify:n,compressPublicKey:i,decompressPublicKey:s,validatePrivateKey:a,validatePublicKey:o,computePublicKey:c}}});var Mc=C((Bx,Oc)=>{"use strict";var{sha256:Fc}=(Ir(),nr),M1=Je(),{equals:Uc}=(or(),ar),{toString:V1}=(Ve(),Me),z1=mi();Oc.exports=(e,t,r)=>{r=r||qc()();class n{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,f){return r.hashAndVerify(this._key,f,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Uc(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Fc.digest(this.bytes);return u}}class i{constructor(u,f){this._key=u,this._publicKey=f||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Uc(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Fc.digest(this.bytes);return u}async id(){let u=await this.public.hash();return V1(u,"base58btc")}async export(u,f="libp2p-key"){if(f==="libp2p-key")return z1.export(this.bytes,u);throw M1(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(c){return new i(c)}function a(c){return new n(c)}async function o(){let c=await r.generateKey();return new i(c)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:o}}});var zc=C((Cx,Vc)=>{"use strict";Vc.exports={SHA1:20,SHA256:32,SHA512:64}});var Gc=C($c=>{"use strict";var Hc=hn(),H1=zc(),$1={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},G1=async(e,t)=>{let r=await Hc.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(r,r.byteOffset,r.byteLength)};$c.create=async function(e,t){let r=$1[e],n=await Hc.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return G1(n,i)},length:H1[e]}}});var Zc=C((Tx,Yc)=>{"use strict";var jc=Je(),{concat:Wc}=(sr(),ir),{fromString:j1}=(Et(),St),W1=Gc(),Qc={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Yc.exports=async(e,t,r)=>{let n=Qc[e];if(!n){let S=Object.keys(Qc).join(" / ");throw jc(new Error(`unknown cipher type '${e}'. Must be ${S}`),"ERR_INVALID_CIPHER_TYPE")}if(!t)throw jc(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,s=n.ivSize,a=20,o=j1("key expansion"),c=2*(s+i+a),u=await W1.create(t,r),f=await u.digest(o),l=[],h=0;for(;h<c;){let S=await u.digest(Wc([f,o])),A=S.length;h+A>c&&(A=c-h),l.push(S),h+=A,f=await u.digest(f)}let y=c/2,p=Wc(l),g=p.slice(0,y),v=p.slice(y,c),m=S=>({iv:S.slice(0,s),cipherKey:S.slice(s,s+i),macKey:S.slice(s+i)});return{k1:m(g),k2:m(v)}}});var Jc=C((Ix,Xc)=>{"use strict";var Q1=Je();Xc.exports=function(e,t){if(!e.includes(t)){let r=e.join(" / ");throw Q1(new Error(`Unknown curve: ${t}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var af=C(sf=>{"use strict";var Y1=Je(),Cn=hn(),{base64urlToBuffer:ef}=xi(),Z1=Jc(),{toString:oa}=(Ve(),Me),{concat:X1}=(sr(),ir),{equals:J1}=(or(),ar),tf={"P-256":256,"P-384":384,"P-521":521};sf.generateEphmeralKeyPair=async function(e){Z1(Object.keys(tf),e);let t=await Cn.get().subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]),r=async(i,s)=>{let a;s?a=await Cn.get().subtle.importKey("jwk",t2(e,s),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):a=t.privateKey;let o=[await Cn.get().subtle.importKey("jwk",nf(e,i),{name:"ECDH",namedCurve:e},!1,[]),a],c=await Cn.get().subtle.deriveBits({name:"ECDH",namedCurve:e,public:o[0]},o[1],tf[e]);return new Uint8Array(c,c.byteOffset,c.byteLength)},n=await Cn.get().subtle.exportKey("jwk",t.publicKey);return{key:e2(n),genSharedKey:r}};var rf={"P-256":32,"P-384":48,"P-521":66};function e2(e){let t=rf[e.crv];return X1([Uint8Array.from([4]),ef(e.x,t),ef(e.y,t)],1+t*2)}function nf(e,t){let r=rf[e];if(J1(!t.slice(0,1),Uint8Array.from([4])))throw Y1(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:oa(t.slice(1,r+1),"base64url"),y:oa(t.slice(1+r),"base64url"),ext:!0}}var t2=(e,t)=>({...nf(e,t.public),d:oa(t.private,"base64url")})});var uf=C((Rx,of)=>{"use strict";var r2=af();of.exports=async e=>r2.generateEphmeralKeyPair(e)});var lf=C((Px,ff)=>{"use strict";var yt=Qn();on();hu();var ua=X(),An=Je(),{fromString:n2}=(Et(),St),i2=Du(),Ge={rsa:ic(),ed25519:mc(),secp256k1:Mc()(yt,Qs())},Pi={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function kr(e){let t=Ge[e.toLowerCase()];if(!t){let r=Object.keys(Ge).join(" / ");throw An(new Error(`invalid or unsupported key type ${e}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return t}var s2=async(e,t)=>kr(e).generateKeyPair(t),a2=async(e,t,r)=>{let n=kr(e);if(e.toLowerCase()!=="ed25519")throw An(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(t,r)},o2=e=>{let t=yt.PublicKey.decode(e),r=t.Data;switch(t.Type){case yt.KeyType.RSA:return Ge.rsa.unmarshalRsaPublicKey(r);case yt.KeyType.Ed25519:return Ge.ed25519.unmarshalEd25519PublicKey(r);case yt.KeyType.Secp256k1:if(Ge.secp256k1)return Ge.secp256k1.unmarshalSecp256k1PublicKey(r);throw An(new Error(Pi.message),Pi.code);default:kr(t.Type)}},u2=(e,t)=>(t=(t||"rsa").toLowerCase(),kr(t),e.bytes),cf=async e=>{let t=yt.PrivateKey.decode(e),r=t.Data;switch(t.Type){case yt.KeyType.RSA:return Ge.rsa.unmarshalRsaPrivateKey(r);case yt.KeyType.Ed25519:return Ge.ed25519.unmarshalEd25519PrivateKey(r);case yt.KeyType.Secp256k1:if(Ge.secp256k1)return Ge.secp256k1.unmarshalSecp256k1PrivateKey(r);throw An(new Error(Pi.message),Pi.code);default:kr(t.Type)}},c2=(e,t)=>(t=(t||"rsa").toLowerCase(),kr(t),e.bytes),f2=async(e,t)=>{try{let i=await i2.import(e,t);return cf(i)}catch(i){}let r=ua.pki.decryptRsaPrivateKey(e,t);if(r===null)throw An(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=ua.asn1.toDer(ua.pki.privateKeyToAsn1(r));return n=n2(n.getBytes(),"ascii"),Ge.rsa.unmarshalRsaPrivateKey(n)};ff.exports={supportedKeys:Ge,keysPBM:yt,keyStretcher:Zc(),generateEphemeralKeyPair:uf(),generateKeyPair:s2,generateKeyPairFromSeed:a2,unmarshalPublicKey:o2,marshalPublicKey:u2,unmarshalPrivateKey:cf,marshalPrivateKey:c2,import:f2}});var hf=C((Dx,ca)=>{"use strict";function l2(e,{className:t,symbolName:r}){let n=Symbol.for(r),i={[t]:class extends e{constructor(...s){super(...s);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i[`is${t}`]=s=>!!(s&&s[n]),i}function h2(e,{className:t,symbolName:r,withoutNew:n}){let i=Symbol.for(r),s={[t]:function(...a){if(n&&!(this instanceof s))return new s(...a);let o=e.call(this,...a)||this;return o&&!o[i]&&Object.defineProperty(o,i,{value:!0}),o}}[t];return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return t}}),s[`is${t}`]=a=>!!(a&&a[i]),s}ca.exports=l2;ca.exports.proto=h2});var yf=C((kx,df)=>{"use strict";var Kr=gs(),pf=Kr.Reader,p2=Kr.Writer,ye=Kr.util,Tn=Kr.roots["libp2p-peer-id"]||(Kr.roots["libp2p-peer-id"]={});Tn.PeerIdProto=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.id=ye.newBuffer([]),e.prototype.pubKey=ye.newBuffer([]),e.prototype.privKey=ye.newBuffer([]),e.encode=function(r,n){return n||(n=p2.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},e.decode=function(r,n){r instanceof pf||(r=pf.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new Tn.PeerIdProto;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("id"))throw ye.ProtocolError("missing required 'id'",{instance:s});return s},e.fromObject=function(r){if(r instanceof Tn.PeerIdProto)return r;var n=new Tn.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?ye.base64.decode(r.id,n.id=ye.newBuffer(ye.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?ye.base64.decode(r.pubKey,n.pubKey=ye.newBuffer(ye.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?ye.base64.decode(r.privKey,n.privKey=ye.newBuffer(ye.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},e.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=ye.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=ye.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=ye.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?ye.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?ye.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?ye.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kr.util.toJSONOptions)},e}();df.exports=Tn});var Bf=C((Ee,Ef)=>{"use strict";var{CID:fa}=(Xr(),Mn),d2=(br(),mr),y2=(ts(),Vn),g2=(Pt(),Rt),v2=(Jr(),wr),{base58btc:la}=(Pt(),Rt),{base32:x2}=(br(),mr),{base16:gf}=(rs(),zn),In=(vr(),Yr),gt=lf(),m2=hf(),{PeerIdProto:vf}=yf(),{equals:fr}=(or(),ar),{fromString:_n}=(Et(),St),{toString:b2}=(Ve(),Me),{identity:Di}=(yi(),ln),xf={...d2,...y2,...g2,...v2},w2=Object.keys(xf).reduce((e,t)=>e.or(xf[t]),x2.decoder),S2=112,mf=114,bf=class{constructor(t,r,n){if(!(t instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!fr(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=t,this._idB58String=la.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(t){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let t=In.decode(this.id);t.code===Di.code&&(this._pubKey=gt.unmarshalPublicKey(t.digest))}catch(t){}return this._pubKey}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return gt.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return gt.marshalPrivateKey(this.privKey)}marshal(t){return vf.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:t?null:this.marshalPrivKey()}).finish()}toPrint(){let t=this.toB58String();t.startsWith("Qm")&&(t=t.slice(2));let r=6;return t.length<r&&(r=t.length),"<peer.ID "+t.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:Sf(this.marshalPrivKey()),pubKey:Sf(this.marshalPubKey())}}toHexString(){return gf.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let t=fa.createV1(mf,In.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:t.toString(),enumerable:!1})}return this._idCIDString}equals(t){if(t instanceof Uint8Array)return fr(this.id,t);if(t.id)return fr(this.id,t.id);throw new Error("not valid Id")}isEqual(t){return this.equals(t)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&fr(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(In.decode(this.id).code===Di.code)return!0}catch(t){}return!1}},vt=m2(bf,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ee=Ef.exports=vt;var Rn=e=>e.bytes.length<=42?In.create(Di.code,e.bytes).bytes:e.hash(),ha=async(e,t)=>{let r=await Rn(t);return new vt(r,e,t)};Ee.create=async e=>{e=e||{},e.bits=e.bits||2048,e.keyType=e.keyType||"RSA";let t=await gt.generateKeyPair(e.keyType,e.bits);return ha(t,t.public)};Ee.createFromHexString=e=>new vt(gf.decode("f"+e));Ee.createFromBytes=e=>{try{let t=fa.decode(e);if(!wf(t))throw new Error("Supplied PeerID CID is invalid");return Ee.createFromCID(t)}catch{if(In.decode(e).code!==Di.code)throw new Error("Supplied PeerID CID is invalid");return new vt(e)}};Ee.createFromB58String=e=>Ee.createFromBytes(la.decode("z"+e));var wf=e=>e.code===mf||e.code===S2;Ee.createFromCID=e=>{if(e=fa.asCID(e),!e||!wf(e))throw new Error("Supplied PeerID CID is invalid");return new vt(e.multihash.bytes)};Ee.createFromPubKey=async e=>{let t=e;if(typeof t=="string"&&(t=_n(e,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await gt.unmarshalPublicKey(t);return ha(void 0,r)};Ee.createFromPrivKey=async e=>{if(typeof e=="string"&&(e=_n(e,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let t=await gt.unmarshalPrivateKey(e);return ha(t,t.public)};Ee.createFromJSON=async e=>{let t=la.decode("z"+e.id),r=e.privKey&&_n(e.privKey,"base64pad"),n=e.pubKey&&_n(e.pubKey,"base64pad"),i=n&&await gt.unmarshalPublicKey(n);if(!r)return new vt(t,void 0,i);let s=await gt.unmarshalPrivateKey(r),a=await Rn(s.public),o;if(i&&(o=await Rn(i)),i&&!fr(a,o))throw new Error("Public and private key do not match");if(t&&!fr(a,t))throw new Error("Id and private key do not match");return new vt(t,s,i)};Ee.createFromProtobuf=async e=>{typeof e=="string"&&(e=_n(e,"base16"));let{id:t,privKey:r,pubKey:n}=vf.decode(e);r=r?await gt.unmarshalPrivateKey(r):!1,n=n?await gt.unmarshalPublicKey(n):!1;let i,s;if(r&&(s=await Rn(r.public)),n&&(i=await Rn(n)),r){if(n&&!fr(s,i))throw new Error("Public and private key do not match");return new vt(s,r,r.public)}if(n)return new vt(i,void 0,n);if(t)return new vt(t);throw new Error("Protobuf did not contain any usable key material")};Ee.parse=e=>((e.charAt(0)==="1"||e.charAt(0)==="Q")&&(e=`z${e}`),Ee.createFromBytes(w2.decode(e)));Ee.isPeerId=e=>Boolean(typeof e=="object"&&e._id&&e._idB58String);function Sf(e){if(e)return b2(e,"base64pad")}});var Tf=C((Kx,Af)=>{"use strict";var Cf="[a-fA-F\\d:]",jt=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${Cf})|(?<=${Cf})(?=\\s|$))`:"",et="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",he="[a-fA-F\\d]{1,4}",ki=`
(?:
(?:${he}:){7}(?:${he}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${he}:){6}(?:${et}|:${he}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${he}:){5}(?::${et}|(?::${he}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${he}:){4}(?:(?::${he}){0,1}:${et}|(?::${he}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${he}:){3}(?:(?::${he}){0,2}:${et}|(?::${he}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${he}:){2}(?:(?::${he}){0,3}:${et}|(?::${he}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${he}:){1}(?:(?::${he}){0,4}:${et}|(?::${he}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${he}){0,5}:${et}|(?::${he}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),E2=new RegExp(`(?:^${et}$)|(?:^${ki}$)`),B2=new RegExp(`^${et}$`),C2=new RegExp(`^${ki}$`),pa=e=>e&&e.exact?E2:new RegExp(`(?:${jt(e)}${et}${jt(e)})|(?:${jt(e)}${ki}${jt(e)})`,"g");pa.v4=e=>e&&e.exact?B2:new RegExp(`${jt(e)}${et}${jt(e)}`,"g");pa.v6=e=>e&&e.exact?C2:new RegExp(`${jt(e)}${ki}${jt(e)}`,"g");Af.exports=pa});var _f=C((Nx,If)=>{"use strict";var da=Tf(),Nr=e=>da({exact:!0}).test(e);Nr.v4=e=>da.v4({exact:!0}).test(e);Nr.v6=e=>da.v6({exact:!0}).test(e);Nr.version=e=>Nr(e)?Nr.v4(e)?4:6:void 0;If.exports=Nr});var Kf=C((Lx,kf)=>{"use strict";var ya=_f(),{toString:Rf}=(Ve(),Me),A2=ya,ga=ya.v4,Pf=ya.v6,Df=function(e,t,r){r=~~r;let n;if(ga(e))n=t||new Uint8Array(r+4),e.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(Pf(e)){let i=e.split(":",8),s;for(s=0;s<i.length;s++){let a=ga(i[s]),o;a&&(o=Df(i[s]),i[s]=Rf(o.slice(0,2),"base16")),o&&++s<8&&i.splice(s,0,Rf(o.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let a=[s,"1"];for(s=9-i.length;s>0;s--)a.push("0");i.splice.apply(i,a)}for(n=t||new Uint8Array(r+16),s=0;s<i.length;s++){let a=parseInt(i[s],16);n[r++]=a>>8&255,n[r++]=a&255}}if(!n)throw Error("Invalid ip address: "+e);return n},T2=function(e,t,r){t=~~t,r=r||e.length-t;let n=[],i,s=new DataView(e.buffer);if(r===4){for(let a=0;a<r;a++)n.push(e[t+a]);i=n.join(".")}else if(r===16){for(let a=0;a<r;a+=2)n.push(s.getUint16(t+a).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};kf.exports={isIP:A2,isV4:ga,isV6:Pf,toBytes:Df,toString:T2}});var Ki=C((qx,Lf)=>{"use strict";function ke(e){if(typeof e=="number"){if(ke.codes[e])return ke.codes[e];throw new Error("no protocol with code: "+e)}else if(typeof e=="string"){if(ke.names[e])return ke.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}var je=-1;ke.lengthPrefixedVarSize=je;ke.V=je;ke.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,je,"ip6zone"],[53,je,"dns","resolvable"],[54,je,"dns4","resolvable"],[55,je,"dns6","resolvable"],[56,je,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,je,"unix",!1,"path"],[421,je,"ipfs"],[421,je,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,je,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,je,"memory"]];ke.names={};ke.codes={};ke.table.map(e=>{let t=Nf.apply(null,e);return ke.codes[t.code]=t,ke.names[t.name]=t,null});ke.object=Nf;function Nf(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}Lf.exports=ke});var Uf=C((Fx,Ff)=>{Ff.exports=va;var qf=128,I2=127,_2=~I2,R2=Math.pow(2,31);function va(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw va.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=R2;)t[r++]=e&255|qf,e/=128;for(;e&_2;)t[r++]=e&255|qf,e>>>=7;return t[r]=e|0,va.bytes=r-n+1,t}});var Vf=C((Ux,Mf)=>{Mf.exports=xa;var P2=128,Of=127;function xa(e,t){var r=0,t=t||0,n=0,i=t,s,a=e.length;do{if(i>=a||n>49)throw xa.bytes=0,new RangeError("Could not decode varint");s=e[i++],r+=n<28?(s&Of)<<n:(s&Of)*Math.pow(2,n),n+=7}while(s>=P2);return xa.bytes=i-t,r}});var Hf=C((Ox,zf)=>{var D2=Math.pow(2,7),k2=Math.pow(2,14),K2=Math.pow(2,21),N2=Math.pow(2,28),L2=Math.pow(2,35),q2=Math.pow(2,42),F2=Math.pow(2,49),U2=Math.pow(2,56),O2=Math.pow(2,63);zf.exports=function(e){return e<D2?1:e<k2?2:e<K2?3:e<N2?4:e<L2?5:e<q2?6:e<F2?7:e<U2?8:e<O2?9:10}});var Ni=C((Mx,$f)=>{$f.exports={encode:Uf(),decode:Vf(),encodingLength:Hf()}});var Jf=C((Vx,Xf)=>{"use strict";var Li=Kf(),Gf=Ki(),{CID:M2}=(Xr(),Mn),{base32:jf}=(br(),mr),{base58btc:V2}=(Pt(),Rt),z2=(vr(),Yr),Lr=Ni(),{toString:qi}=(Ve(),Me),{fromString:Wf}=(Et(),St),{concat:Fi}=(sr(),ir);Xf.exports=Pn;function Pn(e,t){return t instanceof Uint8Array?Pn.toString(e,t):Pn.toBytes(e,t)}Pn.toString=function(t,r){switch(Gf(t).code){case 4:case 41:return H2(r);case 6:case 273:case 33:case 132:return Yf(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return G2(r);case 421:return W2(r);case 444:return Zf(r);case 445:return Zf(r);default:return qi(r,"base16")}};Pn.toBytes=function(t,r){switch(Gf(t).code){case 4:return Qf(r);case 41:return Qf(r);case 6:case 273:case 33:case 132:return ma(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return $2(r);case 421:return j2(r);case 444:return Q2(r);case 445:return Y2(r);default:return Wf(r,"base16")}};function Qf(e){if(!Li.isIP(e))throw new Error("invalid ip address");return Li.toBytes(e)}function H2(e){let t=Li.toString(e);if(!t||!Li.isIP(t))throw new Error("invalid ip address");return t}function ma(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function Yf(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function $2(e){let t=Wf(e),r=Uint8Array.from(Lr.encode(t.length));return Fi([r,t],r.length+t.length)}function G2(e){let t=Lr.decode(e);if(e=e.slice(Lr.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return qi(e)}function j2(e){let t;e[0]==="Q"||e[0]==="1"?t=z2.decode(V2.decode(`z${e}`)).bytes:t=M2.parse(e).multihash.bytes;let r=Uint8Array.from(Lr.encode(t.length));return Fi([r,t],r.length+t.length)}function W2(e){let t=Lr.decode(e),r=e.slice(Lr.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return qi(r,"base58btc")}function Q2(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==16)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");let r=jf.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=ma(n);return Fi([r,i],r.length+i.length)}function Y2(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==56)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");let r=jf.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=ma(n);return Fi([r,i],r.length+i.length)}function Zf(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=qi(t,"base32"),i=Yf(r);return n+":"+i}});var ll=C((zx,fl)=>{"use strict";var el=Jf(),ba=Ki(),Dn=Ni(),{concat:tl}=(sr(),ir),{toString:Z2}=(Ve(),Me);fl.exports={stringToStringTuples:rl,stringTuplesToString:nl,tuplesToStringTuples:sl,stringTuplesToTuples:il,bytesToTuples:wa,tuplesToBytes:al,bytesToString:X2,stringToBytes:ul,fromString:J2,fromBytes:cl,validateBytes:Sa,isValidBytes:eg,cleanPath:Ui,ParseError:Ea,protoFromTuple:kn,sizeForAddr:ol};function rl(e){let t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=ba(i);if(s.size===0){t.push([i]);continue}if(n++,n>=r.length)throw Ea("invalid address: "+e);if(s.path){t.push([i,Ui(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function nl(e){let t=[];return e.map(r=>{let n=kn(r);return t.push(n.name),r.length>1&&t.push(r[1]),null}),Ui(t.join("/"))}function il(e){return e.map(t=>{Array.isArray(t)||(t=[t]);let r=kn(t);return t.length>1?[r.code,el.toBytes(r.code,t[1])]:[r.code]})}function sl(e){return e.map(t=>{let r=kn(t);return t[1]?[r.code,el.toString(r.code,t[1])]:[r.code]})}function al(e){return cl(tl(e.map(t=>{let r=kn(t),n=Uint8Array.from(Dn.encode(r.code));return t.length>1&&(n=tl([n,t[1]])),n})))}function ol(e,t){return e.size>0?e.size/8:e.size===0?0:Dn.decode(t)+Dn.decode.bytes}function wa(e){let t=[],r=0;for(;r<e.length;){let n=Dn.decode(e,r),i=Dn.decode.bytes,s=ba(n),a=ol(s,e.slice(r+i));if(a===0){t.push([n]),r+=i;continue}let o=e.slice(r+i,r+i+a);if(r+=a+i,r>e.length)throw Ea("Invalid address Uint8Array: "+Z2(e,"base16"));t.push([n,o])}return t}function X2(e){let t=wa(e),r=sl(t);return nl(r)}function ul(e){e=Ui(e);let t=rl(e),r=il(t);return al(r)}function J2(e){return ul(e)}function cl(e){let t=Sa(e);if(t)throw t;return Uint8Array.from(e)}function Sa(e){try{wa(e)}catch(t){return t}}function eg(e){return Sa(e)===void 0}function Ui(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function Ea(e){return new Error("Error parsing address: "+e)}function kn(e){return ba(e[0])}});var Ca=C((Hx,dl)=>{"use strict";var tt=ll(),qr=Ki(),hl=Ni(),{CID:tg}=(Xr(),Mn),{base58btc:rg}=(Pt(),Rt),ng=Je(),ig=Symbol.for("nodejs.util.inspect.custom"),{toString:Oi}=(Ve(),Me),{equals:sg}=(or(),ar),Ba=new Map,pl=Symbol.for("@multiformats/js-multiaddr/multiaddr"),_e=class{constructor(t){if(t==null&&(t=""),Object.defineProperty(this,pl,{value:!0}),t instanceof Uint8Array)this.bytes=tt.fromBytes(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=tt.fromString(t)}else if(_e.isMultiaddr(t))this.bytes=tt.fromBytes(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return tt.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let t={},r=this.toString().split("/");return t.family=r[1]==="ip4"?4:6,t.host=r[2],t.transport=r[3],t.port=parseInt(r[4]),t}protos(){return this.protoCodes().map(t=>Object.assign({},qr(t)))}protoCodes(){let t=[],r=this.bytes,n=0;for(;n<r.length;){let i=hl.decode(r,n),s=hl.decode.bytes,a=qr(i);n+=tt.sizeForAddr(a,r.slice(n+s))+s,t.push(i)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return tt.bytesToTuples(this.bytes)}stringTuples(){let t=tt.bytesToTuples(this.bytes);return tt.tuplesToStringTuples(t)}encapsulate(t){return t=new _e(t),new _e(this.toString()+t.toString())}decapsulate(t){let r=t.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return new _e(n.slice(0,i))}decapsulateCode(t){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new _e(tt.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===qr.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?Oi(rg.decode(`z${n}`),"base58btc"):Oi(tg.parse(n).multihash.bytes,"base58btc")}return null}catch(t){return null}}getPath(){let t=null;try{t=this.stringTuples().filter(r=>!!qr(r[0]).path)[0][1],t||(t=null)}catch(r){t=null}return t}equals(t){return sg(this.bytes,t.bytes)}async resolve(){let t=this.protos().find(i=>i.resolvable);if(!t)return[this];let r=Ba.get(t.name);if(!r)throw ng(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new _e(i))}nodeAddress(){let t=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(t[0]!==4&&t[0]!==41&&t[0]!==54&&t[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:t[0]===41||t[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(t){let r=(t||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(t,r){if(!t)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(t.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${t.family}' instead of 4 or 6`)}return new _e("/"+[n,t.address,r,t.port].join("/"))}static isName(t){return _e.isMultiaddr(t)?t.protos().some(r=>r.resolvable):!1}static isMultiaddr(t){return t instanceof _e||Boolean(t&&t[pl])}[ig](){return"<Multiaddr "+Oi(this.bytes,"base16")+" - "+tt.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+Oi(this.bytes,"base16")+" - "+tt.bytesToString(this.bytes)+">"}};_e.protocols=qr;_e.resolvers=Ba;function ag(e){return new _e(e)}dl.exports={Multiaddr:_e,multiaddr:ag,protocols:qr,resolvers:Ba}});var Cl=C(($x,Bl)=>{"use strict";var{Multiaddr:Aa}=Ca(),yl=N("dns4"),gl=N("dns6"),vl=N("dnsaddr"),lr=Be(N("dns"),vl,yl,gl),Kn=Be(N("ip4"),N("ip6")),Fr=Be(U(Kn,N("tcp")),U(lr,N("tcp"))),Ta=U(Kn,N("udp")),xl=U(Ta,N("utp")),ml=U(Ta,N("quic")),Ur=Be(U(Fr,N("ws")),U(lr,N("ws"))),Or=Be(U(Fr,N("wss")),U(lr,N("wss"))),Mi=Be(U(Fr,N("http")),U(Kn,N("http")),U(lr,N("http"))),Vi=Be(U(Fr,N("https")),U(Kn,N("https")),U(lr,N("https"))),Ia=Be(U(Ur,N("p2p-webrtc-star"),N("p2p")),U(Or,N("p2p-webrtc-star"),N("p2p")),U(Ur,N("p2p-webrtc-star")),U(Or,N("p2p-webrtc-star"))),og=Be(U(Ur,N("p2p-websocket-star"),N("p2p")),U(Or,N("p2p-websocket-star"),N("p2p")),U(Ur,N("p2p-websocket-star")),U(Or,N("p2p-websocket-star"))),_a=Be(U(Mi,N("p2p-webrtc-direct"),N("p2p")),U(Vi,N("p2p-webrtc-direct"),N("p2p")),U(Mi,N("p2p-webrtc-direct")),U(Vi,N("p2p-webrtc-direct"))),Mr=Be(Ur,Or,Mi,Vi,Ia,_a,Fr,xl,ml,lr),ug=Be(U(Mr,N("p2p-stardust"),N("p2p")),U(Mr,N("p2p-stardust"))),Wt=Be(U(Mr,N("p2p")),Ia,_a,N("p2p")),bl=Be(U(Wt,N("p2p-circuit"),Wt),U(Wt,N("p2p-circuit")),U(N("p2p-circuit"),Wt),U(Mr,N("p2p-circuit")),U(N("p2p-circuit"),Mr),N("p2p-circuit")),wl=()=>Be(U(bl,wl),bl),Vr=wl(),Sl=Be(U(Vr,Wt,Vr),U(Wt,Vr),U(Vr,Wt),Vr,Wt);Bl.exports={DNS:lr,DNS4:yl,DNS6:gl,DNSADDR:vl,IP:Kn,TCP:Fr,UDP:Ta,QUIC:ml,UTP:xl,HTTP:Mi,HTTPS:Vi,WebSockets:Ur,WebSocketsSecure:Or,WebSocketStar:og,WebRTCStar:Ia,WebRTCDirect:_a,Reliable:Mr,Stardust:ug,Circuit:Vr,P2P:Sl,IPFS:Sl};function El(e){function t(r){if(!Aa.isMultiaddr(r))try{r=new Aa(r)}catch(i){return!1}let n=e(r.protoNames());return n===null?!1:n===!0||n===!1?n:n.length===0}return t}function U(...e){function t(r){if(r.length<e.length)return null;let n=r;return e.some(i=>(n=typeof i=="function"?i().partialMatch(r):i.partialMatch(r),Array.isArray(n)&&(r=n),n===null)),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:El(t),partialMatch:t}}function Be(...e){function t(n){let i=null;return e.some(s=>{let a=typeof s=="function"?s().partialMatch(n):s.partialMatch(n);return a?(i=a,!0):!1}),i}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:El(t),partialMatch:t}}function N(e){let t=e;function r(i){let s;if(typeof i=="string"||i instanceof Uint8Array)try{s=new Aa(i)}catch(o){return!1}else s=i;let a=s.protoNames();return a.length===1&&a[0]===t}function n(i){return i.length===0?null:i[0]===t?i.slice(1):null}return{toString:function(){return t},matches:r,partialMatch:n}}});var Ll=C((Gx,Ra)=>{"use strict";var zr=typeof Reflect=="object"?Reflect:null,Al=zr&&typeof zr.apply=="function"?zr.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},zi;zr&&typeof zr.ownKeys=="function"?zi=zr.ownKeys:Object.getOwnPropertySymbols?zi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:zi=function(t){return Object.getOwnPropertyNames(t)};function cg(e){console&&console.warn&&console.warn(e)}var Tl=Number.isNaN||function(t){return t!==t};function J(){J.init.call(this)}Ra.exports=J;Ra.exports.once=pg;J.EventEmitter=J;J.prototype._events=void 0;J.prototype._eventsCount=0;J.prototype._maxListeners=void 0;var Il=10;function Hi(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(J,"defaultMaxListeners",{enumerable:!0,get:function(){return Il},set:function(e){if(typeof e!="number"||e<0||Tl(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Il=e}});J.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};J.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Tl(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _l(e){return e._maxListeners===void 0?J.defaultMaxListeners:e._maxListeners}J.prototype.getMaxListeners=function(){return _l(this)};J.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")Al(c,this,r);else for(var u=c.length,f=Kl(c,u),n=0;n<u;++n)Al(f[n],this,r);return!0};function Rl(e,t,r,n){var i,s,a;if(Hi(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=_l(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,cg(o)}return e}J.prototype.addListener=function(t,r){return Rl(this,t,r,!1)};J.prototype.on=J.prototype.addListener;J.prototype.prependListener=function(t,r){return Rl(this,t,r,!0)};function fg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Pl(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=fg.bind(n);return i.listener=r,n.wrapFn=i,i}J.prototype.once=function(t,r){return Hi(r),this.on(t,Pl(this,t,r)),this};J.prototype.prependOnceListener=function(t,r){return Hi(r),this.prependListener(t,Pl(this,t,r)),this};J.prototype.removeListener=function(t,r){var n,i,s,a,o;if(Hi(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():lg(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,o||r)}return this};J.prototype.off=J.prototype.removeListener;J.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function Dl(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?hg(i):Kl(i,i.length)}J.prototype.listeners=function(t){return Dl(this,t,!0)};J.prototype.rawListeners=function(t){return Dl(this,t,!1)};J.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):kl.call(e,t)};J.prototype.listenerCount=kl;function kl(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}J.prototype.eventNames=function(){return this._eventsCount>0?zi(this._events):[]};function Kl(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function lg(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function hg(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function pg(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,s),n(a)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Nl(e,t,s,{once:!0}),t!=="error"&&dg(e,i,{once:!0})})}function dg(e,t,r){typeof e.on=="function"&&Nl(e,"error",t,r)}function Nl(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Fl=C((jx,ql)=>{var Hr=1e3,$r=Hr*60,Gr=$r*60,hr=Gr*24,yg=hr*7,gg=hr*365.25;ql.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return vg(e);if(r==="number"&&isFinite(e))return t.long?mg(e):xg(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function vg(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*gg;case"weeks":case"week":case"w":return r*yg;case"days":case"day":case"d":return r*hr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gr;case"minutes":case"minute":case"mins":case"min":case"m":return r*$r;case"seconds":case"second":case"secs":case"sec":case"s":return r*Hr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function xg(e){var t=Math.abs(e);return t>=hr?Math.round(e/hr)+"d":t>=Gr?Math.round(e/Gr)+"h":t>=$r?Math.round(e/$r)+"m":t>=Hr?Math.round(e/Hr)+"s":e+"ms"}function mg(e){var t=Math.abs(e);return t>=hr?$i(e,t,hr,"day"):t>=Gr?$i(e,t,Gr,"hour"):t>=$r?$i(e,t,$r,"minute"):t>=Hr?$i(e,t,Hr,"second"):e+" ms"}function $i(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Ol=C((Wx,Ul)=>{function bg(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Fl(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let l=0;for(let h=0;h<f.length;h++)l=(l<<5)-l+f.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=t;function r(f){let l,h=null,y,p;function g(...v){if(!g.enabled)return;let m=g,S=Number(new Date),A=S-(l||S);m.diff=A,m.prev=l,m.curr=S,l=S,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(I,M)=>{if(I==="%%")return"%";k++;let V=r.formatters[M];if(typeof V=="function"){let pe=v[k];I=V.call(m,pe),v.splice(k,1),k--}return I}),r.formatArgs.call(m,v),(m.log||r.log).apply(m,v)}return g.namespace=f,g.useColors=r.useColors(),g.color=r.selectColor(f),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(y!==r.namespaces&&(y=r.namespaces,p=r.enabled(f)),p),set:v=>{h=v}}),typeof r.init=="function"&&r.init(g),g}function n(f,l){let h=r(this.namespace+(typeof l=="undefined"?":":l)+f);return h.log=this.log,h}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,h=(typeof f=="string"?f:"").split(/[\s,]+/),y=h.length;for(l=0;l<y;l++)!h[l]||(f=h[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(o),...r.skips.map(o).map(l=>"-"+l)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(f))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(f))return!0;return!1}function o(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Ul.exports=bg});var Ml=C((Le,Gi)=>{Le.formatArgs=Sg;Le.save=Eg;Le.load=Bg;Le.useColors=wg;Le.storage=Cg();Le.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Le.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function wg(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Sg(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Gi.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Le.log=console.debug||console.log||(()=>{});function Eg(e){try{e?Le.storage.setItem("debug",e):Le.storage.removeItem("debug")}catch(t){}}function Bg(){let e;try{e=Le.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function Cg(){try{return localStorage}catch(e){}}Gi.exports=Ol()(Le);var{formatters:Ag}=Gi.exports;Ag.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Pg=C((Pa,Hl)=>{"use strict";var Tg=Bf(),{Multiaddr:Ig}=Ca(),_g=Cl(),{EventEmitter:Rg}=Ll(),Vl=Ml(),ji=Object.assign(Vl("libp2p:bootstrap"),{error:Vl("libp2p:bootstrap:error")}),zl=class extends Rg{constructor(t={list:[]}){if(!t.list||!t.list.length)throw new Error("Bootstrap requires a list of peer addresses");super();this._list=t.list,this._interval=t.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval(()=>this._discoverBootstrapPeers(),this._interval),ji("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){!this._timer||this._list.forEach(t=>{if(!_g.P2P.matches(t))return ji.error("Invalid multiaddr");let r=new Ig(t),n=r.getPeerId();if(!n){ji.error("Invalid bootstrap multiaddr without peer id");return}let i=Tg.createFromB58String(n);try{this.emit("peer",{id:i,multiaddrs:[r]})}catch(s){ji.error("Invalid bootstrap peer id",s)}})}stop(){this._timer&&clearInterval(this._timer),this._timer=null}};Pa=Hl.exports=zl;Pa.tag="bootstrap"});return Pg();})();
/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) Paul Miller (paulmillr.com) */
return Libp2pBootstrap}));
