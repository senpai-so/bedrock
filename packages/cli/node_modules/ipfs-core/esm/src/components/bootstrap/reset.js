import defaultConfig from 'ipfs-core-config/config';
import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option';
import { Multiaddr } from 'multiaddr';
export function createReset({repo}) {
  async function reset(options = {}) {
    const config = await repo.config.getAll(options);
    config.Bootstrap = defaultConfig().Bootstrap;
    await repo.config.replace(config);
    return { Peers: defaultConfig().Bootstrap.map(ma => new Multiaddr(ma)) };
  }
  return withTimeoutOption(reset);
}