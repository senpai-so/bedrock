import { walkPath } from 'ipfs-unixfs-exporter';
import debug from 'debug';
const log = debug('ipfs:mfs:utils:to-trail');
export async function toTrail(context, path) {
  log(`Creating trail for path ${ path }`);
  const output = [];
  for await (const fsEntry of walkPath(path, context.repo.blocks)) {
    output.push({
      name: fsEntry.name,
      cid: fsEntry.cid,
      size: fsEntry.size,
      type: fsEntry.type
    });
  }
  return output;
}