import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option';
import { createGet } from '../get.js';
import { createPut } from '../put.js';
export function createSetData({repo, preload}) {
  const get = createGet({
    repo,
    preload
  });
  const put = createPut({
    repo,
    preload
  });
  async function setData(cid, data, options = {}) {
    const node = await get(cid, options);
    return put({
      ...node,
      Data: data
    }, options);
  }
  return withTimeoutOption(setData);
}