import {
  ipfsCore,
  interfaceIpfsCore,
  commit
} from '../version.js';
import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option';
export function createVersion({repo}) {
  async function version(_options = {}) {
    const repoVersion = await repo.version.get();
    return {
      version: ipfsCore,
      commit,
      repo: `${ repoVersion }`,
      'ipfs-core': ipfsCore,
      'interface-ipfs-core': interfaceIpfsCore
    };
  }
  return withTimeoutOption(version);
}