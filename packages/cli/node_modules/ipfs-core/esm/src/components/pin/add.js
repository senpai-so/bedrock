import last from 'it-last';
import { CID } from 'multiformats/cid';
export function createAdd({addAll}) {
  return (path, options = {}) => {
    let iter;
    const cid = CID.asCID(path);
    if (cid) {
      iter = addAll([{
          cid,
          ...options
        }], options);
    } else {
      iter = addAll([{
          path: path.toString(),
          ...options
        }], options);
    }
    return last(iter);
  };
}