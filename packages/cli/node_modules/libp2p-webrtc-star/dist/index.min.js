(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pWebrtcStar = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pWebrtcStar=(()=>{var Zl=Object.defineProperty;var lw=t=>Zl(t,"__esModule",{value:!0});var xo=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var ue=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ve=(t,e)=>{lw(t);for(var r in e)Zl(t,r,{get:e[r],enumerable:!0})};var Xl=_((N6,Ql)=>{var ii=1e3,si=ii*60,oi=si*60,Sn=oi*24,hw=Sn*7,pw=Sn*365.25;Ql.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return dw(t);if(r==="number"&&isFinite(t))return e.long?gw(t):yw(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function dw(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*pw;case"weeks":case"week":case"w":return r*hw;case"days":case"day":case"d":return r*Sn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*oi;case"minutes":case"minute":case"mins":case"min":case"m":return r*si;case"seconds":case"second":case"secs":case"sec":case"s":return r*ii;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function yw(t){var e=Math.abs(t);return e>=Sn?Math.round(t/Sn)+"d":e>=oi?Math.round(t/oi)+"h":e>=si?Math.round(t/si)+"m":e>=ii?Math.round(t/ii)+"s":t+"ms"}function gw(t){var e=Math.abs(t);return e>=Sn?_o(t,e,Sn,"day"):e>=oi?_o(t,e,oi,"hour"):e>=si?_o(t,e,si,"minute"):e>=ii?_o(t,e,ii,"second"):t+" ms"}function _o(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var e0=_((O6,Jl)=>{function vw(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Xl(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let l=0;for(let p=0;p<f.length;p++)l=(l<<5)-l+f.charCodeAt(p),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(f){let l,p=null,v,y;function m(...E){if(!m.enabled)return;let x=m,B=Number(new Date),I=B-(l||B);x.diff=I,x.prev=l,x.curr=B,l=B,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let j=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(N,Y)=>{if(N==="%%")return"%";j++;let X=r.formatters[Y];if(typeof X=="function"){let ve=E[j];N=X.call(x,ve),E.splice(j,1),j--}return N}),r.formatArgs.call(x,E),(x.log||r.log).apply(x,E)}return m.namespace=f,m.useColors=r.useColors(),m.color=r.selectColor(f),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(v!==r.namespaces&&(v=r.namespaces,y=r.enabled(f)),y),set:E=>{p=E}}),typeof r.init=="function"&&r.init(m),m}function n(f,l){let p=r(this.namespace+(typeof l=="undefined"?":":l)+f);return p.log=this.log,p}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,p=(typeof f=="string"?f:"").split(/[\s,]+/),v=p.length;for(l=0;l<v;l++)!p[l]||(f=p[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let l,p;for(l=0,p=r.skips.length;l<p;l++)if(r.skips[l].test(f))return!1;for(l=0,p=r.names.length;l<p;l++)if(r.names[l].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Jl.exports=vw});var $e=_((gt,Eo)=>{gt.formatArgs=bw;gt.save=ww;gt.load=xw;gt.useColors=mw;gt.storage=_w();gt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();gt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mw(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function bw(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Eo.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}gt.log=console.debug||console.log||(()=>{});function ww(t){try{t?gt.storage.setItem("debug",t):gt.storage.removeItem("debug")}catch(e){}}function xw(){let t;try{t=gt.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function _w(){try{return localStorage}catch(t){}}Eo.exports=e0()(gt);var{formatters:Ew}=Eo.exports;Ew.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ps=_((L6,Iu)=>{"use strict";var ai=typeof Reflect=="object"?Reflect:null,t0=ai&&typeof ai.apply=="function"?ai.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},So;ai&&typeof ai.ownKeys=="function"?So=ai.ownKeys:Object.getOwnPropertySymbols?So=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:So=function(e){return Object.getOwnPropertyNames(e)};function Sw(t){console&&console.warn&&console.warn(t)}var r0=Number.isNaN||function(e){return e!==e};function ce(){ce.init.call(this)}Iu.exports=ce;Iu.exports.once=Cw;ce.EventEmitter=ce;ce.prototype._events=void 0;ce.prototype._eventsCount=0;ce.prototype._maxListeners=void 0;var n0=10;function Bo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ce,"defaultMaxListeners",{enumerable:!0,get:function(){return n0},set:function(t){if(typeof t!="number"||t<0||r0(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");n0=t}});ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ce.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||r0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function i0(t){return t._maxListeners===void 0?ce.defaultMaxListeners:t._maxListeners}ce.prototype.getMaxListeners=function(){return i0(this)};ce.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")t0(u,this,r);else for(var c=u.length,f=c0(u,c),n=0;n<c;++n)t0(f[n],this,r);return!0};function s0(t,e,r,n){var i,s,o;if(Bo(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=i0(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Sw(a)}return t}ce.prototype.addListener=function(e,r){return s0(this,e,r,!1)};ce.prototype.on=ce.prototype.addListener;ce.prototype.prependListener=function(e,r){return s0(this,e,r,!0)};function Bw(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o0(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Bw.bind(n);return i.listener=r,n.wrapFn=i,i}ce.prototype.once=function(e,r){return Bo(r),this.on(e,o0(this,e,r)),this};ce.prototype.prependOnceListener=function(e,r){return Bo(r),this.prependListener(e,o0(this,e,r)),this};ce.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Bo(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Aw(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ce.prototype.off=ce.prototype.removeListener;ce.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function a0(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Tw(i):c0(i,i.length)}ce.prototype.listeners=function(e){return a0(this,e,!0)};ce.prototype.rawListeners=function(e){return a0(this,e,!1)};ce.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):u0.call(t,e)};ce.prototype.listenerCount=u0;function u0(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ce.prototype.eventNames=function(){return this._eventsCount>0?So(this._events):[]};function c0(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Aw(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Tw(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Cw(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}f0(t,e,s,{once:!0}),e!=="error"&&Rw(t,i,{once:!0})})}function Rw(t,e,r){typeof t.on=="function"&&f0(t,"error",e,r)}function f0(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ku=_((M6,h0)=>{"use strict";function l0(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Iw(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return l0(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),l0(new i,r)}}h0.exports=Iw});var Du=_((q6,Pu)=>{"use strict";function kw(t,{className:e,symbolName:r}){let n=Symbol.for(r),i={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=s=>!!(s&&s[n]),i}function Pw(t,{className:e,symbolName:r,withoutNew:n}){let i=Symbol.for(r),s={[e]:function(...o){if(n&&!(this instanceof s))return new s(...o);let a=t.call(this,...o)||this;return a&&!a[i]&&Object.defineProperty(a,i,{value:!0}),a}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=o=>!!(o&&o[i]),s}Pu.exports=kw;Pu.exports.proto=Pw});var Nu=_((F6,p0)=>{p0.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var y0=_((K6,d0)=>{d0.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var Mu=_((j6,Bn)=>{var Dw=Nu(),Ou=y0(),g0=(t,e,r)=>Lu(t,Array.isArray(e)?e:[{signal:e,options:r}]),Lu=(t,e)=>{t=Dw(t),e=e.map(({signal:n,options:i})=>({signal:n,options:i||{}}));async function*r(){let n,i=()=>{n&&n()};for(let{signal:s}of e)s.addEventListener("abort",i);for(;;){let s;try{for(let{signal:a,options:u}of e)if(a.aborted){let{abortMessage:c,abortCode:f}=u;throw new Ou(c,f)}let o=new Promise((a,u)=>{n=()=>{let{options:c}=e.find(({signal:p})=>p.aborted),{abortMessage:f,abortCode:l}=c;u(new Ou(f,l))}});s=await Promise.race([o,t.next()]),n=null}catch(o){for(let{signal:c}of e)c.removeEventListener("abort",i);let a=e.find(({signal:c})=>c.aborted),u=o.type==="aborted"&&a;if(u&&a.options.onAbort&&await a.options.onAbort(t),typeof t.return=="function"&&await t.return(),u&&a.options.returnOnAbort)return;throw o}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",i)}return r()},v0=(t,e,r)=>m0(t,Array.isArray(e)?e:[{signal:e,options:r}]),m0=(t,e)=>r=>t(Lu(r,e)),Nw=(t,e,r)=>Ow(t,Array.isArray(e)?e:[{signal:e,options:r}]),Ow=(t,e)=>({sink:m0(t.sink,e),source:Lu(t.source,e)});Bn.exports=g0;Bn.exports.AbortError=Ou;Bn.exports.source=g0;Bn.exports.sink=v0;Bn.exports.transform=v0;Bn.exports.duplex=Nw});var w0=_((V6,b0)=>{b0.exports=function(){if(typeof globalThis=="undefined")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}});var E0=_(Ao=>{"use strict";Ao.byteLength=Mw;Ao.toByteArray=Fw;Ao.fromByteArray=jw;var Jt=[],bt=[],Lw=typeof Uint8Array!="undefined"?Uint8Array:Array,qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(An=0,x0=qu.length;An<x0;++An)Jt[An]=qu[An],bt[qu.charCodeAt(An)]=An;var An,x0;bt["-".charCodeAt(0)]=62;bt["_".charCodeAt(0)]=63;function _0(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Mw(t){var e=_0(t),r=e[0],n=e[1];return(r+n)*3/4-n}function qw(t,e,r){return(e+r)*3/4-r}function Fw(t){var e,r=_0(t),n=r[0],i=r[1],s=new Lw(qw(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=bt[t.charCodeAt(u)]<<18|bt[t.charCodeAt(u+1)]<<12|bt[t.charCodeAt(u+2)]<<6|bt[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=bt[t.charCodeAt(u)]<<2|bt[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=bt[t.charCodeAt(u)]<<10|bt[t.charCodeAt(u+1)]<<4|bt[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Uw(t){return Jt[t>>18&63]+Jt[t>>12&63]+Jt[t>>6&63]+Jt[t&63]}function Kw(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Uw(n));return i.join("")}function jw(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Kw(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Jt[e>>2]+Jt[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"=")),i.join("")}});var S0=_(Fu=>{Fu.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,v=t[e+l];for(l+=p,s=v&(1<<-f)-1,v>>=-f,f+=a;f>0;s=s*256+t[e+l],l+=p,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+l],l+=p,f-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(v?-1:1)*o*Math.pow(2,s-n)};Fu.write=function(t,e,r,n,i,s){var o,a,u,c=s*8-i-1,f=(1<<c)-1,l=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,y=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+l>=1?e+=p/u:e+=p*Math.pow(2,1-l),e*u>=2&&(o++,u/=2),o+l>=f?(a=0,o=f):o+l>=1?(a=(e*u-1)*Math.pow(2,i),o=o+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+v]=a&255,v+=y,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+v]=o&255,v+=y,o/=256,c-=8);t[r+v-y]|=m*128}});var hi=_(li=>{"use strict";var Uu=E0(),ui=S0(),B0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;li.Buffer=A;li.SlowBuffer=Gw;li.INSPECT_MAX_BYTES=50;var To=2147483647;li.kMaxLength=To;A.TYPED_ARRAY_SUPPORT=Vw();!A.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Vw(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(!!A.isBuffer(this))return this.buffer}});Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(!!A.isBuffer(this))return this.byteOffset}});function Ar(t){if(t>To)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,A.prototype),e}function A(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ku(t)}return A0(t,e,r)}A.poolSize=8192;function A0(t,e,r){if(typeof t=="string")return zw(t,e);if(ArrayBuffer.isView(t))return $w(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(er(t,ArrayBuffer)||t&&er(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(er(t,SharedArrayBuffer)||t&&er(t.buffer,SharedArrayBuffer)))return Vu(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return A.from(n,e,r);let i=Ww(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return A.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}A.from=function(t,e,r){return A0(t,e,r)};Object.setPrototypeOf(A.prototype,Uint8Array.prototype);Object.setPrototypeOf(A,Uint8Array);function T0(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Hw(t,e,r){return T0(t),t<=0?Ar(t):e!==void 0?typeof r=="string"?Ar(t).fill(e,r):Ar(t).fill(e):Ar(t)}A.alloc=function(t,e,r){return Hw(t,e,r)};function Ku(t){return T0(t),Ar(t<0?0:Hu(t)|0)}A.allocUnsafe=function(t){return Ku(t)};A.allocUnsafeSlow=function(t){return Ku(t)};function zw(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!A.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=C0(t,e)|0,n=Ar(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function ju(t){let e=t.length<0?0:Hu(t.length)|0,r=Ar(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function $w(t){if(er(t,Uint8Array)){let e=new Uint8Array(t);return Vu(e.buffer,e.byteOffset,e.byteLength)}return ju(t)}function Vu(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,A.prototype),n}function Ww(t){if(A.isBuffer(t)){let e=Hu(t.length)|0,r=Ar(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Wu(t.length)?Ar(0):ju(t);if(t.type==="Buffer"&&Array.isArray(t.data))return ju(t.data)}function Hu(t){if(t>=To)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+To.toString(16)+" bytes");return t|0}function Gw(t){return+t!=t&&(t=0),A.alloc(+t)}A.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==A.prototype};A.compare=function(e,r){if(er(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),er(r,Uint8Array)&&(r=A.from(r,r.offset,r.byteLength)),!A.isBuffer(e)||!A.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};A.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};A.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return A.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=A.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(er(o,Uint8Array))s+o.length>i.length?(A.isBuffer(o)||(o=A.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(A.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function C0(t,e){if(A.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||er(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $u(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return U0(t).length;default:if(i)return n?-1:$u(t).length;e=(""+e).toLowerCase(),i=!0}}A.byteLength=C0;function Yw(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return sx(this,e,r);case"utf8":case"utf-8":return k0(this,e,r);case"ascii":return nx(this,e,r);case"latin1":case"binary":return ix(this,e,r);case"base64":return tx(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ox(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}A.prototype._isBuffer=!0;function Tn(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}A.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Tn(this,r,r+1);return this};A.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Tn(this,r,r+3),Tn(this,r+1,r+2);return this};A.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Tn(this,r,r+7),Tn(this,r+1,r+6),Tn(this,r+2,r+5),Tn(this,r+3,r+4);return this};A.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?k0(this,0,e):Yw.apply(this,arguments)};A.prototype.toLocaleString=A.prototype.toString;A.prototype.equals=function(e){if(!A.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:A.compare(this,e)===0};A.prototype.inspect=function(){let e="",r=li.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};B0&&(A.prototype[B0]=A.prototype.inspect);A.prototype.compare=function(e,r,n,i,s){if(er(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,u=Math.min(o,a),c=this.slice(i,s),f=e.slice(r,n);for(let l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0};function R0(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Wu(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=A.from(e,n)),A.isBuffer(e))return e.length===0?-1:I0(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):I0(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function I0(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(f,l){return s===1?f[l]:f.readUInt16BE(l*s)}let c;if(i){let f=-1;for(c=r;c<o;c++)if(u(t,c)===u(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===a)return f*s}else f!==-1&&(c-=c-f),f=-1}else for(r+a>o&&(r=o-a),c=r;c>=0;c--){let f=!0;for(let l=0;l<a;l++)if(u(t,c+l)!==u(e,l)){f=!1;break}if(f)return c}return-1}A.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};A.prototype.indexOf=function(e,r,n){return R0(this,e,r,n,!0)};A.prototype.lastIndexOf=function(e,r,n){return R0(this,e,r,n,!1)};function Zw(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Wu(a))return o;t[r+o]=a}return o}function Qw(t,e,r,n){return Co($u(e,t.length-r),t,r,n)}function Xw(t,e,r,n){return Co(fx(e),t,r,n)}function Jw(t,e,r,n){return Co(U0(e),t,r,n)}function ex(t,e,r,n){return Co(lx(e,t.length-r),t,r,n)}A.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Zw(this,e,r,n);case"utf8":case"utf-8":return Qw(this,e,r,n);case"ascii":case"latin1":case"binary":return Xw(this,e,r,n);case"base64":return Jw(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ex(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tx(t,e,r){return e===0&&r===t.length?Uu.fromByteArray(t):Uu.fromByteArray(t.slice(e,r))}function k0(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let u,c,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)==128&&(l=(s&31)<<6|u&63,l>127&&(o=l));break;case 3:u=t[i+1],c=t[i+2],(u&192)==128&&(c&192)==128&&(l=(s&15)<<12|(u&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],(u&192)==128&&(c&192)==128&&(f&192)==128&&(l=(s&15)<<18|(u&63)<<12|(c&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return rx(n)}var P0=4096;function rx(t){let e=t.length;if(e<=P0)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=P0));return r}function nx(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function ix(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function sx(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=hx[t[s]];return i}function ox(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}A.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,A.prototype),i};function Le(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Le(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};A.prototype.readUintBE=A.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Le(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};A.prototype.readUint8=A.prototype.readUInt8=function(e,r){return e=e>>>0,r||Le(e,1,this.length),this[e]};A.prototype.readUint16LE=A.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Le(e,2,this.length),this[e]|this[e+1]<<8};A.prototype.readUint16BE=A.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Le(e,2,this.length),this[e]<<8|this[e+1]};A.prototype.readUint32LE=A.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};A.prototype.readUint32BE=A.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};A.prototype.readBigUInt64LE=Hr(function(e){e=e>>>0,fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ds(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});A.prototype.readBigUInt64BE=Hr(function(e){e=e>>>0,fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ds(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});A.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Le(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};A.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Le(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};A.prototype.readInt8=function(e,r){return e=e>>>0,r||Le(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};A.prototype.readInt16LE=function(e,r){e=e>>>0,r||Le(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};A.prototype.readInt16BE=function(e,r){e=e>>>0,r||Le(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};A.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};A.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};A.prototype.readBigInt64LE=Hr(function(e){e=e>>>0,fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ds(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});A.prototype.readBigInt64BE=Hr(function(e){e=e>>>0,fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ds(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});A.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),ui.read(this,e,!0,23,4)};A.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Le(e,4,this.length),ui.read(this,e,!1,23,4)};A.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Le(e,8,this.length),ui.read(this,e,!0,52,8)};A.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Le(e,8,this.length),ui.read(this,e,!1,52,8)};function ut(t,e,r,n,i,s){if(!A.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;ut(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};A.prototype.writeUintBE=A.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;ut(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};A.prototype.writeUint8=A.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,1,255,0),this[r]=e&255,r+1};A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function D0(t,e,r,n,i){F0(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function N0(t,e,r,n,i){F0(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}A.prototype.writeBigUInt64LE=Hr(function(e,r=0){return D0(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});A.prototype.writeBigUInt64BE=Hr(function(e,r=0){return N0(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});A.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);ut(this,e,r,n,u-1,-u)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};A.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);ut(this,e,r,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};A.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};A.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};A.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};A.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};A.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ut(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};A.prototype.writeBigInt64LE=Hr(function(e,r=0){return D0(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});A.prototype.writeBigInt64BE=Hr(function(e,r=0){return N0(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O0(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L0(t,e,r,n,i){return e=+e,r=r>>>0,i||O0(t,e,r,4,34028234663852886e22,-34028234663852886e22),ui.write(t,e,r,n,23,4),r+4}A.prototype.writeFloatLE=function(e,r,n){return L0(this,e,r,!0,n)};A.prototype.writeFloatBE=function(e,r,n){return L0(this,e,r,!1,n)};function M0(t,e,r,n,i){return e=+e,r=r>>>0,i||O0(t,e,r,8,17976931348623157e292,-17976931348623157e292),ui.write(t,e,r,n,52,8),r+8}A.prototype.writeDoubleLE=function(e,r,n){return M0(this,e,r,!0,n)};A.prototype.writeDoubleBE=function(e,r,n){return M0(this,e,r,!1,n)};A.prototype.copy=function(e,r,n,i){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};A.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!A.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=A.isBuffer(e)?e:A.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var ci={};function zu(t,e,r){ci[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}zu("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);zu("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);zu("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q0(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q0(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function q0(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ax(t,e,r){fi(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ds(e,t.length-(r+1))}function F0(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new ci.ERR_OUT_OF_RANGE("value",a,t)}ax(n,i,s)}function fi(t,e){if(typeof t!="number")throw new ci.ERR_INVALID_ARG_TYPE(e,"number",t)}function ds(t,e,r){throw Math.floor(t)!==t?(fi(t,r),new ci.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new ci.ERR_BUFFER_OUT_OF_BOUNDS:new ci.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var ux=/[^+/0-9A-Za-z-_]/g;function cx(t){if(t=t.split("=")[0],t=t.trim().replace(ux,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function $u(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function fx(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function lx(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function U0(t){return Uu.toByteArray(cx(t))}function Co(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function er(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Wu(t){return t!==t}var hx=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Hr(t){return typeof BigInt=="undefined"?px:t}function px(){throw new Error("BigInt not supported")}});var V0=_((Gu,j0)=>{var Ro=hi(),Tr=Ro.Buffer;function K0(t,e){for(var r in t)e[r]=t[r]}Tr.from&&Tr.alloc&&Tr.allocUnsafe&&Tr.allocUnsafeSlow?j0.exports=Ro:(K0(Ro,Gu),Gu.Buffer=pi);function pi(t,e,r){return Tr(t,e,r)}K0(Tr,pi);pi.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Tr(t,e,r)};pi.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Tr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};pi.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Tr(t)};pi.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ro.SlowBuffer(t)}});var H0=_((G6,Zu)=>{"use strict";var Yu=65536,dx=4294967295;function yx(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var gx=V0().Buffer,Io=globalThis.crypto||globalThis.msCrypto;Io&&Io.getRandomValues?Zu.exports=vx:Zu.exports=yx;function vx(t,e){if(t>dx)throw new RangeError("requested too many random bytes");var r=gx.allocUnsafe(t);if(t>0)if(t>Yu)for(var n=0;n<t;n+=Yu)Io.getRandomValues(r.slice(n,n+Yu));else Io.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var Qu=_((Y6,z0)=>{z0.exports=ps().EventEmitter});var Xu=_(()=>{});var Y0=_((X6,G0)=>{"use strict";function $0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(r),!0).forEach(function(n){bx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xx(t,e,r){return e&&W0(t.prototype,e),r&&W0(t,r),t}var _x=hi(),ko=_x.Buffer,Ex=Xu(),Ju=Ex.inspect,Sx=Ju&&Ju.custom||"inspect";function Bx(t,e,r){ko.prototype.copy.call(t,e,r)}G0.exports=function(){function t(){wx(this,t),this.head=null,this.tail=null,this.length=0}return xx(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return ko.alloc(0);for(var n=ko.allocUnsafe(r>>>0),i=this.head,s=0;i;)Bx(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=ko.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Sx,value:function(r,n){return Ju(this,mx({},n,{depth:0,customInspect:!1}))}}]),t}()});var tc=_((J6,Q0)=>{"use strict";function Ax(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ec,this,t)):process.nextTick(ec,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Po,r):(r._writableState.errorEmitted=!0,process.nextTick(Z0,r,s)):process.nextTick(Z0,r,s):e?(process.nextTick(Po,r),e(s)):process.nextTick(Po,r)}),this)}function Z0(t,e){ec(t,e),Po(t)}function Po(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Tx(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ec(t,e){t.emit("error",e)}function Cx(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Q0.exports={destroy:Ax,undestroy:Tx,errorOrDestroy:Cx}});var Cn=_((eR,eh)=>{"use strict";function Rx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var X0={};function wt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Rx(o,s);function o(a,u,c){return s.call(this,n(a,u,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,X0[t]=i}function J0(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Ix(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function kx(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Px(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}wt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);wt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Ix(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(kx(t," argument"))i="The ".concat(t," ").concat(n," ").concat(J0(e,"type"));else{var s=Px(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(J0(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);wt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});wt("ERR_STREAM_PREMATURE_CLOSE","Premature close");wt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});wt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wt("ERR_STREAM_WRITE_AFTER_END","write after end");wt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);wt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");eh.exports.codes=X0});var rc=_((tR,th)=>{"use strict";var Dx=Cn().codes.ERR_INVALID_OPT_VALUE;function Nx(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Ox(t,e,r,n){var i=Nx(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Dx(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}th.exports={getHighWaterMark:Ox}});var di=_((rR,nc)=>{typeof Object.create=="function"?nc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nc.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var nh=_((nR,rh)=>{rh.exports=Lx;function Lx(t,e){if(ic("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ic("throwDeprecation"))throw new Error(e);ic("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ic(t){try{if(!globalThis.localStorage)return!1}catch(r){return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var ac=_((iR,ch)=>{"use strict";ch.exports=Se;function ih(t){var e=this;this.next=null,this.entry=null,this.finish=function(){c_(e,t)}}var yi;Se.WritableState=ys;var Mx={deprecate:nh()},sh=Qu(),Do=hi().Buffer,qx=globalThis.Uint8Array||function(){};function Fx(t){return Do.from(t)}function Ux(t){return Do.isBuffer(t)||t instanceof qx}var sc=tc(),Kx=rc(),jx=Kx.getHighWaterMark,zr=Cn().codes,Vx=zr.ERR_INVALID_ARG_TYPE,Hx=zr.ERR_METHOD_NOT_IMPLEMENTED,zx=zr.ERR_MULTIPLE_CALLBACK,$x=zr.ERR_STREAM_CANNOT_PIPE,Wx=zr.ERR_STREAM_DESTROYED,Gx=zr.ERR_STREAM_NULL_VALUES,Yx=zr.ERR_STREAM_WRITE_AFTER_END,Zx=zr.ERR_UNKNOWN_ENCODING,gi=sc.errorOrDestroy;di()(Se,sh);function Qx(){}function ys(t,e,r){yi=yi||Rn(),t=t||{},typeof r!="boolean"&&(r=e instanceof yi),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=jx(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){i_(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ih(this)}ys.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ys.prototype,"buffer",{get:Mx.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var No;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(No=Function.prototype[Symbol.hasInstance],Object.defineProperty(Se,Symbol.hasInstance,{value:function(e){return No.call(this,e)?!0:this!==Se?!1:e&&e._writableState instanceof ys}})):No=function(e){return e instanceof this};function Se(t){yi=yi||Rn();var e=this instanceof yi;if(!e&&!No.call(Se,this))return new Se(t);this._writableState=new ys(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),sh.call(this)}Se.prototype.pipe=function(){gi(this,new $x)};function Xx(t,e){var r=new Yx;gi(t,r),process.nextTick(e,r)}function Jx(t,e,r,n){var i;return r===null?i=new Gx:typeof r!="string"&&!e.objectMode&&(i=new Vx("chunk",["string","Buffer"],r)),i?(gi(t,i),process.nextTick(n,i),!1):!0}Se.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Ux(t);return s&&!Do.isBuffer(t)&&(t=Fx(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Qx),n.ending?Xx(this,r):(s||Jx(this,n,t,r))&&(n.pendingcb++,i=t_(this,n,s,t,e,r)),i};Se.prototype.cork=function(){this._writableState.corked++};Se.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&ah(this,t))};Se.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Zx(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Se.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function e_(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Do.from(e,r)),e}Object.defineProperty(Se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function t_(t,e,r,n,i,s){if(!r){var o=e_(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else oc(t,e,!1,a,n,i,s);return u}function oc(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Wx("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function r_(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(gs,t,e),t._writableState.errorEmitted=!0,gi(t,n)):(i(n),t._writableState.errorEmitted=!0,gi(t,n),gs(t,e))}function n_(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function i_(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new zx;if(n_(r),e)r_(t,r,n,e,i);else{var s=uh(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ah(t,r),n?process.nextTick(oh,t,r,s,i):oh(t,r,s,i)}}function oh(t,e,r,n){r||s_(t,e),e.pendingcb--,n(),gs(t,e)}function s_(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function ah(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,oc(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new ih(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback,l=e.objectMode?1:u.length;if(oc(t,e,!1,l,u,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Se.prototype._write=function(t,e,r){r(new Hx("_write()"))};Se.prototype._writev=null;Se.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||u_(this,n,r),this};Object.defineProperty(Se.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function uh(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function o_(t,e){t._final(function(r){e.pendingcb--,r&&gi(t,r),e.prefinished=!0,t.emit("prefinish"),gs(t,e)})}function a_(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(o_,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function gs(t,e){var r=uh(e);if(r&&(a_(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function u_(t,e,r){e.ending=!0,gs(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function c_(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Se.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Se.prototype.destroy=sc.destroy;Se.prototype._undestroy=sc.undestroy;Se.prototype._destroy=function(t,e){e(t)}});var Rn=_((sR,lh)=>{"use strict";var f_=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};lh.exports=tr;var fh=fc(),uc=ac();di()(tr,fh);for(cc=f_(uc.prototype),Oo=0;Oo<cc.length;Oo++)Lo=cc[Oo],tr.prototype[Lo]||(tr.prototype[Lo]=uc.prototype[Lo]);var cc,Lo,Oo;function tr(t){if(!(this instanceof tr))return new tr(t);fh.call(this,t),uc.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l_)))}Object.defineProperty(tr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(tr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(tr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l_(){this._writableState.ended||process.nextTick(h_,this)}function h_(t){t.end()}Object.defineProperty(tr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var dh=_((lc,ph)=>{var Mo=hi(),rr=Mo.Buffer;function hh(t,e){for(var r in t)e[r]=t[r]}rr.from&&rr.alloc&&rr.allocUnsafe&&rr.allocUnsafeSlow?ph.exports=Mo:(hh(Mo,lc),lc.Buffer=In);function In(t,e,r){return rr(t,e,r)}In.prototype=Object.create(rr.prototype);hh(rr,In);In.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return rr(t,e,r)};In.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=rr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};In.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return rr(t)};In.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mo.SlowBuffer(t)}});var dc=_(gh=>{"use strict";var hc=dh().Buffer,yh=hc.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p_(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function d_(t){var e=p_(t);if(typeof e!="string"&&(hc.isEncoding===yh||!yh(t)))throw new Error("Unknown encoding: "+t);return e||t}gh.StringDecoder=vs;function vs(t){this.encoding=d_(t);var e;switch(this.encoding){case"utf16le":this.text=w_,this.end=x_,e=4;break;case"utf8":this.fillLast=v_,e=4;break;case"base64":this.text=__,this.end=E_,e=3;break;default:this.write=S_,this.end=B_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hc.allocUnsafe(e)}vs.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};vs.prototype.end=b_;vs.prototype.text=m_;vs.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function pc(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function y_(t,e,r){var n=e.length-1;if(n<r)return 0;var i=pc(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=pc(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=pc(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function g_(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"\uFFFD"}}function v_(t){var e=this.lastTotal-this.lastNeed,r=g_(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function m_(t,e){var r=y_(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function b_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function w_(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function x_(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function __(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function E_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function S_(t){return t.toString(this.encoding)}function B_(t){return t&&t.length?this.write(t):""}});var qo=_((aR,bh)=>{"use strict";var vh=Cn().codes.ERR_STREAM_PREMATURE_CLOSE;function A_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function T_(){}function C_(t){return t.setHeader&&typeof t.abort=="function"}function mh(t,e,r){if(typeof e=="function")return mh(t,null,e);e||(e={}),r=A_(r||T_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},f=function(y){r.call(t,y)},l=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new vh),r.call(t,y);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new vh),r.call(t,y)},p=function(){t.req.on("finish",a)};return C_(t)?(t.on("complete",a),t.on("abort",l),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",l)}}bh.exports=mh});var xh=_((uR,wh)=>{"use strict";var Fo;function $r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R_=qo(),Wr=Symbol("lastResolve"),kn=Symbol("lastReject"),ms=Symbol("error"),Uo=Symbol("ended"),Pn=Symbol("lastPromise"),yc=Symbol("handlePromise"),Dn=Symbol("stream");function Gr(t,e){return{value:t,done:e}}function I_(t){var e=t[Wr];if(e!==null){var r=t[Dn].read();r!==null&&(t[Pn]=null,t[Wr]=null,t[kn]=null,e(Gr(r,!1)))}}function k_(t){process.nextTick(I_,t)}function P_(t,e){return function(r,n){t.then(function(){if(e[Uo]){r(Gr(void 0,!0));return}e[yc](r,n)},n)}}var D_=Object.getPrototypeOf(function(){}),N_=Object.setPrototypeOf((Fo={get stream(){return this[Dn]},next:function(){var e=this,r=this[ms];if(r!==null)return Promise.reject(r);if(this[Uo])return Promise.resolve(Gr(void 0,!0));if(this[Dn].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[ms]?a(e[ms]):o(Gr(void 0,!0))})});var n=this[Pn],i;if(n)i=new Promise(P_(n,this));else{var s=this[Dn].read();if(s!==null)return Promise.resolve(Gr(s,!1));i=new Promise(this[yc])}return this[Pn]=i,i}},$r(Fo,Symbol.asyncIterator,function(){return this}),$r(Fo,"return",function(){var e=this;return new Promise(function(r,n){e[Dn].destroy(null,function(i){if(i){n(i);return}r(Gr(void 0,!0))})})}),Fo),D_),O_=function(e){var r,n=Object.create(N_,(r={},$r(r,Dn,{value:e,writable:!0}),$r(r,Wr,{value:null,writable:!0}),$r(r,kn,{value:null,writable:!0}),$r(r,ms,{value:null,writable:!0}),$r(r,Uo,{value:e._readableState.endEmitted,writable:!0}),$r(r,yc,{value:function(s,o){var a=n[Dn].read();a?(n[Pn]=null,n[Wr]=null,n[kn]=null,s(Gr(a,!1))):(n[Wr]=s,n[kn]=o)},writable:!0}),r));return n[Pn]=null,R_(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[kn];s!==null&&(n[Pn]=null,n[Wr]=null,n[kn]=null,s(i)),n[ms]=i;return}var o=n[Wr];o!==null&&(n[Pn]=null,n[Wr]=null,n[kn]=null,o(Gr(void 0,!0))),n[Uo]=!0}),e.on("readable",k_.bind(null,n)),n};wh.exports=O_});var Eh=_((cR,_h)=>{_h.exports=function(){throw new Error("Readable.from is not available in the browser")}});var fc=_((lR,Dh)=>{"use strict";Dh.exports=ee;var vi;ee.ReadableState=Bh;var fR=ps().EventEmitter,Sh=function(e,r){return e.listeners(r).length},bs=Qu(),Ko=hi().Buffer,L_=globalThis.Uint8Array||function(){};function M_(t){return Ko.from(t)}function q_(t){return Ko.isBuffer(t)||t instanceof L_}var gc=Xu(),Z;gc&&gc.debuglog?Z=gc.debuglog("stream"):Z=function(){};var F_=Y0(),vc=tc(),U_=rc(),K_=U_.getHighWaterMark,jo=Cn().codes,j_=jo.ERR_INVALID_ARG_TYPE,V_=jo.ERR_STREAM_PUSH_AFTER_EOF,H_=jo.ERR_METHOD_NOT_IMPLEMENTED,z_=jo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,mi,mc,bc;di()(ee,bs);var ws=vc.errorOrDestroy,wc=["error","close","destroy","pause","resume"];function $_(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Bh(t,e,r){vi=vi||Rn(),t=t||{},typeof r!="boolean"&&(r=e instanceof vi),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=K_(this,t,"readableHighWaterMark",r),this.buffer=new F_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(mi||(mi=dc().StringDecoder),this.decoder=new mi(t.encoding),this.encoding=t.encoding)}function ee(t){if(vi=vi||Rn(),!(this instanceof ee))return new ee(t);var e=this instanceof vi;this._readableState=new Bh(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),bs.call(this)}Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ee.prototype.destroy=vc.destroy;ee.prototype._undestroy=vc.undestroy;ee.prototype._destroy=function(t,e){e(t)};ee.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ko.from(t,e),e=""),n=!0),Ah(this,t,e,!1,n)};ee.prototype.unshift=function(t){return Ah(this,t,null,!0,!1)};function Ah(t,e,r,n,i){Z("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Y_(t,s);else{var o;if(i||(o=W_(s,e)),o)ws(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Ko.prototype&&(e=M_(e)),n)s.endEmitted?ws(t,new z_):xc(t,s,e,!0);else if(s.ended)ws(t,new V_);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?xc(t,s,e,!1):_c(t,s)):xc(t,s,e,!1)}else n||(s.reading=!1,_c(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function xc(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Vo(t)),_c(t,e)}function W_(t,e){var r;return!q_(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new j_("chunk",["string","Buffer","Uint8Array"],e)),r}ee.prototype.isPaused=function(){return this._readableState.flowing===!1};ee.prototype.setEncoding=function(t){mi||(mi=dc().StringDecoder);var e=new mi(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Th=1073741824;function G_(t){return t>=Th?t=Th:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Ch(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=G_(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ee.prototype.read=function(t){Z("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Z("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Sc(this):Vo(this),null;if(t=Ch(t,e),t===0&&e.ended)return e.length===0&&Sc(this),null;var n=e.needReadable;Z("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Z("length less than watermark",n)),e.ended||e.reading?(n=!1,Z("reading or ended",n)):n&&(Z("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ch(r,e)));var i;return t>0?i=kh(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Sc(this)),i!==null&&this.emit("data",i),i};function Y_(t,e){if(Z("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Vo(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Rh(t)))}}function Vo(t){var e=t._readableState;Z("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Z("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Rh,t))}function Rh(t){var e=t._readableState;Z("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Ec(t)}function _c(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Z_,t,e))}function Z_(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Z("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ee.prototype._read=function(t){ws(this,new H_("_read()"))};ee.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Z("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:m;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(E,x){Z("onunpipe"),E===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,f())}function a(){Z("onend"),t.end()}var u=Q_(r);t.on("drain",u);var c=!1;function f(){Z("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",l),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",l);function l(E){Z("ondata");var x=t.write(E);Z("dest.write",x),x===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ph(n.pipes,t)!==-1)&&!c&&(Z("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(E){Z("onerror",E),m(),t.removeListener("error",p),Sh(t,"error")===0&&ws(t,E)}$_(t,"error",p);function v(){t.removeListener("finish",y),m()}t.once("close",v);function y(){Z("onfinish"),t.removeListener("close",v),m()}t.once("finish",y);function m(){Z("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Z("pipe resume"),r.resume()),t};function Q_(t){return function(){var r=t._readableState;Z("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Sh(t,"data")&&(r.flowing=!0,Ec(t))}}ee.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Ph(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ee.prototype.on=function(t,e){var r=bs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Z("on readable",n.length,n.reading),n.length?Vo(this):n.reading||process.nextTick(X_,this)),r};ee.prototype.addListener=ee.prototype.on;ee.prototype.removeListener=function(t,e){var r=bs.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Ih,this),r};ee.prototype.removeAllListeners=function(t){var e=bs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Ih,this),e};function Ih(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function X_(t){Z("readable nexttick read 0"),t.read(0)}ee.prototype.resume=function(){var t=this._readableState;return t.flowing||(Z("resume"),t.flowing=!t.readableListening,J_(this,t)),t.paused=!1,this};function J_(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(eE,t,e))}function eE(t,e){Z("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Ec(t),e.flowing&&!e.reading&&t.read(0)}ee.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ec(t){var e=t._readableState;for(Z("flow",e.flowing);e.flowing&&t.read()!==null;);}ee.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Z("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Z("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<wc.length;s++)t.on(wc[s],this.emit.bind(this,wc[s]));return this._read=function(o){Z("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ee.prototype[Symbol.asyncIterator]=function(){return mc===void 0&&(mc=xh()),mc(this)});Object.defineProperty(ee.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ee.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ee.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ee._fromList=kh;Object.defineProperty(ee.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function kh(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Sc(t){var e=t._readableState;Z("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(tE,e,t))}function tE(t,e){if(Z("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ee.from=function(t,e){return bc===void 0&&(bc=Eh()),bc(ee,t,e)});function Ph(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Bc=_((hR,Oh)=>{"use strict";Oh.exports=Cr;var Ho=Cn().codes,rE=Ho.ERR_METHOD_NOT_IMPLEMENTED,nE=Ho.ERR_MULTIPLE_CALLBACK,iE=Ho.ERR_TRANSFORM_ALREADY_TRANSFORMING,sE=Ho.ERR_TRANSFORM_WITH_LENGTH_0,zo=Rn();di()(Cr,zo);function oE(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new nE);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Cr(t){if(!(this instanceof Cr))return new Cr(t);zo.call(this,t),this._transformState={afterTransform:oE.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",aE)}function aE(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Nh(t,e,r)}):Nh(this,null,null)}Cr.prototype.push=function(t,e){return this._transformState.needTransform=!1,zo.prototype.push.call(this,t,e)};Cr.prototype._transform=function(t,e,r){r(new rE("_transform()"))};Cr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Cr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Cr.prototype._destroy=function(t,e){zo.prototype._destroy.call(this,t,function(r){e(r)})};function Nh(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new sE;if(t._transformState.transforming)throw new iE;return t.push(null)}});var qh=_((pR,Mh)=>{"use strict";Mh.exports=xs;var Lh=Bc();di()(xs,Lh);function xs(t){if(!(this instanceof xs))return new xs(t);Lh.call(this,t)}xs.prototype._transform=function(t,e,r){r(null,t)}});var Vh=_((dR,jh)=>{"use strict";var Ac;function uE(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Fh=Cn().codes,cE=Fh.ERR_MISSING_ARGS,fE=Fh.ERR_STREAM_DESTROYED;function Uh(t){if(t)throw t}function lE(t){return t.setHeader&&typeof t.abort=="function"}function hE(t,e,r,n){n=uE(n);var i=!1;t.on("close",function(){i=!0}),Ac===void 0&&(Ac=qo()),Ac(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,lE(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new fE("pipe"))}}}function Kh(t){t()}function pE(t,e){return t.pipe(e)}function dE(t){return!t.length||typeof t[t.length-1]!="function"?Uh:t.pop()}function yE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=dE(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new cE("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return hE(o,u,c,function(f){i||(i=f),f&&s.forEach(Kh),!u&&(s.forEach(Kh),n(i))})});return e.reduce(pE)}jh.exports=yE});var zh=_((xt,Hh)=>{xt=Hh.exports=fc();xt.Stream=xt;xt.Readable=xt;xt.Writable=ac();xt.Duplex=Rn();xt.Transform=Bc();xt.PassThrough=qh();xt.finished=qo();xt.pipeline=Vh()});var Gh=_((yR,Wh)=>{var $h;Wh.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:globalThis):t=>($h||($h=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Qh=_((gR,Zh)=>{"use strict";function Yh(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function gE(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=void 0),e!=null&&(r.code=e);try{return Yh(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),Yh(new i,r)}}Zh.exports=gE});var Rc=_((vR,tp)=>{var vE=$e()("simple-peer"),Xh=w0(),Jh=H0(),mE=zh(),Tc=Gh(),he=Qh(),Cc=64*1024,bE=5*1e3,wE=5*1e3;function ep(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}function xE(t){console.warn(t)}var Yr=class extends mE.Duplex{constructor(e){e=Object.assign({allowHalfOpen:!1},e);super(e);if(this._id=Jh(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||Jh(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||Yr.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},Yr.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(r=>r),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||bE,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:Xh(),!this._wrtc)throw he(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=this.negotiated?!1:!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){Tc(()=>this.destroy(he(r,"ERR_PC_CONSTRUCTOR")));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw he(new Error("cannot signal after peer is destroyed"),"ERR_SIGNALING");if(typeof e=="string")try{e=JSON.parse(e)}catch(r){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(he(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy(he(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}_addIceCandidate(e){var r=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?xE("Ignoring unsupported ICE candidate."):this.destroy(he(n,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,r){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,r),this._needsNegotiation()}catch(n){this.destroy(he(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:r}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(r=>{this.addTrack(r,e)})}addTrack(e,r){this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,i=n.get(r);if(!i)i=this._pc.addTrack(e,r),n.set(r,i),this._senderMap.set(e,n),this._needsNegotiation();else throw i.removed?he(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):he(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,r,n){this._debug("replaceTrack()");var i=this._senderMap.get(e),s=i?i.get(n):null;if(!s)throw he(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,i),s.replaceTrack!=null?s.replaceTrack(r):this.destroy(he(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,r){this._debug("removeSender()");var n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw he(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{i.removed=!0,this._pc.removeTrack(i)}catch(s){s.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(i):this.destroy(he(s,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(r=>{this.removeTrack(r,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Tc(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}_destroy(e,r){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(n){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(n){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,r(e)}_setupData(e){if(!e.channel)return this.destroy(he(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Cc),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{this.destroy(he(n,"ERR_DATA_CHANNEL"))};var r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},wE)}_read(){}_write(e,r,n){if(this.destroyed)return n(he(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(i){return this.destroy(he(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Cc?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;let e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=ep(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let r=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})}},n=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=s=>{this.destroy(he(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(i)}).catch(e=>{this.destroy(he(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=ep(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let r=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||this._requestMissingTransceivers()}},n=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=s=>{this.destroy(he(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(i)}).catch(e=>{this.destroy(he(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(he(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,r),this.emit("iceStateChange",e,r),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy(he(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy(he(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){let r=n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(i=>{Object.assign(n,i)}),n);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{var i=[];n.forEach(s=>{i.push(r(s))}),e(null,i)},n=>e(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(!this.destroyed){var i=[];n.result().forEach(s=>{var o={};s.names().forEach(a=>{o[a]=s.stat(a)}),o.id=s.id,o.type=s.type,o.timestamp=s.timestamp,i.push(r(o))}),e(null,i)}},n=>e(n)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let e=()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);var i={},s={},o={},a=!1;n.forEach(f=>{(f.type==="remotecandidate"||f.type==="remote-candidate")&&(i[f.id]=f),(f.type==="localcandidate"||f.type==="local-candidate")&&(s[f.id]=f),(f.type==="candidatepair"||f.type==="candidate-pair")&&(o[f.id]=f)});let u=f=>{a=!0;var l=s[f.localCandidateId];l&&(l.ip||l.address)?(this.localAddress=l.ip||l.address,this.localPort=Number(l.port)):l&&l.ipAddress?(this.localAddress=l.ipAddress,this.localPort=Number(l.portNumber)):typeof f.googLocalAddress=="string"&&(l=f.googLocalAddress.split(":"),this.localAddress=l[0],this.localPort=Number(l[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var p=i[f.remoteCandidateId];p&&(p.ip||p.address)?(this.remoteAddress=p.ip||p.address,this.remotePort=Number(p.port)):p&&p.ipAddress?(this.remoteAddress=p.ipAddress,this.remotePort=Number(p.portNumber)):typeof f.googRemoteAddress=="string"&&(p=f.googRemoteAddress.split(":"),this.remoteAddress=p[0],this.remotePort=Number(p[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(f=>{f.type==="transport"&&f.selectedCandidatePairId&&u(o[f.selectedCandidatePairId]),(f.type==="googCandidatePair"&&f.googActiveConnection==="true"||(f.type==="candidatepair"||f.type==="candidate-pair")&&f.selected)&&u(f)}),!a&&(!Object.keys(o).length||Object.keys(s).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(f){return this.destroy(he(f,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var c=this._cb;this._cb=null,c(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Cc||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&!this._firstStable&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var r=e.data;r instanceof ArrayBuffer&&(r=new Uint8Array(r)),this.push(r)}}_onChannelBufferedAmountLow(){if(!(this.destroyed||!this._cb)){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(r=>{this._debug("on track"),this.emit("track",e.track,r),this._remoteTracks.push({track:e.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),Tc(()=>{this.emit("stream",r)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],vE.apply(null,e)}};Yr.WEBRTC_SUPPORT=!!Xh();Yr.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Yr.channelConfig={};tp.exports=Yr});var np=_((mR,rp)=>{"use strict";rp.exports={supportsFileReader:typeof self!="undefined"&&"FileReader"in self,supportsWebRTC:"RTCPeerConnection"in globalThis&&typeof navigator!="undefined"&&typeof navigator.mediaDevices!="undefined"&&"getUserMedia"in navigator.mediaDevices,supportsWebRTCDataChannels:"RTCPeerConnection"in globalThis}});var op=_((bR,sp)=>{"use strict";var ip="[a-fA-F\\d:]",Zr=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${ip})|(?<=${ip})(?=\\s|$))`:"",Ht="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Re="[a-fA-F\\d]{1,4}",$o=`
(?:
(?:${Re}:){7}(?:${Re}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${Re}:){6}(?:${Ht}|:${Re}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${Re}:){5}(?::${Ht}|(?::${Re}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${Re}:){4}(?:(?::${Re}){0,1}:${Ht}|(?::${Re}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${Re}:){3}(?:(?::${Re}){0,2}:${Ht}|(?::${Re}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${Re}:){2}(?:(?::${Re}){0,3}:${Ht}|(?::${Re}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${Re}:){1}(?:(?::${Re}){0,4}:${Ht}|(?::${Re}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${Re}){0,5}:${Ht}|(?::${Re}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),_E=new RegExp(`(?:^${Ht}$)|(?:^${$o}$)`),EE=new RegExp(`^${Ht}$`),SE=new RegExp(`^${$o}$`),Ic=t=>t&&t.exact?_E:new RegExp(`(?:${Zr(t)}${Ht}${Zr(t)})|(?:${Zr(t)}${$o}${Zr(t)})`,"g");Ic.v4=t=>t&&t.exact?EE:new RegExp(`${Zr(t)}${Ht}${Zr(t)}`,"g");Ic.v6=t=>t&&t.exact?SE:new RegExp(`${Zr(t)}${$o}${Zr(t)}`,"g");sp.exports=Ic});var up=_((wR,ap)=>{"use strict";var kc=op(),bi=t=>kc({exact:!0}).test(t);bi.v4=t=>kc.v4({exact:!0}).test(t);bi.v6=t=>kc.v6({exact:!0}).test(t);bi.version=t=>bi(t)?bi.v4(t)?4:6:void 0;ap.exports=bi});function BE(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var m=0,E=0,x=0,B=y.length;x!==B&&y[x]===0;)x++,m++;for(var I=(B-x)*f+1>>>0,j=new Uint8Array(I);x!==B;){for(var M=y[x],N=0,Y=I-1;(M!==0||N<E)&&Y!==-1;Y--,N++)M+=256*j[Y]>>>0,j[Y]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");E=N,x++}for(var X=I-E;X!==I&&j[X]===0;)X++;for(var ve=u.repeat(m);X<I;++X)ve+=t.charAt(j[X]);return ve}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var m=0;if(y[m]!==" "){for(var E=0,x=0;y[m]===u;)E++,m++;for(var B=(y.length-m)*c+1>>>0,I=new Uint8Array(B);y[m];){var j=r[y.charCodeAt(m)];if(j===255)return;for(var M=0,N=B-1;(j!==0||M<x)&&N!==-1;N--,M++)j+=a*I[N]>>>0,I[N]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");x=M,m++}if(y[m]!==" "){for(var Y=B-x;Y!==B&&I[Y]===0;)Y++;for(var X=new Uint8Array(E+(B-Y)),ve=E;Y!==B;)X[ve++]=I[Y++];return X}}}function v(y){var m=p(y);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:p,decode:v}}var AE,TE,cp,fp=ue(()=>{AE=BE,TE=AE,cp=TE});var _R,lp,Rr,hp,pp,Qr=ue(()=>{_R=new Uint8Array(0),lp=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Rr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},hp=t=>new TextEncoder().encode(t),pp=t=>new TextDecoder().decode(t)});var yp,gp,vp,mp,bp,Wo,Xr,CE,RE,Be,nr=ue(()=>{fp();Qr();yp=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},gp=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return mp(this,e)}},vp=class{constructor(e){this.decoders=e}or(e){return mp(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},mp=(t,e)=>new vp({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),bp=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new yp(e,r,n),this.decoder=new gp(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Wo=({name:t,prefix:e,encode:r,decode:n})=>new bp(t,e,r,n),Xr=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=cp(r,e);return Wo({prefix:t,name:e,encode:n,decode:s=>Rr(i(s))})},CE=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let l=i[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},RE=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Be=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Wo({prefix:e,name:t,encode(i){return RE(i,n,r)},decode(i){return CE(i,n,r,t)}})});var Pc={};Ve(Pc,{identity:()=>IE});var IE,wp=ue(()=>{nr();Qr();IE=Wo({prefix:"\0",name:"identity",encode:t=>pp(t),decode:t=>hp(t)})});var Dc={};Ve(Dc,{base2:()=>kE});var kE,xp=ue(()=>{nr();kE=Be({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Nc={};Ve(Nc,{base8:()=>PE});var PE,_p=ue(()=>{nr();PE=Be({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Oc={};Ve(Oc,{base10:()=>DE});var DE,Ep=ue(()=>{nr();DE=Xr({prefix:"9",name:"base10",alphabet:"0123456789"})});var Go={};Ve(Go,{base16:()=>NE,base16upper:()=>OE});var NE,OE,Lc=ue(()=>{nr();NE=Be({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),OE=Be({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var xi={};Ve(xi,{base32:()=>wi,base32hex:()=>FE,base32hexpad:()=>KE,base32hexpadupper:()=>jE,base32hexupper:()=>UE,base32pad:()=>ME,base32padupper:()=>qE,base32upper:()=>LE,base32z:()=>VE});var wi,LE,ME,qE,FE,UE,KE,jE,VE,_i=ue(()=>{nr();wi=Be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),LE=Be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ME=Be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qE=Be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),FE=Be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),UE=Be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),KE=Be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jE=Be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),VE=Be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Yo={};Ve(Yo,{base36:()=>HE,base36upper:()=>zE});var HE,zE,Mc=ue(()=>{nr();HE=Xr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zE=Xr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Jr={};Ve(Jr,{base58btc:()=>ir,base58flickr:()=>$E});var ir,$E,en=ue(()=>{nr();ir=Xr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$E=Xr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Ei={};Ve(Ei,{base64:()=>WE,base64pad:()=>GE,base64url:()=>YE,base64urlpad:()=>ZE});var WE,GE,YE,ZE,_s=ue(()=>{nr();WE=Be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),GE=Be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),YE=Be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZE=Be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function Bp(t,e,r){e=e||[],r=r||0;for(var n=r;t>=eS;)e[r++]=t&255|Sp,t/=128;for(;t&JE;)e[r++]=t&255|Sp,t>>>=7;return e[r]=t|0,Bp.bytes=r-n+1,e}function qc(t,e){var r=0,e=e||0,n=0,i=e,s,o=t.length;do{if(i>=o)throw qc.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&Ap)<<n:(s&Ap)*Math.pow(2,n),n+=7}while(s>=rS);return qc.bytes=i-e,r}var QE,Sp,XE,JE,eS,tS,rS,Ap,nS,iS,sS,oS,aS,uS,cS,fS,lS,hS,pS,dS,Es,Tp=ue(()=>{QE=Bp,Sp=128,XE=127,JE=~XE,eS=Math.pow(2,31);tS=qc,rS=128,Ap=127;nS=Math.pow(2,7),iS=Math.pow(2,14),sS=Math.pow(2,21),oS=Math.pow(2,28),aS=Math.pow(2,35),uS=Math.pow(2,42),cS=Math.pow(2,49),fS=Math.pow(2,56),lS=Math.pow(2,63),hS=function(t){return t<nS?1:t<iS?2:t<sS?3:t<oS?4:t<aS?5:t<uS?6:t<cS?7:t<fS?8:t<lS?9:10},pS={encode:QE,decode:tS,encodingLength:hS},dS=pS,Es=dS});var Ss,Si,Bi,Zo=ue(()=>{Tp();Ss=t=>[Es.decode(t),Es.decode.bytes],Si=(t,e,r=0)=>(Es.encode(t,e,r),e),Bi=t=>Es.encodingLength(t)});var As={};Ve(As,{Digest:()=>Ai,create:()=>Bs,decode:()=>Fc,equals:()=>Uc});var Bs,Fc,Uc,Ai,Ti=ue(()=>{Qr();Zo();Bs=(t,e)=>{let r=e.byteLength,n=Bi(t),i=n+Bi(r),s=new Uint8Array(i+r);return Si(t,s,0),Si(r,s,n),s.set(e,i),new Ai(t,r,e,s)},Fc=t=>{let e=Rr(t),[r,n]=Ss(e),[i,s]=Ss(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Ai(r,i,o,e)},Uc=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&lp(t.bytes,e.bytes),Ai=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var Ts,Rp,Qo=ue(()=>{Ti();Ts=({name:t,code:e,encode:r})=>new Rp(t,e,r),Rp=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return Bs(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var Nn={};Ve(Nn,{sha256:()=>yS,sha512:()=>gS});var kp,yS,gS,Ci=ue(()=>{Qo();kp=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yS=Ts({name:"sha2-256",code:18,encode:kp("SHA-256")}),gS=Ts({name:"sha2-512",code:19,encode:kp("SHA-512")})});var Cs={};Ve(Cs,{identity:()=>vS});var vS,Xo=ue(()=>{Qo();Qr();vS=Ts({name:"identity",code:0,encode:t=>Rr(t)})});var Pp=ue(()=>{Qr()});var zR,$R,Dp=ue(()=>{zR=new TextEncoder,$R=new TextDecoder});var ta={};Ve(ta,{CID:()=>Pe});var Pe,wS,xS,_S,Rs,ES,Np,Op,Jo,ea,SS,BS,AS,Is=ue(()=>{Zo();Ti();en();_i();Qr();Pe=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ea,byteLength:ea,code:Jo,version:Jo,multihash:Jo,bytes:Jo,_baseCache:ea,asCID:ea})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Rs)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==ES)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Pe.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Bs(e,r);return Pe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Uc(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return xS(r,i,e||ir.encoder);default:return _S(r,i,e||wi.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return BS(/^0\.0/,AS),!!(e&&(e[Op]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Pe)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new Pe(r,n,i,s||Np(r,n,i.bytes))}else if(e!=null&&e[Op]===!0){let{version:r,multihash:n,code:i}=e,s=Fc(n);return Pe.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Rs)throw new Error(`Version 0 CID must use dag-pb (code: ${Rs}) block encoding`);return new Pe(e,r,n,n.bytes)}case 1:{let i=Np(e,r,n.bytes);return new Pe(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Pe.create(0,Rs,e)}static createV1(e,r){return Pe.create(1,e,r)}static decode(e){let[r,n]=Pe.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Pe.inspectBytes(e),n=r.size-r.multihashSize,i=Rr(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new Ai(r.multihashCode,r.digestSize,s,i);return[r.version===0?Pe.createV0(o):Pe.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,p]=Ss(e.subarray(r));return r+=p,l},i=n(),s=Rs;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),c=r+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=wS(e,r),s=Pe.decode(i);return s._baseCache.set(n,e),s}},wS=(t,e)=>{switch(t[0]){case"Q":{let r=e||ir;return[ir.prefix,r.decode(`${ir.prefix}${t}`)]}case ir.prefix:{let r=e||ir;return[ir.prefix,r.decode(t)]}case wi.prefix:{let r=e||wi;return[wi.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},xS=(t,e,r)=>{let{prefix:n}=r;if(n!==ir.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},_S=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Rs=112,ES=18,Np=(t,e,r)=>{let n=Bi(t),i=n+Bi(e),s=new Uint8Array(i+r.byteLength);return Si(t,s,0),Si(e,s,n),s.set(r,i),s},Op=Symbol.for("@ipld/js-cid/CID"),Jo={writable:!1,configurable:!1,enumerable:!0},ea={writable:!1,enumerable:!1,configurable:!1},SS="0.0.0-dev",BS=(t,e)=>{if(t.test(SS))console.warn(e);else throw new Error(e)},AS=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Lp=ue(()=>{Is();Zo();Qr();Qo();Ti()});var Kc,tI,Mp=ue(()=>{wp();xp();_p();Ep();Lc();_i();Mc();en();_s();Ci();Xo();Pp();Dp();Lp();Kc={...Pc,...Dc,...Nc,...Oc,...Go,...xi,...Yo,...Jr,...Ei},tI={...Nn,...Cs}});function qp(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Fp,jc,TS,ra,Vc=ue(()=>{Mp();Fp=qp("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),jc=qp("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),TS={utf8:Fp,"utf-8":Fp,hex:Kc.base16,latin1:jc,ascii:jc,binary:jc,...Kc},ra=TS});var _t={};Ve(_t,{toString:()=>CS});function CS(t,e="utf8"){let r=ra[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Et=ue(()=>{Vc()});var Hp=_((oI,Vp)=>{"use strict";var Hc=up(),{toString:Up}=(Et(),_t),RS=Hc,zc=Hc.v4,Kp=Hc.v6,jp=function(t,e,r){r=~~r;let n;if(zc(t))n=e||new Uint8Array(r+4),t.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(Kp(t)){let i=t.split(":",8),s;for(s=0;s<i.length;s++){let o=zc(i[s]),a;o&&(a=jp(i[s]),i[s]=Up(a.slice(0,2),"base16")),a&&++s<8&&i.splice(s,0,Up(a.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let o=[s,"1"];for(s=9-i.length;s>0;s--)o.push("0");i.splice.apply(i,o)}for(n=e||new Uint8Array(r+16),s=0;s<i.length;s++){let o=parseInt(i[s],16);n[r++]=o>>8&255,n[r++]=o&255}}if(!n)throw Error("Invalid ip address: "+t);return n},IS=function(t,e,r){e=~~e,r=r||t.length-e;let n=[],i,s=new DataView(t.buffer);if(r===4){for(let o=0;o<r;o++)n.push(t[e+o]);i=n.join(".")}else if(r===16){for(let o=0;o<r;o+=2)n.push(s.getUint16(e+o).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};Vp.exports={isIP:RS,isV4:zc,isV6:Kp,toBytes:jp,toString:IS}});var na=_((aI,$p)=>{"use strict";function ct(t){if(typeof t=="number"){if(ct.codes[t])return ct.codes[t];throw new Error("no protocol with code: "+t)}else if(typeof t=="string"){if(ct.names[t])return ct.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}var St=-1;ct.lengthPrefixedVarSize=St;ct.V=St;ct.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,St,"ip6zone"],[53,St,"dns","resolvable"],[54,St,"dns4","resolvable"],[55,St,"dns6","resolvable"],[56,St,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,St,"unix",!1,"path"],[421,St,"ipfs"],[421,St,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,St,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,St,"memory"]];ct.names={};ct.codes={};ct.table.map(t=>{let e=zp.apply(null,t);return ct.codes[e.code]=e,ct.names[e.name]=e,null});ct.object=zp;function zp(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}$p.exports=ct});var Yp=_((uI,Gp)=>{Gp.exports=$c;var Wp=128,kS=127,PS=~kS,DS=Math.pow(2,31);function $c(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw $c.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=DS;)e[r++]=t&255|Wp,t/=128;for(;t&PS;)e[r++]=t&255|Wp,t>>>=7;return e[r]=t|0,$c.bytes=r-n+1,e}});var Xp=_((cI,Qp)=>{Qp.exports=Wc;var NS=128,Zp=127;function Wc(t,e){var r=0,e=e||0,n=0,i=e,s,o=t.length;do{if(i>=o||n>49)throw Wc.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&Zp)<<n:(s&Zp)*Math.pow(2,n),n+=7}while(s>=NS);return Wc.bytes=i-e,r}});var ed=_((fI,Jp)=>{var OS=Math.pow(2,7),LS=Math.pow(2,14),MS=Math.pow(2,21),qS=Math.pow(2,28),FS=Math.pow(2,35),US=Math.pow(2,42),KS=Math.pow(2,49),jS=Math.pow(2,56),VS=Math.pow(2,63);Jp.exports=function(t){return t<OS?1:t<LS?2:t<MS?3:t<qS?4:t<FS?5:t<US?6:t<KS?7:t<jS?8:t<VS?9:10}});var ia=_((lI,td)=>{td.exports={encode:Yp(),decode:Xp(),encodingLength:ed()}});var Ir={};Ve(Ir,{fromString:()=>HS});function HS(t,e="utf8"){let r=ra[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var kr=ue(()=>{Vc()});var On={};Ve(On,{concat:()=>zS});function zS(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var Ln=ue(()=>{});var cd=_((pI,ud)=>{"use strict";var sa=Hp(),rd=na(),{CID:$S}=(Is(),ta),{base32:nd}=(_i(),xi),{base58btc:WS}=(en(),Jr),GS=(Ti(),As),Ri=ia(),{toString:oa}=(Et(),_t),{fromString:id}=(kr(),Ir),{concat:aa}=(Ln(),On);ud.exports=ks;function ks(t,e){return e instanceof Uint8Array?ks.toString(t,e):ks.toBytes(t,e)}ks.toString=function(e,r){switch(rd(e).code){case 4:case 41:return YS(r);case 6:case 273:case 33:case 132:return od(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return QS(r);case 421:return JS(r);case 444:return ad(r);case 445:return ad(r);default:return oa(r,"base16")}};ks.toBytes=function(e,r){switch(rd(e).code){case 4:return sd(r);case 41:return sd(r);case 6:case 273:case 33:case 132:return Gc(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return ZS(r);case 421:return XS(r);case 444:return e4(r);case 445:return t4(r);default:return id(r,"base16")}};function sd(t){if(!sa.isIP(t))throw new Error("invalid ip address");return sa.toBytes(t)}function YS(t){let e=sa.toString(t);if(!e||!sa.isIP(e))throw new Error("invalid ip address");return e}function Gc(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function od(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function ZS(t){let e=id(t),r=Uint8Array.from(Ri.encode(e.length));return aa([r,e],r.length+e.length)}function QS(t){let e=Ri.decode(t);if(t=t.slice(Ri.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return oa(t)}function XS(t){let e;t[0]==="Q"||t[0]==="1"?e=GS.decode(WS.decode(`z${t}`)).bytes:e=$S.parse(t).multihash.bytes;let r=Uint8Array.from(Ri.encode(e.length));return aa([r,e],r.length+e.length)}function JS(t){let e=Ri.decode(t),r=t.slice(Ri.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return oa(r,"base58btc")}function e4(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let r=nd.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Gc(n);return aa([r,i],r.length+i.length)}function t4(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let r=nd.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Gc(n);return aa([r,i],r.length+i.length)}function ad(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=oa(e,"base32"),i=od(r);return n+":"+i}});var xd=_((dI,wd)=>{"use strict";var fd=cd(),Yc=na(),Ps=ia(),{concat:ld}=(Ln(),On),{toString:r4}=(Et(),_t);wd.exports={stringToStringTuples:hd,stringTuplesToString:pd,tuplesToStringTuples:yd,stringTuplesToTuples:dd,bytesToTuples:Zc,tuplesToBytes:gd,bytesToString:n4,stringToBytes:md,fromString:i4,fromBytes:bd,validateBytes:Qc,isValidBytes:s4,cleanPath:ua,ParseError:Xc,protoFromTuple:Ds,sizeForAddr:vd};function hd(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=Yc(i);if(s.size===0){e.push([i]);continue}if(n++,n>=r.length)throw Xc("invalid address: "+t);if(s.path){e.push([i,ua(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function pd(t){let e=[];return t.map(r=>{let n=Ds(r);return e.push(n.name),r.length>1&&e.push(r[1]),null}),ua(e.join("/"))}function dd(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=Ds(e);return e.length>1?[r.code,fd.toBytes(r.code,e[1])]:[r.code]})}function yd(t){return t.map(e=>{let r=Ds(e);return e[1]?[r.code,fd.toString(r.code,e[1])]:[r.code]})}function gd(t){return bd(ld(t.map(e=>{let r=Ds(e),n=Uint8Array.from(Ps.encode(r.code));return e.length>1&&(n=ld([n,e[1]])),n})))}function vd(t,e){return t.size>0?t.size/8:t.size===0?0:Ps.decode(e)+Ps.decode.bytes}function Zc(t){let e=[],r=0;for(;r<t.length;){let n=Ps.decode(t,r),i=Ps.decode.bytes,s=Yc(n),o=vd(s,t.slice(r+i));if(o===0){e.push([n]),r+=i;continue}let a=t.slice(r+i,r+i+o);if(r+=o+i,r>t.length)throw Xc("Invalid address Uint8Array: "+r4(t,"base16"));e.push([n,a])}return e}function n4(t){let e=Zc(t),r=yd(e);return pd(r)}function md(t){t=ua(t);let e=hd(t),r=dd(e);return gd(r)}function i4(t){return md(t)}function bd(t){let e=Qc(t);if(e)throw e;return Uint8Array.from(t)}function Qc(t){try{Zc(t)}catch(e){return e}}function s4(t){return Qc(t)===void 0}function ua(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function Xc(t){return new Error("Error parsing address: "+t)}function Ds(t){return Yc(t[0])}});var Sd=_((yI,Ed)=>{"use strict";function _d(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function o4(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return _d(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),_d(new i,r)}}Ed.exports=o4});var Mn={};Ve(Mn,{equals:()=>a4});function a4(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var qn=ue(()=>{});var Ns=_((gI,Td)=>{"use strict";var zt=xd(),Ii=na(),Bd=ia(),{CID:u4}=(Is(),ta),{base58btc:c4}=(en(),Jr),f4=Sd(),l4=Symbol.for("nodejs.util.inspect.custom"),{toString:ca}=(Et(),_t),{equals:h4}=(qn(),Mn),Jc=new Map,Ad=Symbol.for("@multiformats/js-multiaddr/multiaddr"),tt=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,Ad,{value:!0}),e instanceof Uint8Array)this.bytes=zt.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=zt.fromString(e)}else if(tt.isMultiaddr(e))this.bytes=zt.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return zt.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},r=this.toString().split("/");return e.family=r[1]==="ip4"?4:6,e.host=r[2],e.transport=r[3],e.port=parseInt(r[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Ii(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=Bd.decode(r,n),s=Bd.decode.bytes,o=Ii(i);n+=zt.sizeForAddr(o,r.slice(n+s))+s,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return zt.bytesToTuples(this.bytes)}stringTuples(){let e=zt.bytesToTuples(this.bytes);return zt.tuplesToStringTuples(e)}encapsulate(e){return e=new tt(e),new tt(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new tt(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new tt(zt.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Ii.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?ca(c4.decode(`z${n}`),"base58btc"):ca(u4.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>!!Ii(r[0]).path)[0][1],e||(e=null)}catch(r){e=null}return e}equals(e){return h4(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(i=>i.resolvable);if(!e)return[this];let r=Jc.get(e.name);if(!r)throw f4(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new tt(i))}nodeAddress(){let e=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let r=(e||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(e,r){if(!e)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new tt("/"+[n,e.address,r,e.port].join("/"))}static isName(e){return tt.isMultiaddr(e)?e.protos().some(r=>r.resolvable):!1}static isMultiaddr(e){return e instanceof tt||Boolean(e&&e[Ad])}[l4](){return"<Multiaddr "+ca(this.bytes,"base16")+" - "+zt.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+ca(this.bytes,"base16")+" - "+zt.bytesToString(this.bytes)+">"}};tt.protocols=Ii;tt.resolvers=Jc;function p4(t){return new tt(t)}Td.exports={Multiaddr:tt,multiaddr:p4,protocols:Ii,resolvers:Jc}});var qd=_((vI,Md)=>{"use strict";var{Multiaddr:ef}=Ns(),Cd=H("dns4"),Rd=H("dns6"),Id=H("dnsaddr"),Fn=We(H("dns"),Id,Cd,Rd),Os=We(H("ip4"),H("ip6")),ki=We(G(Os,H("tcp")),G(Fn,H("tcp"))),tf=G(Os,H("udp")),kd=G(tf,H("utp")),Pd=G(tf,H("quic")),Pi=We(G(ki,H("ws")),G(Fn,H("ws"))),Di=We(G(ki,H("wss")),G(Fn,H("wss"))),fa=We(G(ki,H("http")),G(Os,H("http")),G(Fn,H("http"))),la=We(G(ki,H("https")),G(Os,H("https")),G(Fn,H("https"))),rf=We(G(Pi,H("p2p-webrtc-star"),H("p2p")),G(Di,H("p2p-webrtc-star"),H("p2p")),G(Pi,H("p2p-webrtc-star")),G(Di,H("p2p-webrtc-star"))),d4=We(G(Pi,H("p2p-websocket-star"),H("p2p")),G(Di,H("p2p-websocket-star"),H("p2p")),G(Pi,H("p2p-websocket-star")),G(Di,H("p2p-websocket-star"))),nf=We(G(fa,H("p2p-webrtc-direct"),H("p2p")),G(la,H("p2p-webrtc-direct"),H("p2p")),G(fa,H("p2p-webrtc-direct")),G(la,H("p2p-webrtc-direct"))),Ni=We(Pi,Di,fa,la,rf,nf,ki,kd,Pd,Fn),y4=We(G(Ni,H("p2p-stardust"),H("p2p")),G(Ni,H("p2p-stardust"))),tn=We(G(Ni,H("p2p")),rf,nf,H("p2p")),Dd=We(G(tn,H("p2p-circuit"),tn),G(tn,H("p2p-circuit")),G(H("p2p-circuit"),tn),G(Ni,H("p2p-circuit")),G(H("p2p-circuit"),Ni),H("p2p-circuit")),Nd=()=>We(G(Dd,Nd),Dd),Oi=Nd(),Od=We(G(Oi,tn,Oi),G(tn,Oi),G(Oi,tn),Oi,tn);Md.exports={DNS:Fn,DNS4:Cd,DNS6:Rd,DNSADDR:Id,IP:Os,TCP:ki,UDP:tf,QUIC:Pd,UTP:kd,HTTP:fa,HTTPS:la,WebSockets:Pi,WebSocketsSecure:Di,WebSocketStar:d4,WebRTCStar:rf,WebRTCDirect:nf,Reliable:Ni,Stardust:y4,Circuit:Oi,P2P:Od,IPFS:Od};function Ld(t){function e(r){if(!ef.isMultiaddr(r))try{r=new ef(r)}catch(i){return!1}let n=t(r.protoNames());return n===null?!1:n===!0||n===!1?n:n.length===0}return e}function G(...t){function e(r){if(r.length<t.length)return null;let n=r;return t.some(i=>(n=typeof i=="function"?i().partialMatch(r):i.partialMatch(r),Array.isArray(n)&&(r=n),n===null)),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:Ld(e),partialMatch:e}}function We(...t){function e(n){let i=null;return t.some(s=>{let o=typeof s=="function"?s().partialMatch(n):s.partialMatch(n);return o?(i=o,!0):!1}),i}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:Ld(e),partialMatch:e}}function H(t){let e=t;function r(i){let s;if(typeof i=="string"||i instanceof Uint8Array)try{s=new ef(i)}catch(a){return!1}else s=i;let o=s.protoNames();return o.length===1&&o[0]===e}function n(i){return i.length===0?null:i[0]===e?i.slice(1):null}return{toString:function(){return e},matches:r,partialMatch:n}}});var Ud=_((mI,Fd)=>{"use strict";Fd.exports=g4;function g4(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(s)if(s=!1,f)u(f);else{for(var l=new Array(arguments.length-1),p=0;p<l.length;)l[p++]=arguments[p];a.apply(null,l)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,u(c))}})}});var Hd=_(Vd=>{"use strict";var ha=Vd;ha.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Li=new Array(64),Kd=new Array(123);for($t=0;$t<64;)Kd[Li[$t]=$t<26?$t+65:$t<52?$t+71:$t<62?$t-4:$t-59|43]=$t++;var $t;ha.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var c=e[r++];switch(a){case 0:s[o++]=Li[c>>2],u=(c&3)<<4,a=1;break;case 1:s[o++]=Li[u|c>>4],u=(c&15)<<2,a=2;break;case 2:s[o++]=Li[u|c>>6],s[o++]=Li[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Li[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var jd="invalid encoding";ha.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=Kd[u])===void 0)throw Error(jd);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(jd);return n-i};ha.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var $d=_((wI,zd)=>{"use strict";zd.exports=pa;function pa(){this._listeners={}}pa.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};pa.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};pa.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Jd=_((xI,Xd)=>{"use strict";Xd.exports=Wd(Wd);function Wd(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function s(u,c,f){e[0]=u,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function a(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|c)>>>0,s,o)}}t.writeFloatLE=e.bind(null,Gd),t.writeFloatBE=e.bind(null,Yd);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,c=o&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,Zd),t.readFloatBE=r.bind(null,Qd)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function s(u,c,f){e[0]=u,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function a(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var c=o<0?1:0;if(c&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((c<<31|2146435072)>>>0,a,u+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,u+i),n((c<<31|f/4294967296)>>>0,a,u+s);else{var l=Math.floor(Math.log(o)/Math.LN2);l===1024&&(l=1023),f=o*Math.pow(2,-l),n(f*4503599627370496>>>0,a,u+i),n((c<<31|l+1023<<20|f*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,Gd,0,4),t.writeDoubleBE=e.bind(null,Yd,4,0);function r(n,i,s,o,a){var u=n(o,a+i),c=n(o,a+s),f=(c>>31)*2+1,l=c>>>20&2047,p=4294967296*(c&1048575)+u;return l===2047?p?NaN:f*(1/0):l===0?f*5e-324*p:f*Math.pow(2,l-1075)*(p+4503599627370496)}t.readDoubleLE=r.bind(null,Zd,0,4),t.readDoubleBE=r.bind(null,Qd,4,0)}(),t}function Gd(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Yd(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Zd(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Qd(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var ey=_((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var ry=_(ty=>{"use strict";var sf=ty;sf.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};sf.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};sf.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var iy=_((EI,ny)=>{"use strict";ny.exports=v4;function v4(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var c=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),c}}});var oy=_((SI,sy)=>{"use strict";sy.exports=Me;var Ls=nn();function Me(t,e){this.lo=t>>>0,this.hi=e>>>0}var Un=Me.zero=new Me(0,0);Un.toNumber=function(){return 0};Un.zzEncode=Un.zzDecode=function(){return this};Un.length=function(){return 1};var m4=Me.zeroHash="\0\0\0\0\0\0\0\0";Me.fromNumber=function(e){if(e===0)return Un;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Me(n,i)};Me.from=function(e){if(typeof e=="number")return Me.fromNumber(e);if(Ls.isString(e))if(Ls.Long)e=Ls.Long.fromString(e);else return Me.fromNumber(parseInt(e,10));return e.low||e.high?new Me(e.low>>>0,e.high>>>0):Un};Me.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Me.prototype.toLong=function(e){return Ls.Long?new Ls.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var rn=String.prototype.charCodeAt;Me.fromHash=function(e){return e===m4?Un:new Me((rn.call(e,0)|rn.call(e,1)<<8|rn.call(e,2)<<16|rn.call(e,3)<<24)>>>0,(rn.call(e,4)|rn.call(e,5)<<8|rn.call(e,6)<<16|rn.call(e,7)<<24)>>>0)};Me.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Me.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Me.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Me.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var nn=_(of=>{"use strict";var K=of;K.asPromise=Ud();K.base64=Hd();K.EventEmitter=$d();K.float=Jd();K.inquire=ey();K.utf8=ry();K.pool=iy();K.LongBits=oy();K.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);K.global=K.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||of;K.emptyArray=Object.freeze?Object.freeze([]):[];K.emptyObject=Object.freeze?Object.freeze({}):{};K.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};K.isString=function(e){return typeof e=="string"||e instanceof String};K.isObject=function(e){return e&&typeof e=="object"};K.isset=K.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};K.Buffer=function(){try{var t=K.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();K._Buffer_from=null;K._Buffer_allocUnsafe=null;K.newBuffer=function(e){return typeof e=="number"?K.Buffer?K._Buffer_allocUnsafe(e):new K.Array(e):K.Buffer?K._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};K.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;K.Long=K.global.dcodeIO&&K.global.dcodeIO.Long||K.global.Long||K.inquire("long");K.key2Re=/^true|false|0|1$/;K.key32Re=/^-?(?:0|[1-9][0-9]*)$/;K.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;K.longToHash=function(e){return e?K.LongBits.from(e).toHash():K.LongBits.zeroHash};K.longFromHash=function(e,r){var n=K.LongBits.fromHash(e);return K.Long?K.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function ay(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}K.merge=ay;K.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function uy(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&ay(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}K.newError=uy;K.ProtocolError=uy("ProtocolError");K.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};K.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};K.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};K._configure=function(){var t=K.Buffer;if(!t){K._Buffer_from=K._Buffer_allocUnsafe=null;return}K._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},K._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var pf=_((AI,hy)=>{"use strict";hy.exports=te;var Bt=nn(),af,da=Bt.LongBits,cy=Bt.base64,fy=Bt.utf8;function Ms(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function uf(){}function b4(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function te(){this.len=0,this.head=new Ms(uf,0,0),this.tail=this.head,this.states=null}var ly=function(){return Bt.Buffer?function(){return(te.create=function(){return new af})()}:function(){return new te}};te.create=ly();te.alloc=function(e){return new Bt.Array(e)};Bt.Array!==Array&&(te.alloc=Bt.pool(te.alloc,Bt.Array.prototype.subarray));te.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Ms(e,r,n),this.len+=r,this};function cf(t,e,r){e[r]=t&255}function w4(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function ff(t,e){this.len=t,this.next=void 0,this.val=e}ff.prototype=Object.create(Ms.prototype);ff.prototype.fn=w4;te.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ff((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};te.prototype.int32=function(e){return e<0?this._push(lf,10,da.fromNumber(e)):this.uint32(e)};te.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function lf(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}te.prototype.uint64=function(e){var r=da.from(e);return this._push(lf,r.length(),r)};te.prototype.int64=te.prototype.uint64;te.prototype.sint64=function(e){var r=da.from(e).zzEncode();return this._push(lf,r.length(),r)};te.prototype.bool=function(e){return this._push(cf,1,e?1:0)};function hf(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}te.prototype.fixed32=function(e){return this._push(hf,4,e>>>0)};te.prototype.sfixed32=te.prototype.fixed32;te.prototype.fixed64=function(e){var r=da.from(e);return this._push(hf,4,r.lo)._push(hf,4,r.hi)};te.prototype.sfixed64=te.prototype.fixed64;te.prototype.float=function(e){return this._push(Bt.float.writeFloatLE,4,e)};te.prototype.double=function(e){return this._push(Bt.float.writeDoubleLE,8,e)};var x4=Bt.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};te.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(cf,1,0);if(Bt.isString(e)){var n=te.alloc(r=cy.length(e));cy.decode(e,n,0),e=n}return this.uint32(r)._push(x4,r,e)};te.prototype.string=function(e){var r=fy.length(e);return r?this.uint32(r)._push(fy.write,r,e):this._push(cf,1,0)};te.prototype.fork=function(){return this.states=new b4(this),this.head=this.tail=new Ms(uf,0,0),this.len=0,this};te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ms(uf,0,0),this.len=0),this};te.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};te.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};te._configure=function(t){af=t,te.create=ly(),af._configure()}});var yy=_((TI,dy)=>{"use strict";dy.exports=sr;var py=pf();(sr.prototype=Object.create(py.prototype)).constructor=sr;var sn=nn();function sr(){py.call(this)}sr._configure=function(){sr.alloc=sn._Buffer_allocUnsafe,sr.writeBytesBuffer=sn.Buffer&&sn.Buffer.prototype instanceof Uint8Array&&sn.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};sr.prototype.bytes=function(e){sn.isString(e)&&(e=sn._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(sr.writeBytesBuffer,r,e),this};function _4(t,e,r){t.length<40?sn.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}sr.prototype.string=function(e){var r=sn.Buffer.byteLength(e);return this.uint32(r),r&&this._push(_4,r,e),this};sr._configure()});var gf=_((CI,wy)=>{"use strict";wy.exports=Te;var or=nn(),df,gy=or.LongBits,E4=or.utf8;function Wt(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Te(t){this.buf=t,this.pos=0,this.len=t.length}var vy=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Te(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Te(e);throw Error("illegal buffer")},my=function(){return or.Buffer?function(r){return(Te.create=function(i){return or.Buffer.isBuffer(i)?new df(i):vy(i)})(r)}:vy};Te.create=my();Te.prototype._slice=or.Array.prototype.subarray||or.Array.prototype.slice;Te.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Wt(this,10);return e}}();Te.prototype.int32=function(){return this.uint32()|0};Te.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function yf(){var t=new gy(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Wt(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Wt(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Te.prototype.bool=function(){return this.uint32()!==0};function ya(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Te.prototype.fixed32=function(){if(this.pos+4>this.len)throw Wt(this,4);return ya(this.buf,this.pos+=4)};Te.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Wt(this,4);return ya(this.buf,this.pos+=4)|0};function by(){if(this.pos+8>this.len)throw Wt(this,8);return new gy(ya(this.buf,this.pos+=4),ya(this.buf,this.pos+=4))}Te.prototype.float=function(){if(this.pos+4>this.len)throw Wt(this,4);var e=or.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Te.prototype.double=function(){if(this.pos+8>this.len)throw Wt(this,4);var e=or.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Te.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Wt(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Te.prototype.string=function(){var e=this.bytes();return E4.read(e,0,e.length)};Te.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Wt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Wt(this);while(this.buf[this.pos++]&128);return this};Te.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Te._configure=function(t){df=t,Te.create=my(),df._configure();var e=or.Long?"toLong":"toNumber";or.merge(Te.prototype,{int64:function(){return yf.call(this)[e](!1)},uint64:function(){return yf.call(this)[e](!0)},sint64:function(){return yf.call(this).zzDecode()[e](!1)},fixed64:function(){return by.call(this)[e](!0)},sfixed64:function(){return by.call(this)[e](!1)}})}});var Sy=_((RI,Ey)=>{"use strict";Ey.exports=Kn;var xy=gf();(Kn.prototype=Object.create(xy.prototype)).constructor=Kn;var _y=nn();function Kn(t){xy.call(this,t)}Kn._configure=function(){_y.Buffer&&(Kn.prototype._slice=_y.Buffer.prototype.slice)};Kn.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Kn._configure()});var Ay=_((II,By)=>{"use strict";By.exports=qs;var vf=nn();(qs.prototype=Object.create(vf.EventEmitter.prototype)).constructor=qs;function qs(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");vf.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}qs.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return vf.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return o.emit("error",u,e),s(u);if(c===null){o.end(!0);return}if(!(c instanceof n))try{c=n[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};qs.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Cy=_(Ty=>{"use strict";var S4=Ty;S4.Service=Ay()});var Iy=_((PI,Ry)=>{"use strict";Ry.exports={}});var Dy=_(Py=>{"use strict";var ft=Py;ft.build="minimal";ft.Writer=pf();ft.BufferWriter=yy();ft.Reader=gf();ft.BufferReader=Sy();ft.util=nn();ft.rpc=Cy();ft.roots=Iy();ft.configure=ky;function ky(){ft.util._configure(),ft.Writer._configure(ft.BufferWriter),ft.Reader._configure(ft.BufferReader)}ky()});var mf=_((NI,Ny)=>{"use strict";Ny.exports=Dy()});var va=_((OI,Ly)=>{"use strict";var jn=mf(),ga=jn.Reader,Oy=jn.Writer,Ge=jn.util,At=jn.roots["libp2p-crypto-keys"]||(jn.roots["libp2p-crypto-keys"]={});At.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();At.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ge.newBuffer([]),t.encode=function(r,n){return n||(n=Oy.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof ga||(r=ga.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new At.PublicKey;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw Ge.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Ge.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof At.PublicKey)return r;var n=new At.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ge.base64.decode(r.Data,n.Data=Ge.newBuffer(Ge.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ge.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?At.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ge.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,jn.util.toJSONOptions)},t}();At.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ge.newBuffer([]),t.encode=function(r,n){return n||(n=Oy.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof ga||(r=ga.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new At.PrivateKey;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw Ge.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Ge.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof At.PrivateKey)return r;var n=new At.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ge.base64.decode(r.Data,n.Data=Ge.newBuffer(Ge.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ge.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?At.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ge.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,jn.util.toJSONOptions)},t}();Ly.exports=At});var fe=_((LI,My)=>{My.exports={options:{usePureJavaScript:!1}}});var Uy=_((MI,Fy)=>{var bf={};Fy.exports=bf;var qy={};bf.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=B4(t,e);else{var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};bf.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=qy[e];if(!r){r=qy[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),o=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var u=0,c=a;u<o.length;++u)c+=o[u]*i,o[u]=c&255,c>>=8;for(;c>0;)o.push(c&255),c>>=8}for(var f=0;t[f]===s&&f<t.length-1;++f)o.push(0);return typeof Buffer!="undefined"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function B4(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=s.length-1;r>=0;--r)u+=e[s[r]];return u}});var Ie=_((qI,Hy)=>{var Ky=fe(),jy=Uy(),b=Hy.exports=Ky.util=Ky.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){b.nextTick=process.nextTick,typeof setImmediate=="function"?b.setImmediate=setImmediate:b.setImmediate=b.nextTick;return}if(typeof setImmediate=="function"){b.setImmediate=function(){return setImmediate.apply(void 0,arguments)},b.nextTick=function(a){return setImmediate(a)};return}if(b.setImmediate=function(a){setTimeout(a,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let a=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(f){f()})}};var o=a,t="forge.setImmediate",e=[];b.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(i,{attributes:!0});var s=b.setImmediate;b.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),s(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}b.nextTick=b.setImmediate})();b.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;b.globalScope=function(){return b.isNodejs?globalThis:typeof self=="undefined"?window:self}();b.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};b.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};b.isArrayBufferView=function(t){return t&&b.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Fs(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}b.ByteBuffer=wf;function wf(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(b.isArrayBuffer(t)||b.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof wf||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}b.ByteStringBuffer=wf;var A4=4096;b.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>A4&&(this.data.substr(0,1),this._constructedStringLength=0)};b.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};b.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};b.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};b.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};b.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};b.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(b.encodeUtf8(t))};b.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};b.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};b.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};b.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};b.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};b.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};b.ByteStringBuffer.prototype.putInt=function(t,e){Fs(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};b.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};b.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};b.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};b.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};b.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};b.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};b.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};b.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};b.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};b.ByteStringBuffer.prototype.getInt=function(t){Fs(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};b.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};b.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};b.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};b.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};b.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};b.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};b.ByteStringBuffer.prototype.copy=function(){var t=b.createBuffer(this.data);return t.read=this.read,t};b.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};b.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};b.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};b.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};b.ByteStringBuffer.prototype.toString=function(){return b.decodeUtf8(this.bytes())};function T4(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=b.isArrayBuffer(t),n=b.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}b.DataBuffer=T4;b.DataBuffer.prototype.length=function(){return this.write-this.read};b.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};b.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};b.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};b.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};b.DataBuffer.prototype.putBytes=function(t,e){if(b.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(b.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof b.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&b.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof b.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=b.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=b.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};b.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};b.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};b.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};b.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};b.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};b.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};b.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};b.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};b.DataBuffer.prototype.putInt=function(t,e){Fs(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};b.DataBuffer.prototype.putSignedInt=function(t,e){return Fs(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};b.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};b.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};b.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};b.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};b.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};b.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};b.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};b.DataBuffer.prototype.getInt=function(t){Fs(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};b.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};b.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};b.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};b.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};b.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};b.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};b.DataBuffer.prototype.copy=function(){return new b.DataBuffer(this)};b.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};b.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};b.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};b.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};b.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return b.binary.raw.encode(e);if(t==="hex")return b.binary.hex.encode(e);if(t==="base64")return b.binary.base64.encode(e);if(t==="utf8")return b.text.utf8.decode(e);if(t==="utf16")return b.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};b.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=b.encodeUtf8(t)),new b.ByteBuffer(t)};b.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};b.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};b.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};b.bytesToHex=function(t){return b.createBuffer(t).toHex()};b.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",an=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Vy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";b.encode64=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.length;)i=t.charCodeAt(a++),s=t.charCodeAt(a++),o=t.charCodeAt(a++),r+=on.charAt(i>>2),r+=on.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=on.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":on.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};b.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,o=0;o<t.length;)r=an[t.charCodeAt(o++)-43],n=an[t.charCodeAt(o++)-43],i=an[t.charCodeAt(o++)-43],s=an[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};b.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};b.decodeUtf8=function(t){return decodeURIComponent(escape(t))};b.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:jy.encode,decode:jy.decode}};b.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};b.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};b.binary.hex.encode=b.bytesToHex;b.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};b.binary.base64.encode=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.byteLength;)i=t[a++],s=t[a++],o=t[a++],r+=on.charAt(i>>2),r+=on.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=on.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":on.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};b.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,u=0,c=r;u<t.length;)i=an[t.charCodeAt(u++)-43],s=an[t.charCodeAt(u++)-43],o=an[t.charCodeAt(u++)-43],a=an[t.charCodeAt(u++)-43],n[c++]=i<<2|s>>4,o!==64&&(n[c++]=(s&15)<<4|o>>2,a!==64&&(n[c++]=(o&3)<<6|a));return e?c-r:n.subarray(0,c)};b.binary.base58.encode=function(t,e){return b.binary.baseN.encode(t,Vy,e)};b.binary.base58.decode=function(t,e){return b.binary.baseN.decode(t,Vy,e)};b.text={utf8:{},utf16:{}};b.text.utf8.encode=function(t,e,r){t=b.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};b.text.utf8.decode=function(t){return b.decodeUtf8(String.fromCharCode.apply(null,t))};b.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a),s+=2;return e?s-r:n};b.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};b.deflate=function(t,e,r){if(e=b.decode64(t.deflate(b.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};b.inflate=function(t,e,r){var n=t.inflate(b.encode64(e)).rval;return n===null?null:b.decode64(n)};var xf=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=b.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},_f=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(b.decode64(r))),r},C4=function(t,e,r,n){var i=_f(t,e);i===null&&(i={}),i[r]=n,xf(t,e,i)},R4=function(t,e,r){var n=_f(t,e);return n!==null&&(n=r in n?n[r]:null),n},I4=function(t,e,r){var n=_f(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),xf(t,e,n)}},k4=function(t,e){xf(t,e,null)},ma=function(t,e,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(u){o=u}if(s)break}if(!s)throw o;return n};b.setItem=function(t,e,r,n,i){ma(C4,arguments,i)};b.getItem=function(t,e,r,n){return ma(R4,arguments,n)};b.removeItem=function(t,e,r,n){ma(I4,arguments,n)};b.clearItems=function(t,e,r){ma(k4,arguments,r)};b.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var ba=null;b.getQueryVariables=function(t){var e=function(n){for(var i={},s=n.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("="),u,c;a>0?(u=s[o].substring(0,a),c=s[o].substring(a+1)):(u=s[o],c=null),u in i||(i[u]=[]),!(u in Object.prototype)&&c!==null&&i[u].push(unescape(c))}return i},r;return typeof t=="undefined"?(ba===null&&(typeof window!="undefined"&&window.location&&window.location.search?ba=e(window.location.search.substring(1)):ba={}),r=ba):r=e(t),r};b.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&i[0]===""&&i.shift();var s=r===""?{}:b.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:s}};b.makeRequest=function(t){var e=b.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(n){return typeof n=="undefined"?e.path:e.path[n]},getQuery:function(n,i){var s;return typeof n=="undefined"?s=e.query:(s=e.query[n],s&&typeof i!="undefined"&&(s=s[i])),s},getQueryLast:function(n,i){var s,o=r.getQuery(n);return o?s=o[o.length-1]:s=i,s}};return r};b.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};b.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};b.format=function(t){for(var e=/%./g,r,n,i=0,s=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&s.push(n),o=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(t.substring(o)),s.join("")};b.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,a=n===void 0?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+a:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-c).toFixed(s).slice(2):"")};b.formatSize=function(t){return t>=1073741824?t=b.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=b.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=b.formatNumber(t/1024,0)+" KiB":t=b.formatNumber(t,0)+" bytes",t};b.bytesFromIP=function(t){return t.indexOf(".")!==-1?b.bytesFromIPv4(t):t.indexOf(":")!==-1?b.bytesFromIPv6(t):null};b.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=b.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};b.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=b.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=b.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};b.bytesToIP=function(t){return t.length===4?b.bytesToIPv4(t):t.length===16?b.bytesToIPv6(t):null};b.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};b.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=b.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=e.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};b.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in b&&!t.update)return e(null,b.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return b.cores=navigator.hardwareConcurrency,e(null,b.cores);if(typeof Worker=="undefined")return b.cores=1,e(null,b.cores);if(typeof Blob=="undefined")return b.cores=2,e(null,b.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),u=a+4;Date.now()<u;);self.postMessage({st:a,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,u){if(a===0){var c=Math.floor(o.reduce(function(f,l){return f+l},0)/o.length);return b.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,b.cores)}i(u,function(f,l){o.push(s(u,l)),n(o,a-1,u)})}function i(o,a){for(var u=[],c=[],f=0;f<o;++f){var l=new Worker(r);l.addEventListener("message",function(p){if(c.push(p.data),c.length===o){for(var v=0;v<o;++v)u[v].terminate();a(null,c)}}),u.push(l)}for(var f=0;f<o;++f)u[f].postMessage(f)}function s(o,a){for(var u=[],c=0;c<o;++c)for(var f=a[c],l=u[c]=[],p=0;p<o;++p)if(c!==p){var v=a[p];(f.st>v.st&&f.st<v.et||v.st>f.st&&v.st<f.et)&&l.push(p)}return u.reduce(function(y,m){return Math.max(y,m.length)},0)}}});var wa=_((FI,zy)=>{var Us=fe();Us.pki=Us.pki||{};var Ef=zy.exports=Us.pki.oids=Us.oids=Us.oids||{};function D(t,e){Ef[t]=e,Ef[e]=t}function se(t,e){Ef[t]=e}D("1.2.840.113549.1.1.1","rsaEncryption");D("1.2.840.113549.1.1.4","md5WithRSAEncryption");D("1.2.840.113549.1.1.5","sha1WithRSAEncryption");D("1.2.840.113549.1.1.7","RSAES-OAEP");D("1.2.840.113549.1.1.8","mgf1");D("1.2.840.113549.1.1.9","pSpecified");D("1.2.840.113549.1.1.10","RSASSA-PSS");D("1.2.840.113549.1.1.11","sha256WithRSAEncryption");D("1.2.840.113549.1.1.12","sha384WithRSAEncryption");D("1.2.840.113549.1.1.13","sha512WithRSAEncryption");D("1.3.101.112","EdDSA25519");D("1.2.840.10040.4.3","dsa-with-sha1");D("1.3.14.3.2.7","desCBC");D("1.3.14.3.2.26","sha1");D("2.16.840.1.101.3.4.2.1","sha256");D("2.16.840.1.101.3.4.2.2","sha384");D("2.16.840.1.101.3.4.2.3","sha512");D("1.2.840.113549.2.5","md5");D("1.2.840.113549.1.7.1","data");D("1.2.840.113549.1.7.2","signedData");D("1.2.840.113549.1.7.3","envelopedData");D("1.2.840.113549.1.7.4","signedAndEnvelopedData");D("1.2.840.113549.1.7.5","digestedData");D("1.2.840.113549.1.7.6","encryptedData");D("1.2.840.113549.1.9.1","emailAddress");D("1.2.840.113549.1.9.2","unstructuredName");D("1.2.840.113549.1.9.3","contentType");D("1.2.840.113549.1.9.4","messageDigest");D("1.2.840.113549.1.9.5","signingTime");D("1.2.840.113549.1.9.6","counterSignature");D("1.2.840.113549.1.9.7","challengePassword");D("1.2.840.113549.1.9.8","unstructuredAddress");D("1.2.840.113549.1.9.14","extensionRequest");D("1.2.840.113549.1.9.20","friendlyName");D("1.2.840.113549.1.9.21","localKeyId");D("1.2.840.113549.1.9.22.1","x509Certificate");D("1.2.840.113549.1.12.10.1.1","keyBag");D("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");D("1.2.840.113549.1.12.10.1.3","certBag");D("1.2.840.113549.1.12.10.1.4","crlBag");D("1.2.840.113549.1.12.10.1.5","secretBag");D("1.2.840.113549.1.12.10.1.6","safeContentsBag");D("1.2.840.113549.1.5.13","pkcs5PBES2");D("1.2.840.113549.1.5.12","pkcs5PBKDF2");D("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");D("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");D("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");D("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");D("1.2.840.113549.2.7","hmacWithSHA1");D("1.2.840.113549.2.8","hmacWithSHA224");D("1.2.840.113549.2.9","hmacWithSHA256");D("1.2.840.113549.2.10","hmacWithSHA384");D("1.2.840.113549.2.11","hmacWithSHA512");D("1.2.840.113549.3.7","des-EDE3-CBC");D("2.16.840.1.101.3.4.1.2","aes128-CBC");D("2.16.840.1.101.3.4.1.22","aes192-CBC");D("2.16.840.1.101.3.4.1.42","aes256-CBC");D("2.5.4.3","commonName");D("2.5.4.5","serialName");D("2.5.4.6","countryName");D("2.5.4.7","localityName");D("2.5.4.8","stateOrProvinceName");D("2.5.4.9","streetAddress");D("2.5.4.10","organizationName");D("2.5.4.11","organizationalUnitName");D("2.5.4.13","description");D("2.5.4.15","businessCategory");D("2.5.4.17","postalCode");D("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");D("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");D("2.16.840.1.113730.1.1","nsCertType");D("2.16.840.1.113730.1.13","nsComment");se("2.5.29.1","authorityKeyIdentifier");se("2.5.29.2","keyAttributes");se("2.5.29.3","certificatePolicies");se("2.5.29.4","keyUsageRestriction");se("2.5.29.5","policyMapping");se("2.5.29.6","subtreesConstraint");se("2.5.29.7","subjectAltName");se("2.5.29.8","issuerAltName");se("2.5.29.9","subjectDirectoryAttributes");se("2.5.29.10","basicConstraints");se("2.5.29.11","nameConstraints");se("2.5.29.12","policyConstraints");se("2.5.29.13","basicConstraints");D("2.5.29.14","subjectKeyIdentifier");D("2.5.29.15","keyUsage");se("2.5.29.16","privateKeyUsagePeriod");D("2.5.29.17","subjectAltName");D("2.5.29.18","issuerAltName");D("2.5.29.19","basicConstraints");se("2.5.29.20","cRLNumber");se("2.5.29.21","cRLReason");se("2.5.29.22","expirationDate");se("2.5.29.23","instructionCode");se("2.5.29.24","invalidityDate");se("2.5.29.25","cRLDistributionPoints");se("2.5.29.26","issuingDistributionPoint");se("2.5.29.27","deltaCRLIndicator");se("2.5.29.28","issuingDistributionPoint");se("2.5.29.29","certificateIssuer");se("2.5.29.30","nameConstraints");D("2.5.29.31","cRLDistributionPoints");D("2.5.29.32","certificatePolicies");se("2.5.29.33","policyMappings");se("2.5.29.34","policyConstraints");D("2.5.29.35","authorityKeyIdentifier");se("2.5.29.36","policyConstraints");D("2.5.29.37","extKeyUsage");se("2.5.29.46","freshestCRL");se("2.5.29.54","inhibitAnyPolicy");D("1.3.6.1.4.1.11129.2.4.2","timestampList");D("1.3.6.1.5.5.7.1.1","authorityInfoAccess");D("1.3.6.1.5.5.7.3.1","serverAuth");D("1.3.6.1.5.5.7.3.2","clientAuth");D("1.3.6.1.5.5.7.3.3","codeSigning");D("1.3.6.1.5.5.7.3.4","emailProtection");D("1.3.6.1.5.5.7.3.8","timeStamping")});var js=_((UI,Wy)=>{var me=fe();Ie();wa();var L=Wy.exports=me.asn1=me.asn1||{};L.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};L.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};L.create=function(t,e,r,n,i){if(me.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:t,type:e,constructed:r,composed:r||me.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=L.copy(a)),a};L.copy=function(t,e){var r;if(me.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(L.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:L.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};L.equals=function(t,e,r){if(me.util.isArray(t)){if(!me.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!L.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&L.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};L.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Ks(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var P4=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Ks(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};L.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=me.util.createBuffer(t)),xa(t,t.length(),0,e)};function xa(t,e,r,n){var i;Ks(t,e,2);var s=t.getByte();e--;var o=s&192,a=s&31;i=t.length();var u=P4(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var f,l,p=(s&32)==32;if(p)if(f=[],u===void 0)for(;;){if(Ks(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),f.push(xa(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),f.push(xa(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(f===void 0&&o===L.Class.UNIVERSAL&&a===L.Type.BITSTRING&&(l=t.bytes(u)),f===void 0&&n.decodeBitStrings&&o===L.Class.UNIVERSAL&&a===L.Type.BITSTRING&&u>1){var v=t.read,y=e,m=0;if(a===L.Type.BITSTRING&&(Ks(t,e,1),m=t.getByte(),e--),m===0)try{i=t.length();var E={verbose:n.verbose,strict:!0,decodeBitStrings:!0},x=xa(t,e,r+1,E),B=i-t.length();e-=B,a==L.Type.BITSTRING&&B++;var I=x.tagClass;B===u&&(I===L.Class.UNIVERSAL||I===L.Class.CONTEXT_SPECIFIC)&&(f=[x])}catch(M){}f===void 0&&(t.read=v,e=y)}if(f===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(a===L.Type.BMPSTRING)for(f="";u>0;u-=2)Ks(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(u)}var j=l===void 0?null:{bitStringContents:l};return L.create(o,a,p,f,j)}L.toDer=function(t){var e=me.util.createBuffer(),r=t.tagClass|t.type,n=me.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=L.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(L.toDer(t.value[s]))}else if(t.type===L.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===L.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(n),e};L.oidToDer=function(t){var e=t.split("."),r=me.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,o,a=2;a<e.length;++a){n=!0,i=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};L.derToOid=function(t){var e;typeof t=="string"&&(t=me.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};L.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var f=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),p=f*60+l;p*=6e4,u==="+"?e.setTime(+e-p):e.setTime(+e+p)}return e};L.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var l=t.length-5,p=t.charAt(l);if(p==="+"||p==="-"){var v=parseInt(t.substr(l+1,2),10),y=parseInt(t.substr(l+4,2),10);c=v*60+y,c*=6e4,p==="+"&&(c*=-1),f=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(s,o,a,u)),e};L.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};L.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};L.integerToDer=function(t){var e=me.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};L.derToInteger=function(t){typeof t=="string"&&(t=me.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};L.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(i=!0,e.value&&me.util.isArray(e.value))for(var s=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[s]&&(i=L.validate(t.value[s],e.value[o],r,n),i?++s:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var $y=/[^\\u0000-\\u00ff]/;L.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case L.Class.UNIVERSAL:n+="Universal:";break;case L.Class.APPLICATION:n+="Application:";break;case L.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case L.Class.PRIVATE:n+="Private:";break}if(t.tagClass===L.Class.UNIVERSAL)switch(n+=t.type,t.type){case L.Type.NONE:n+=" (None)";break;case L.Type.BOOLEAN:n+=" (Boolean)";break;case L.Type.INTEGER:n+=" (Integer)";break;case L.Type.BITSTRING:n+=" (Bit string)";break;case L.Type.OCTETSTRING:n+=" (Octet string)";break;case L.Type.NULL:n+=" (Null)";break;case L.Type.OID:n+=" (Object Identifier)";break;case L.Type.ODESC:n+=" (Object Descriptor)";break;case L.Type.EXTERNAL:n+=" (External or Instance of)";break;case L.Type.REAL:n+=" (Real)";break;case L.Type.ENUMERATED:n+=" (Enumerated)";break;case L.Type.EMBEDDED:n+=" (Embedded PDV)";break;case L.Type.UTF8:n+=" (UTF8)";break;case L.Type.ROID:n+=" (Relative Object Identifier)";break;case L.Type.SEQUENCE:n+=" (Sequence)";break;case L.Type.SET:n+=" (Set)";break;case L.Type.PRINTABLESTRING:n+=" (Printable String)";break;case L.Type.IA5String:n+=" (IA5String (ASCII))";break;case L.Type.UTCTIME:n+=" (UTC time)";break;case L.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case L.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,a="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(o+=1,a+=L.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",t.type===L.Type.OID){var u=L.derToOid(t.value);n+=u,me.pki&&me.pki.oids&&u in me.pki.oids&&(n+=" ("+me.pki.oids[u]+") ")}if(t.type===L.Type.INTEGER)try{n+=L.derToInteger(t.value)}catch(f){n+="0x"+me.util.bytesToHex(t.value)}else if(t.type===L.Type.BITSTRING){if(t.value.length>1?n+="0x"+me.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else t.type===L.Type.OCTETSTRING?($y.test(t.value)||(n+="("+t.value+") "),n+="0x"+me.util.bytesToHex(t.value)):t.type===L.Type.UTF8?n+=me.util.decodeUtf8(t.value):t.type===L.Type.PRINTABLESTRING||t.type===L.Type.IA5String?n+=t.value:$y.test(t.value)?n+="0x"+me.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Bf=_((KI,Gy)=>{var qe=fe();Ie();Gy.exports=qe.cipher=qe.cipher||{};qe.cipher.algorithms=qe.cipher.algorithms||{};qe.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=qe.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new qe.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};qe.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=qe.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new qe.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};qe.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),qe.cipher.algorithms[t]=e};qe.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in qe.cipher.algorithms?qe.cipher.algorithms[t]:null};var Sf=qe.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Sf.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=qe.util.createBuffer(),this.output=t.output||qe.util.createBuffer(),this.mode.start(e)};Sf.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Sf.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Tf=_((jI,Yy)=>{var Fe=fe();Ie();Fe.cipher=Fe.cipher||{};var Q=Yy.exports=Fe.cipher.modes=Fe.cipher.modes||{};Q.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Q.ecb.prototype.start=function(t){};Q.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Q.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Q.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Q.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Q.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Q.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=_a(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Q.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Q.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Q.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Q.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Q.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Fe.util.createBuffer(),this._partialBytes=0};Q.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=_a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Fe.util.createBuffer(),this._partialBytes=0};Q.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=_a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Q.ofb.prototype.decrypt=Q.ofb.prototype.encrypt;Q.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Fe.util.createBuffer(),this._partialBytes=0};Q.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=_a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Q.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Ea(this._inBlock)};Q.ctr.prototype.decrypt=Q.ctr.prototype.encrypt;Q.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Fe.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Q.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Fe.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Fe.util.createBuffer(t.additionalData):r=Fe.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Fe.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Af(n*8)))}this._inBlock=this._j0.slice(0),Ea(this._inBlock),this._partialBytes=0,r=Fe.util.createBuffer(r),this._aDataLength=Af(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Q.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ea(this._inBlock)};Q.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ea(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Q.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Fe.util.createBuffer();var n=this._aDataLength.concat(Af(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Q.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Q.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Q.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};Q.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Q.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],u=o/n|0,c=(n-1-o%n)*e;a[u]=1<<e-1<<c,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s};Q.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],u=i[o];i[s+o]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function _a(t,e){if(typeof t=="string"&&(t=Fe.util.createBuffer(t)),Fe.util.isArray(t)&&t.length>4){var r=t;t=Fe.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Fe.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}function Ea(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Af(t){return[t/4294967296|0,t&4294967295]}});var kf=_((VI,Jy)=>{var pe=fe();Bf();Tf();Ie();Jy.exports=pe.aes=pe.aes||{};pe.aes.startEncrypting=function(t,e,r,n){var i=Sa({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};pe.aes.createEncryptionCipher=function(t,e){return Sa({key:t,output:null,decrypt:!1,mode:e})};pe.aes.startDecrypting=function(t,e,r,n){var i=Sa({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};pe.aes.createDecryptionCipher=function(t,e){return Sa({key:t,output:null,decrypt:!0,mode:e})};pe.aes.Algorithm=function(t,e){Cf||Qy();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return If(r._w,n,i,!1)},decrypt:function(n,i){return If(r._w,n,i,!0)}}}),r._init=!1};pe.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=pe.util.createBuffer(e);else if(pe.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=pe.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!pe.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!pe.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Xy(e,t.decrypt&&!o),this._init=!0}};pe.aes._expandKey=function(t,e){return Cf||Qy(),Xy(t,e)};pe.aes._updateBlock=If;Mi("AES-ECB",pe.cipher.modes.ecb);Mi("AES-CBC",pe.cipher.modes.cbc);Mi("AES-CFB",pe.cipher.modes.cfb);Mi("AES-OFB",pe.cipher.modes.ofb);Mi("AES-CTR",pe.cipher.modes.ctr);Mi("AES-GCM",pe.cipher.modes.gcm);function Mi(t,e){var r=function(){return new pe.aes.Algorithm(t,e)};pe.cipher.registerAlgorithm(t,r)}var Cf=!1,qi=4,rt,Rf,Zy,Vn,Gt;function Qy(){Cf=!0,Zy=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;rt=new Array(256),Rf=new Array(256),Vn=new Array(4),Gt=new Array(4);for(var e=0;e<4;++e)Vn[e]=new Array(256),Gt[e]=new Array(256);for(var r=0,n=0,i,s,o,a,u,c,f,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,rt[r]=a,Rf[a]=r,u=t[a],i=t[r],s=t[i],o=t[s],c=u<<24^a<<16^a<<8^(a^u),f=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var l=0;l<4;++l)Vn[l][r]=c,Gt[l][a]=f,c=c<<24|c>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}function Xy(t,e){for(var r=t.slice(0),n,i=1,s=r.length,o=s+6+1,a=qi*o,u=s;u<a;++u)n=r[u-1],u%s==0?(n=rt[n>>>16&255]<<24^rt[n>>>8&255]<<16^rt[n&255]<<8^rt[n>>>24]^Zy[i]<<24,i++):s>6&&u%s==4&&(n=rt[n>>>24]<<24^rt[n>>>16&255]<<16^rt[n>>>8&255]<<8^rt[n&255]),r[u]=r[u-s]^n;if(e){var c,f=Gt[0],l=Gt[1],p=Gt[2],v=Gt[3],y=r.slice(0);a=r.length;for(var u=0,m=a-qi;u<a;u+=qi,m-=qi)if(u===0||u===a-qi)y[u]=r[m],y[u+1]=r[m+3],y[u+2]=r[m+2],y[u+3]=r[m+1];else for(var E=0;E<qi;++E)c=r[m+E],y[u+(3&-E)]=f[rt[c>>>24]]^l[rt[c>>>16&255]]^p[rt[c>>>8&255]]^v[rt[c&255]];r=y}return r}function If(t,e,r,n){var i=t.length/4-1,s,o,a,u,c;n?(s=Gt[0],o=Gt[1],a=Gt[2],u=Gt[3],c=Rf):(s=Vn[0],o=Vn[1],a=Vn[2],u=Vn[3],c=rt);var f,l,p,v,y,m,E;f=e[0]^t[0],l=e[n?3:1]^t[1],p=e[2]^t[2],v=e[n?1:3]^t[3];for(var x=3,B=1;B<i;++B)y=s[f>>>24]^o[l>>>16&255]^a[p>>>8&255]^u[v&255]^t[++x],m=s[l>>>24]^o[p>>>16&255]^a[v>>>8&255]^u[f&255]^t[++x],E=s[p>>>24]^o[v>>>16&255]^a[f>>>8&255]^u[l&255]^t[++x],v=s[v>>>24]^o[f>>>16&255]^a[l>>>8&255]^u[p&255]^t[++x],f=y,l=m,p=E;r[0]=c[f>>>24]<<24^c[l>>>16&255]<<16^c[p>>>8&255]<<8^c[v&255]^t[++x],r[n?3:1]=c[l>>>24]<<24^c[p>>>16&255]<<16^c[v>>>8&255]<<8^c[f&255]^t[++x],r[2]=c[p>>>24]<<24^c[v>>>16&255]<<16^c[f>>>8&255]<<8^c[l&255]^t[++x],r[n?1:3]=c[v>>>24]<<24^c[f>>>16&255]<<16^c[l>>>8&255]<<8^c[p&255]^t[++x]}function Sa(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=pe.cipher.createDecipher(r,t.key):n=pe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof pe.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var rg=_((HI,tg)=>{var be=fe();Bf();Tf();Ie();tg.exports=be.des=be.des||{};be.des.startEncrypting=function(t,e,r,n){var i=Ba({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};be.des.createEncryptionCipher=function(t,e){return Ba({key:t,output:null,decrypt:!1,mode:e})};be.des.startDecrypting=function(t,e,r,n){var i=Ba({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};be.des.createDecryptionCipher=function(t,e){return Ba({key:t,output:null,decrypt:!0,mode:e})};be.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return eg(r._keys,n,i,!1)},decrypt:function(n,i){return eg(r._keys,n,i,!0)}}}),r._init=!1};be.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=be.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=K4(e),this._init=!0}};ar("DES-ECB",be.cipher.modes.ecb);ar("DES-CBC",be.cipher.modes.cbc);ar("DES-CFB",be.cipher.modes.cfb);ar("DES-OFB",be.cipher.modes.ofb);ar("DES-CTR",be.cipher.modes.ctr);ar("3DES-ECB",be.cipher.modes.ecb);ar("3DES-CBC",be.cipher.modes.cbc);ar("3DES-CFB",be.cipher.modes.cfb);ar("3DES-OFB",be.cipher.modes.ofb);ar("3DES-CTR",be.cipher.modes.ctr);function ar(t,e){var r=function(){return new be.des.Algorithm(t,e)};be.cipher.registerAlgorithm(t,r)}var D4=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],N4=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],O4=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],L4=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],M4=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],q4=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],F4=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],U4=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function K4(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=t.length()>8?3:1,E=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,I,j=0;j<m;j++){var M=t.getInt32(),N=t.getInt32();I=(M>>>4^N)&252645135,N^=I,M^=I<<4,I=(N>>>-16^M)&65535,M^=I,N^=I<<-16,I=(M>>>2^N)&858993459,N^=I,M^=I<<2,I=(N>>>-16^M)&65535,M^=I,N^=I<<-16,I=(M>>>1^N)&1431655765,N^=I,M^=I<<1,I=(N>>>8^M)&16711935,M^=I,N^=I<<8,I=(M>>>1^N)&1431655765,N^=I,M^=I<<1,I=M<<8|N>>>20&240,M=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=I;for(var Y=0;Y<x.length;++Y){x[Y]?(M=M<<2|M>>>26,N=N<<2|N>>>26):(M=M<<1|M>>>27,N=N<<1|N>>>27),M&=-15,N&=-15;var X=e[M>>>28]|r[M>>>24&15]|n[M>>>20&15]|i[M>>>16&15]|s[M>>>12&15]|o[M>>>8&15]|a[M>>>4&15],ve=u[N>>>28]|c[N>>>24&15]|f[N>>>20&15]|l[N>>>16&15]|p[N>>>12&15]|v[N>>>8&15]|y[N>>>4&15];I=(ve>>>16^X)&65535,E[B++]=X^I,E[B++]=ve^I<<16}}return E}function eg(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],u=e[1];o=(a>>>4^u)&252645135,u^=o,a^=o<<4,o=(a>>>16^u)&65535,u^=o,a^=o<<16,o=(u>>>2^a)&858993459,a^=o,u^=o<<2,o=(u>>>8^a)&16711935,a^=o,u^=o<<8,o=(a>>>1^u)&1431655765,u^=o,a^=o<<1,a=a<<1|a>>>31,u=u<<1|u>>>31;for(var c=0;c<i;c+=3){for(var f=s[c+1],l=s[c+2],p=s[c];p!=f;p+=l){var v=u^t[p],y=(u>>>4|u<<28)^t[p+1];o=a,a=u,u=o^(N4[v>>>24&63]|L4[v>>>16&63]|q4[v>>>8&63]|U4[v&63]|D4[y>>>24&63]|O4[y>>>16&63]|M4[y>>>8&63]|F4[y&63])}o=a,a=u,u=o}a=a>>>1|a<<31,u=u>>>1|u<<31,o=(a>>>1^u)&1431655765,u^=o,a^=o<<1,o=(u>>>8^a)&16711935,a^=o,u^=o<<8,o=(u>>>2^a)&858993459,a^=o,u^=o<<2,o=(a>>>16^u)&65535,u^=o,a^=o<<16,o=(a>>>4^u)&252645135,u^=o,a^=o<<4,r[0]=a,r[1]=u}function Ba(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=be.cipher.createDecipher(r,t.key):n=be.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof be.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Hn=_((zI,ng)=>{var Aa=fe();ng.exports=Aa.md=Aa.md||{};Aa.md.algorithms=Aa.md.algorithms||{}});var sg=_(($I,ig)=>{var Pr=fe();Hn();Ie();var j4=ig.exports=Pr.hmac=Pr.hmac||{};j4.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Pr.md.algorithms)e=Pr.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=t;else{if(typeof o=="string")o=Pr.util.createBuffer(o);else if(Pr.util.isArray(o)){var a=o;o=Pr.util.createBuffer();for(var u=0;u<a.length;++u)o.putByte(a[u])}var c=o.length();c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=Pr.util.createBuffer(),n=Pr.util.createBuffer(),c=o.length();for(var u=0;u<c;++u){var a=o.at(u);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var Fi=_(()=>{});var ag=_((YI,og)=>{var nt=fe();sg();Hn();Ie();var V4=nt.pkcs5=nt.pkcs5||{},Dr;nt.util.isNodejs&&!nt.options.usePureJavaScript&&(Dr=Fi());og.exports=nt.pbkdf2=V4.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),nt.util.isNodejs&&!nt.options.usePureJavaScript&&Dr.pbkdf2&&(i===null||typeof i!="object")&&(Dr.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?Dr.pbkdf2Sync.length===4?Dr.pbkdf2(t,e,r,n,function(I,j){if(I)return s(I);s(null,j.toString("binary"))}):Dr.pbkdf2(t,e,r,n,i,function(I,j){if(I)return s(I);s(null,j.toString("binary"))}):Dr.pbkdf2Sync.length===4?Dr.pbkdf2Sync(t,e,r,n).toString("binary"):Dr.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in nt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=nt.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var u=Math.ceil(n/o),c=n-(u-1)*o,f=nt.hmac.create();f.start(i,t);var l="",p,v,y;if(!s){for(var m=1;m<=u;++m){f.start(null,null),f.update(e),f.update(nt.util.int32ToBytes(m)),p=y=f.digest().getBytes();for(var E=2;E<=r;++E)f.start(null,null),f.update(y),v=f.digest().getBytes(),p=nt.util.xorBytes(p,v,o),y=v;l+=m<u?p:p.substr(0,c)}return l}var m=1,E;function x(){if(m>u)return s(null,l);f.start(null,null),f.update(e),f.update(nt.util.int32ToBytes(m)),p=y=f.digest().getBytes(),E=2,B()}function B(){if(E<=r)return f.start(null,null),f.update(y),v=f.digest().getBytes(),p=nt.util.xorBytes(p,v,o),y=v,++E,nt.util.setImmediate(B);l+=m<u?p:p.substr(0,c),++m,x()}x()}});var fg=_((ZI,cg)=>{var Ta=fe();Ie();var ug=cg.exports=Ta.pem=Ta.pem||{};ug.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Ca(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=Ca(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=Ca(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=Ca(t.headers[i]);return t.procType&&(r+=`\r
`),r+=Ta.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};ug.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var o={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:Ta.util.decode64(s[3])};if(e.push(o),!!s[2]){for(var a=s[2].split(i),u=0;s&&u<a.length;){for(var c=a[u].replace(/\s+$/,""),f=u+1;f<a.length;++f){var l=a[f];if(!/\s/.test(l[0]))break;c+=l,u=f}if(s=c.match(n),s){for(var p={name:s[1],values:[]},v=s[2].split(","),y=0;y<v.length;++y)p.values.push(H4(v[y]));if(o.procType)if(!o.contentDomain&&p.name==="Content-Domain")o.contentDomain=v[0]||"";else if(!o.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:v[0],parameters:v[1]||null}}else o.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:v[0],type:v[1]}}}++u}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Ca(t){for(var e=t.name+": ",r=[],n=function(u,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<e.length;++i,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}function H4(t){return t.replace(/^\s+/,"")}});var gg=_((QI,yg)=>{var ur=fe();Hn();Ie();var lg=yg.exports=ur.sha256=ur.sha256||{};ur.md.sha256=ur.md.algorithms.sha256=lg;lg.create=function(){hg||z4();var t=null,e=ur.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=ur.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ur.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),dg(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=ur.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Pf.substr(0,n.blockLength-o));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};dg(l,r,i);var p=ur.util.createBuffer();return p.putInt32(l.h0),p.putInt32(l.h1),p.putInt32(l.h2),p.putInt32(l.h3),p.putInt32(l.h4),p.putInt32(l.h5),p.putInt32(l.h6),p.putInt32(l.h7),p},n};var Pf=null,hg=!1,pg=null;function z4(){Pf=String.fromCharCode(128),Pf+=ur.util.fillString(String.fromCharCode(0),64),pg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],hg=!0}function dg(t,e,r){for(var n,i,s,o,a,u,c,f,l,p,v,y,m,E,x,B=r.length();B>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(f=t.h0,l=t.h1,p=t.h2,v=t.h3,y=t.h4,m=t.h5,E=t.h6,x=t.h7,c=0;c<64;++c)o=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),a=E^y&(m^E),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&l|p&(f^l),n=x+o+a+pg[c]+e[c],i=s+u,x=E,E=m,m=y,y=v+n>>>0,v=p,p=l,l=f,f=n+i>>>0;t.h0=t.h0+f|0,t.h1=t.h1+l|0,t.h2=t.h2+p|0,t.h3=t.h3+v|0,t.h4=t.h4+y|0,t.h5=t.h5+m|0,t.h6=t.h6+E|0,t.h7=t.h7+x|0,B-=64}}});var mg=_((XI,vg)=>{var cr=fe();Ie();var Ra=null;cr.util.isNodejs&&!cr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Ra=Fi());var $4=vg.exports=cr.prng=cr.prng||{};$4.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,f){if(!f)return e.generateSync(c);var l=e.plugin.cipher,p=e.plugin.increment,v=e.plugin.formatKey,y=e.plugin.formatSeed,m=cr.util.createBuffer();e.key=null,E();function E(x){if(x)return f(x);if(m.length()>=c)return f(null,m.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return cr.util.nextTick(function(){s(E)});var B=l(e.key,e.seed);e.generated+=B.length,m.putBytes(B),e.key=v(l(e.key,p(e.seed))),e.seed=y(l(e.key,e.seed)),cr.util.setImmediate(E)}},e.generateSync=function(c){var f=e.plugin.cipher,l=e.plugin.increment,p=e.plugin.formatKey,v=e.plugin.formatSeed;e.key=null;for(var y=cr.util.createBuffer();y.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&o();var m=f(e.key,e.seed);e.generated+=m.length,y.putBytes(m),e.key=p(f(e.key,l(e.seed))),e.seed=v(f(e.key,e.seed))}return y.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return a(),c();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(l,p){if(l)return c(l);e.collect(p),a(),c()})}function o(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var f=1,l=0;l<32;++l)e.reseeds%f==0&&(c.update(e.pools[l].digest().getBytes()),e.pools[l].start()),f=f<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var p=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(p),e.generated=0}function u(c){var f=null,l=cr.util.globalScope,p=l.crypto||l.msCrypto;p&&p.getRandomValues&&(f=function(M){return p.getRandomValues(M)});var v=cr.util.createBuffer();if(f)for(;v.length()<c;){var y=Math.max(1,Math.min(c-v.length(),65536)/4),m=new Uint32Array(Math.floor(y));try{f(m);for(var E=0;E<m.length;++E)v.putInt32(m[E])}catch(M){if(!(typeof QuotaExceededError!="undefined"&&M instanceof QuotaExceededError))throw M}}if(v.length()<c)for(var x,B,I,j=Math.floor(Math.random()*65536);v.length()<c;){B=16807*(j&65535),x=16807*(j>>16),B+=(x&32767)<<16,B+=x>>15,B=(B&2147483647)+(B>>31),j=B&4294967295;for(var E=0;E<3;++E)I=j>>>(E<<3),I^=Math.floor(Math.random()*256),v.putByte(String.fromCharCode(I&255))}return v.getBytes(c)}return Ra?(e.seedFile=function(c,f){Ra.randomBytes(c,function(l,p){if(l)return f(l);f(null,p.toString())})},e.seedFileSync=function(c){return Ra.randomBytes(c).toString()}):(e.seedFile=function(c,f){try{f(null,u(c))}catch(l){f(l)}},e.seedFileSync=u),e.collect=function(c){for(var f=c.length,l=0;l<f;++l)e.pools[e.pool].update(c.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,f){for(var l="",p=0;p<f;p+=8)l+=String.fromCharCode(c>>p&255);e.collect(l)},e.registerWorker=function(c){if(c===self)e.seedFile=function(l,p){function v(y){var m=y.data;m.forge&&m.forge.prng&&(self.removeEventListener("message",v),p(m.forge.prng.err,m.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var p=l.data;p.forge&&p.forge.prng&&e.seedFile(p.forge.prng.needed,function(v,y){c.postMessage({forge:{prng:{err:v,bytes:y}}})})};c.addEventListener("message",f)}},e}});var Vs=_((JI,Df)=>{var Ue=fe();kf();gg();mg();Ie();(function(){if(Ue.random&&Ue.random.getBytes){Df.exports=Ue.random;return}(function(t){var e={},r=new Array(4),n=Ue.util.createBuffer();e.formatKey=function(l){var p=Ue.util.createBuffer(l);return l=new Array(4),l[0]=p.getInt32(),l[1]=p.getInt32(),l[2]=p.getInt32(),l[3]=p.getInt32(),Ue.aes._expandKey(l,!1)},e.formatSeed=function(l){var p=Ue.util.createBuffer(l);return l=new Array(4),l[0]=p.getInt32(),l[1]=p.getInt32(),l[2]=p.getInt32(),l[3]=p.getInt32(),l},e.cipher=function(l,p){return Ue.aes._updateBlock(l,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Ue.md.sha256;function i(){var l=Ue.prng.create(e);return l.getBytes=function(p,v){return l.generate(p,v)},l.getBytesSync=function(p){return l.generate(p)},l}var s=i(),o=null,a=Ue.util.globalScope,u=a.crypto||a.msCrypto;if(u&&u.getRandomValues&&(o=function(l){return u.getRandomValues(l)}),Ue.options.usePureJavaScript||!Ue.util.isNodejs&&!o){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var f in navigator)try{typeof navigator[f]=="string"&&(c+=navigator[f])}catch(l){}s.collect(c),c=null}t&&(t().mousemove(function(l){s.collectInt(l.clientX,16),s.collectInt(l.clientY,16)}),t().keypress(function(l){s.collectInt(l.charCode,8)}))}if(!Ue.random)Ue.random=s;else for(var f in s)Ue.random[f]=s[f];Ue.random.createInstance=i,Df.exports=Ue.random})(typeof jQuery!="undefined"?jQuery:null)})()});var _g=_((e5,xg)=>{var lt=fe();Ie();var Nf=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],bg=[1,2,3,5],W4=function(t,e){return t<<e&65535|(t&65535)>>16-e},G4=function(t,e){return(t&65535)>>e|t<<16-e&65535};xg.exports=lt.rc2=lt.rc2||{};lt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=lt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(Nf[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,Nf[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,Nf[r.at(a+1)^r.at(a+s)]);return r};var wg=function(t,e,r){var n=!1,i=null,s=null,o=null,a,u,c,f,l=[];for(t=lt.rc2.expandKey(t,e),c=0;c<64;c++)l.push(t.getInt16Le());r?(a=function(y){for(c=0;c<4;c++)y[c]+=l[f]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),y[c]=W4(y[c],bg[c]),f++},u=function(y){for(c=0;c<4;c++)y[c]+=l[y[(c+3)%4]&63]}):(a=function(y){for(c=3;c>=0;c--)y[c]=G4(y[c],bg[c]),y[c]-=l[f]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),f--},u=function(y){for(c=3;c>=0;c--)y[c]-=l[y[(c+3)%4]&63]});var p=function(y){var m=[];for(c=0;c<4;c++){var E=i.getInt16Le();o!==null&&(r?E^=o.getInt16Le():o.putInt16Le(E)),m.push(E&65535)}f=r?0:63;for(var x=0;x<y.length;x++)for(var B=0;B<y[x][0];B++)y[x][1](m);for(c=0;c<4;c++)o!==null&&(r?o.putInt16Le(m[c]):m[c]^=o.getInt16Le()),s.putInt16Le(m[c])},v=null;return v={start:function(y,m){y&&typeof y=="string"&&(y=lt.util.createBuffer(y)),n=!1,i=lt.util.createBuffer(),s=m||new lt.util.createBuffer,o=y,v.output=s},update:function(y){for(n||i.putBuffer(y);i.length()>=8;)p([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(y){var m=!0;if(r)if(y)m=y(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(m&&(n=!0,v.update()),!r&&(m=i.length()===0,m))if(y)m=y(8,s,!r);else{var x=s.length(),B=s.at(x-1);B>x?m=!1:s.truncate(B)}return m}},v};lt.rc2.startEncrypting=function(t,e,r){var n=lt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};lt.rc2.createEncryptionCipher=function(t,e){return wg(t,e,!0)};lt.rc2.startDecrypting=function(t,e,r){var n=lt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};lt.rc2.createDecryptionCipher=function(t,e){return wg(t,e,!1)}});var Pa=_((t5,Ig)=>{var Of=fe();Ig.exports=Of.jsbn=Of.jsbn||{};var Nr,Y4=244837814094590,Eg=(Y4&16777215)==15715070;function R(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Of.jsbn.BigInteger=R;function re(){return new R(null)}function Z4(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function Q4(t,e,r,n,i,s){for(var o=e&32767,a=e>>15;--s>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,f=a*u+c*o;u=o*u+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(f>>>15)+a*c+(i>>>30),r.data[n++]=u&1073741823}return i}function Sg(t,e,r,n,i,s){for(var o=e&16383,a=e>>14;--s>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,f=a*u+c*o;u=o*u+((f&16383)<<14)+r.data[n]+i,i=(u>>28)+(f>>14)+a*c,r.data[n++]=u&268435455}return i}typeof navigator=="undefined"?(R.prototype.am=Sg,Nr=28):Eg&&navigator.appName=="Microsoft Internet Explorer"?(R.prototype.am=Q4,Nr=30):Eg&&navigator.appName!="Netscape"?(R.prototype.am=Z4,Nr=26):(R.prototype.am=Sg,Nr=28);R.prototype.DB=Nr;R.prototype.DM=(1<<Nr)-1;R.prototype.DV=1<<Nr;var Lf=52;R.prototype.FV=Math.pow(2,Lf);R.prototype.F1=Lf-Nr;R.prototype.F2=2*Nr-Lf;var X4="0123456789abcdefghijklmnopqrstuvwxyz",Ia=new Array,Ui,Tt;Ui="0".charCodeAt(0);for(Tt=0;Tt<=9;++Tt)Ia[Ui++]=Tt;Ui="a".charCodeAt(0);for(Tt=10;Tt<36;++Tt)Ia[Ui++]=Tt;Ui="A".charCodeAt(0);for(Tt=10;Tt<36;++Tt)Ia[Ui++]=Tt;function Bg(t){return X4.charAt(t)}function Ag(t,e){var r=Ia[t.charCodeAt(e)];return r??-1}function J4(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function e8(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function un(t){var e=re();return e.fromInt(t),e}function t8(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=r==8?t[n]&255:Ag(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&R.ZERO.subTo(this,this)}function r8(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function n8(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=Bg(n));o>=0;)a<e?(n=(this.data[o]&(1<<a)-1)<<e-a,n|=this.data[--o]>>(a+=this.DB-e)):(n=this.data[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=Bg(n));return i?s:"0"}function i8(){var t=re();return R.ZERO.subTo(this,t),t}function s8(){return this.s<0?this.negate():this}function o8(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function ka(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function a8(){return this.t<=0?0:this.DB*(this.t-1)+ka(this.data[this.t-1]^this.s&this.DM)}function u8(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function c8(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function f8(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function l8(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function h8(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function p8(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&R.ZERO.subTo(e,e)}function d8(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function y8(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=re());var s=re(),o=this.s,a=t.s,u=this.DB-ka(n.data[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,f=s.data[c-1];if(f!=0){var l=f*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),p=this.FV/l,v=(1<<this.F1)/l,y=1<<this.F2,m=r.t,E=m-c,x=e??re();for(s.dlShiftTo(E,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),R.ONE.dlShiftTo(c,x),x.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--E>=0;){var B=r.data[--m]==f?this.DM:Math.floor(r.data[m]*p+(r.data[m-1]+y)*v);if((r.data[m]+=s.am(0,B,r,E,0,c))<B)for(s.dlShiftTo(E,x),r.subTo(x,r);r.data[m]<--B;)r.subTo(x,r)}e!=null&&(r.drShiftTo(c,e),o!=a&&R.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&R.ZERO.subTo(r,r)}}}function g8(t){var e=re();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(R.ZERO)>0&&t.subTo(e,e),e}function zn(t){this.m=t}function v8(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function m8(t){return t}function b8(t){t.divRemTo(this.m,null,t)}function w8(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function x8(t,e){t.squareTo(e),this.reduce(e)}zn.prototype.convert=v8;zn.prototype.revert=m8;zn.prototype.reduce=b8;zn.prototype.mulTo=w8;zn.prototype.sqrTo=x8;function _8(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function $n(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function E8(t){var e=re();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(R.ZERO)>0&&this.m.subTo(e,e),e}function S8(t){var e=re();return t.copyTo(e),this.reduce(e),e}function B8(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function A8(t,e){t.squareTo(e),this.reduce(e)}function T8(t,e,r){t.multiplyTo(e,r),this.reduce(r)}$n.prototype.convert=E8;$n.prototype.revert=S8;$n.prototype.reduce=B8;$n.prototype.mulTo=T8;$n.prototype.sqrTo=A8;function C8(){return(this.t>0?this.data[0]&1:this.s)==0}function R8(t,e){if(t>4294967295||t<1)return R.ONE;var r=re(),n=re(),i=e.convert(this),s=ka(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function I8(t,e){var r;return t<256||e.isEven()?r=new zn(e):r=new $n(e),this.exp(t,r)}R.prototype.copyTo=J4;R.prototype.fromInt=e8;R.prototype.fromString=t8;R.prototype.clamp=r8;R.prototype.dlShiftTo=u8;R.prototype.drShiftTo=c8;R.prototype.lShiftTo=f8;R.prototype.rShiftTo=l8;R.prototype.subTo=h8;R.prototype.multiplyTo=p8;R.prototype.squareTo=d8;R.prototype.divRemTo=y8;R.prototype.invDigit=_8;R.prototype.isEven=C8;R.prototype.exp=R8;R.prototype.toString=n8;R.prototype.negate=i8;R.prototype.abs=s8;R.prototype.compareTo=o8;R.prototype.bitLength=a8;R.prototype.mod=g8;R.prototype.modPowInt=I8;R.ZERO=un(0);R.ONE=un(1);function k8(){var t=re();return this.copyTo(t),t}function P8(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function D8(){return this.t==0?this.s:this.data[0]<<24>>24}function N8(){return this.t==0?this.s:this.data[0]<<16>>16}function O8(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function L8(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function M8(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=un(r),i=re(),s=re(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function q8(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var u=Ag(t,a);if(u<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&R.ZERO.subTo(this,this)}function F8(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(R.ONE.shiftLeft(t-1),Mf,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(R.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function U8(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function K8(t){return this.compareTo(t)==0}function j8(t){return this.compareTo(t)<0?this:t}function V8(t){return this.compareTo(t)>0?this:t}function H8(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function z8(t,e){return t&e}function $8(t){var e=re();return this.bitwiseTo(t,z8,e),e}function Mf(t,e){return t|e}function W8(t){var e=re();return this.bitwiseTo(t,Mf,e),e}function Tg(t,e){return t^e}function G8(t){var e=re();return this.bitwiseTo(t,Tg,e),e}function Cg(t,e){return t&~e}function Y8(t){var e=re();return this.bitwiseTo(t,Cg,e),e}function Z8(){for(var t=re(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Q8(t){var e=re();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function X8(t){var e=re();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function J8(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function eB(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+J8(this.data[t]);return this.s<0?this.t*this.DB:-1}function tB(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function rB(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=tB(this.data[r]^e);return t}function nB(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function iB(t,e){var r=R.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function sB(t){return this.changeBit(t,Mf)}function oB(t){return this.changeBit(t,Cg)}function aB(t){return this.changeBit(t,Tg)}function uB(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function cB(t){var e=re();return this.addTo(t,e),e}function fB(t){var e=re();return this.subTo(t,e),e}function lB(t){var e=re();return this.multiplyTo(t,e),e}function hB(t){var e=re();return this.divRemTo(t,e,null),e}function pB(t){var e=re();return this.divRemTo(t,null,e),e}function dB(t){var e=re(),r=re();return this.divRemTo(t,e,r),new Array(e,r)}function yB(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function gB(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Hs(){}function Rg(t){return t}function vB(t,e,r){t.multiplyTo(e,r)}function mB(t,e){t.squareTo(e)}Hs.prototype.convert=Rg;Hs.prototype.revert=Rg;Hs.prototype.mulTo=vB;Hs.prototype.sqrTo=mB;function bB(t){return this.exp(t,new Hs)}function wB(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function xB(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Ki(t){this.r2=re(),this.q3=re(),R.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function _B(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=re();return t.copyTo(e),this.reduce(e),e}function EB(t){return t}function SB(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function BB(t,e){t.squareTo(e),this.reduce(e)}function AB(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Ki.prototype.convert=_B;Ki.prototype.revert=EB;Ki.prototype.reduce=SB;Ki.prototype.mulTo=AB;Ki.prototype.sqrTo=BB;function TB(t,e){var r=t.bitLength(),n,i=un(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new zn(e):e.isEven()?s=new Ki(e):s=new $n(e);var o=new Array,a=3,u=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var f=re();for(s.sqrTo(o[1],f);a<=c;)o[a]=re(),s.mulTo(f,o[a-2],o[a]),a+=2}var l=t.t-1,p,v=!0,y=re(),m;for(r=ka(t.data[l])-1;l>=0;){for(r>=u?p=t.data[l]>>r-u&c:(p=(t.data[l]&(1<<r+1)-1)<<u-r,l>0&&(p|=t.data[l-1]>>this.DB+r-u)),a=n;(p&1)==0;)p>>=1,--a;if((r-=a)<0&&(r+=this.DB,--l),v)o[p].copyTo(i),v=!1;else{for(;a>1;)s.sqrTo(i,y),s.sqrTo(y,i),a-=2;a>0?s.sqrTo(i,y):(m=i,i=y,y=m),s.mulTo(y,o[p],i)}for(;l>=0&&(t.data[l]&1<<r)==0;)s.sqrTo(i,y),m=i,i=y,y=m,--r<0&&(r=this.DB-1,--l)}return s.revert(i)}function CB(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function RB(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function IB(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return R.ZERO;for(var r=t.clone(),n=this.clone(),i=un(1),s=un(0),o=un(0),a=un(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(R.ONE)!=0)return R.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var Yt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kB=(1<<26)/Yt[Yt.length-1];function PB(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Yt[Yt.length-1]){for(e=0;e<Yt.length;++e)if(r.data[0]==Yt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Yt.length;){for(var n=Yt[e],i=e+1;i<Yt.length&&n<kB;)n*=Yt[i++];for(n=r.modInt(n);e<i;)if(n%Yt[e++]==0)return!1}return r.millerRabin(t)}function DB(t){var e=this.subtract(R.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=NB(),s,o=0;o<t;++o){do s=new R(this.bitLength(),i);while(s.compareTo(R.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(n,this);if(a.compareTo(R.ONE)!=0&&a.compareTo(e)!=0){for(var u=1;u++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(R.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function NB(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}R.prototype.chunkSize=O8;R.prototype.toRadix=M8;R.prototype.fromRadix=q8;R.prototype.fromNumber=F8;R.prototype.bitwiseTo=H8;R.prototype.changeBit=iB;R.prototype.addTo=uB;R.prototype.dMultiply=yB;R.prototype.dAddOffset=gB;R.prototype.multiplyLowerTo=wB;R.prototype.multiplyUpperTo=xB;R.prototype.modInt=RB;R.prototype.millerRabin=DB;R.prototype.clone=k8;R.prototype.intValue=P8;R.prototype.byteValue=D8;R.prototype.shortValue=N8;R.prototype.signum=L8;R.prototype.toByteArray=U8;R.prototype.equals=K8;R.prototype.min=j8;R.prototype.max=V8;R.prototype.and=$8;R.prototype.or=W8;R.prototype.xor=G8;R.prototype.andNot=Y8;R.prototype.not=Z8;R.prototype.shiftLeft=Q8;R.prototype.shiftRight=X8;R.prototype.getLowestSetBit=eB;R.prototype.bitCount=rB;R.prototype.testBit=nB;R.prototype.setBit=sB;R.prototype.clearBit=oB;R.prototype.flipBit=aB;R.prototype.add=cB;R.prototype.subtract=fB;R.prototype.multiply=lB;R.prototype.divide=hB;R.prototype.remainder=pB;R.prototype.divideAndRemainder=dB;R.prototype.modPow=TB;R.prototype.modInverse=IB;R.prototype.pow=bB;R.prototype.gcd=CB;R.prototype.isProbablePrime=PB});var Og=_((r5,Ng)=>{var fr=fe();Hn();Ie();var kg=Ng.exports=fr.sha1=fr.sha1||{};fr.md.sha1=fr.md.algorithms.sha1=kg;kg.create=function(){Pg||OB();var t=null,e=fr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=fr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=fr.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),Dg(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=fr.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(qf.substr(0,n.blockLength-o));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Dg(l,r,i);var p=fr.util.createBuffer();return p.putInt32(l.h0),p.putInt32(l.h1),p.putInt32(l.h2),p.putInt32(l.h3),p.putInt32(l.h4),p},n};var qf=null,Pg=!1;function OB(){qf=String.fromCharCode(128),qf+=fr.util.fillString(String.fromCharCode(0),64),Pg=!0}function Dg(t,e,r){for(var n,i,s,o,a,u,c,f,l=r.length();l>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,u=t.h4,f=0;f<16;++f)n=r.getInt32(),e[f]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s&o|a&(s^o),n=(i<<5|i>>>27)+c+u+2400959708+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=s^o^a,n=(i<<5|i>>>27)+c+u+3395469782+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,l-=64}}});var qg=_((n5,Mg)=>{var lr=fe();Ie();Vs();Og();var Lg=Mg.exports=lr.pkcs1=lr.pkcs1||{};Lg.encode_rsa_oaep=function(t,e,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=lr.md.sha1.create(),o||(o=s);var a=Math.ceil(t.n.bitLength()/8),u=a-2*s.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}n||(n=""),s.update(n,"raw");for(var f=s.digest(),l="",p=u-e.length,v=0;v<p;v++)l+="\0";var y=f.getBytes()+l+""+e;if(!i)i=lr.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=s.digestLength,c}var m=Da(i,a-s.digestLength-1,o),E=lr.util.xorBytes(y,m,y.length),x=Da(E,s.digestLength,o),B=lr.util.xorBytes(i,x,i.length);return"\0"+B+E};Lg.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=e.length,E.expectedLength=o,E}if(i===void 0?i=lr.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),u=e.charAt(0),c=e.substring(1,i.digestLength+1),f=e.substring(1+i.digestLength),l=Da(f,i.digestLength,s),p=lr.util.xorBytes(c,l,c.length),v=Da(p,o-i.digestLength-1,s),y=lr.util.xorBytes(f,v,f.length),m=y.substring(0,i.digestLength),E=u!=="\0",x=0;x<i.digestLength;++x)E|=a.charAt(x)!==m.charAt(x);for(var B=1,I=i.digestLength,j=i.digestLength;j<y.length;j++){var M=y.charCodeAt(j),N=M&1^1,Y=B?65534:0;E|=M&Y,B=B&N,I+=B}if(E||y.charCodeAt(I)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(I+1)};function Da(t,e,r){r||(r=lr.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}});var Fg=_((i5,Ff)=>{var cn=fe();Ie();Pa();Vs();(function(){if(cn.prime){Ff.exports=cn.prime;return}var t=Ff.exports=cn.prime=cn.prime||{},e=cn.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,p){return l|p};t.generateProbablePrime=function(l,p,v){typeof p=="function"&&(v=p,p={}),p=p||{};var y=p.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var m=p.prng||cn.random,E={nextBytes:function(x){for(var B=m.getBytesSync(x.length),I=0;I<x.length;++I)x[I]=B.charCodeAt(I)}};if(y.name==="PRIMEINC")return s(l,E,y.options,v);throw new Error("Invalid prime generation algorithm: "+y.name)};function s(l,p,v,y){return"workers"in v?u(l,p,v,y):o(l,p,v,y)}function o(l,p,v,y){var m=c(l,p),E=0,x=f(m.bitLength());"millerRabinTests"in v&&(x=v.millerRabinTests);var B=10;"maxBlockTime"in v&&(B=v.maxBlockTime),a(m,l,p,E,x,B,y)}function a(l,p,v,y,m,E,x){var B=+new Date;do{if(l.bitLength()>p&&(l=c(p,v)),l.isProbablePrime(m))return x(null,l);l.dAddOffset(r[y++%8],0)}while(E<0||+new Date-B<E);cn.util.setImmediate(function(){a(l,p,v,y,m,E,x)})}function u(l,p,v,y){if(typeof Worker=="undefined")return o(l,p,v,y);var m=c(l,p),E=v.workers,x=v.workLoad||100,B=x*30/8,I=v.workerScript||"forge/prime.worker.js";if(E===-1)return cn.util.estimateCores(function(M,N){M&&(N=2),E=N-1,j()});j();function j(){E=Math.max(1,E);for(var M=[],N=0;N<E;++N)M[N]=new Worker(I);for(var Y=E,N=0;N<E;++N)M[N].addEventListener("message",ve);var X=!1;function ve(pt){if(!X){--Y;var Je=pt.data;if(Je.found){for(var je=0;je<M.length;++je)M[je].terminate();return X=!0,y(null,new e(Je.prime,16))}m.bitLength()>l&&(m=c(l,p));var jr=m.toString(16);pt.target.postMessage({hex:jr,workLoad:x}),m.dAddOffset(B,0)}}}}function c(l,p){var v=new e(l,p),y=l-1;return v.testBit(y)||v.bitwiseTo(e.ONE.shiftLeft(y),i,v),v.dAddOffset(31-v.mod(n).byteValue(),0),v}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var Oa=_((s5,$g)=>{var z=fe();js();Pa();wa();qg();Fg();Vs();Ie();typeof J=="undefined"&&(J=z.jsbn.BigInteger);var J,Uf=z.util.isNodejs?Fi():null,S=z.asn1,Ct=z.util;z.pki=z.pki||{};$g.exports=z.pki.rsa=z.rsa=z.rsa||{};var $=z.pki,LB=[6,4,2,4,2,4,6,2],MB={name:"PrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},qB={name:"RSAPrivateKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},FB={name:"RSAPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},UB=z.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},KB=function(t){var e;if(t.algorithm in $.oids)e=$.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=S.oidToDer(e).getBytes(),i=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]),s=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);s.value.push(S.create(S.Class.UNIVERSAL,S.Type.OID,!1,n)),s.value.push(S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,""));var o=S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(o),S.toDer(i).getBytes()},Ug=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(J.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(J.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new J(z.util.bytesToHex(z.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(J.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var o=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o};$.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=Kg(t,e,r)):(i=z.util.createBuffer(),i.putBytes(t));for(var o=new J(i.toHex(),16),a=Ug(o,e,n),u=a.toString(16),c=z.util.createBuffer(),f=s-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(z.util.hexToBytes(u)),c.getBytes()};$.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var o=new J(z.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Ug(o,e,r),u=a.toString(16),c=z.util.createBuffer(),f=i-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(z.util.hexToBytes(u)),n!==!1?Na(c.getBytes(),e,r):c.getBytes()};$.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||z.random,i={nextBytes:function(a){for(var u=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=u.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new J(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};$.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new J(null);r.fromInt(30);for(var n=0,i=function(l,p){return l|p},s=+new Date,o,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new J(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(J.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(VB(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(LB[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(J.ONE),t.q1=t.q.subtract(J.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(J.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:$.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:$.rsa.setPublicKey(t.n,t.e)}}o=+new Date,a+=o-s,s=o}return t.keys!==null};$.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!z.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(jg("generateKeyPair"))return Uf.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,u,c){if(a)return n(a);n(null,{privateKey:$.privateKeyFromPem(c),publicKey:$.publicKeyFromPem(u)})});if(Vg("generateKey")&&Vg("exportKey"))return Ct.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:zg(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Ct.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var u=$.privateKeyFromAsn1(S.fromDer(z.util.createBuffer(a)));n(null,{privateKey:u,publicKey:$.setRsaPublicKey(u.n,u.e)})}});if(Hg("generateKey")&&Hg("exportKey")){var i=Ct.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:zg(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var u=a.target.result,c=Ct.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(f){var l=f.target.result,p=$.privateKeyFromAsn1(S.fromDer(z.util.createBuffer(l)));n(null,{privateKey:p,publicKey:$.setRsaPublicKey(p.n,p.e)})},c.onerror=function(f){n(f)}},i.onerror=function(a){n(a)};return}}else if(jg("generateKeyPairSync")){var s=Uf.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:$.privateKeyFromPem(s.privateKey),publicKey:$.publicKeyFromPem(s.publicKey)}}}var o=$.rsa.createKeyPairGenerationState(t,e,r);if(!n)return $.rsa.stepKeyPairGenerationState(o,0),o.keys;jB(o,r,n)};$.setRsaPublicKey=$.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,u,c){return Kg(a,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,u){return z.pkcs1.encode_rsa_oaep(u,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return $.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(a,u){u=Na(u,r,!0);var c=S.fromDer(u);return a===c.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(a,u){return u=Na(u,r,!0),a===u}});var o=$.rsa.decrypt(i,r,!0,!1);return s.verify(n,o,r.n.bitLength())},r};$.setRsaPrivateKey=$.rsa.setPrivateKey=function(t,e,r,n,i,s,o,a){var u={n:t,e,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return u.decrypt=function(c,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var p=$.rsa.decrypt(c,u,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Na};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(v,y){return z.pkcs1.decode_rsa_oaep(y,v,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(p,u,!1)},u.sign=function(c,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:KB},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return c}},l=1);var p=f.encode(c,u.n.bitLength());return $.rsa.encrypt(p,u,l)},u};$.wrapRsaPrivateKey=function(t){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(0).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer($.oids.rsaEncryption).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")]),S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,S.toDer(t).getBytes())])};$.privateKeyFromAsn1=function(t){var e={},r=[];if(S.validate(t,MB,e,r)&&(t=S.fromDer(z.util.createBuffer(e.privateKey))),e={},r=[],!S.validate(t,qB,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,u,c,f,l;return i=z.util.createBuffer(e.privateKeyModulus).toHex(),s=z.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=z.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=z.util.createBuffer(e.privateKeyPrime1).toHex(),u=z.util.createBuffer(e.privateKeyPrime2).toHex(),c=z.util.createBuffer(e.privateKeyExponent1).toHex(),f=z.util.createBuffer(e.privateKeyExponent2).toHex(),l=z.util.createBuffer(e.privateKeyCoefficient).toHex(),$.setRsaPrivateKey(new J(i,16),new J(s,16),new J(o,16),new J(a,16),new J(u,16),new J(c,16),new J(f,16),new J(l,16))};$.privateKeyToAsn1=$.privateKeyToRSAPrivateKey=function(t){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(0).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.n)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.e)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.d)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.p)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.q)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.dP)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.dQ)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.qInv))])};$.publicKeyFromAsn1=function(t){var e={},r=[];if(S.validate(t,UB,e,r)){var n=S.derToOid(e.publicKeyOid);if(n!==$.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!S.validate(t,FB,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=z.util.createBuffer(e.publicKeyModulus).toHex(),o=z.util.createBuffer(e.publicKeyExponent).toHex();return $.setRsaPublicKey(new J(s,16),new J(o,16))};$.publicKeyToAsn1=$.publicKeyToSubjectPublicKeyInfo=function(t){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer($.oids.rsaEncryption).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")]),S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,[$.publicKeyToRSAPublicKey(t)])])};$.publicKeyToRSAPublicKey=function(t){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.n)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,hr(t.e))])};function Kg(t,e,r){var n=z.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var u=0;u<o;++u)n.putByte(a)}else for(;o>0;){for(var c=0,f=z.random.getBytes(o),u=0;u<o;++u)a=f.charCodeAt(u),a===0?++c:n.putByte(a);o=c}return n.putByte(0),n.putBytes(t),n}function Na(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=z.util.createBuffer(t),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var u=0;if(a===0){u=i-3-n;for(var c=0;c<u;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(u=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++u}else if(a===2)for(u=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++u}var f=s.getByte();if(f!==0||u!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function jB(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(a,u){if(a)return r(a);if(t.p=u,t.q!==null)return o(a,t.q);s(t.qBits,o)})}function s(a,u){z.prime.generateProbablePrime(a,n,u)}function o(a,u){if(a)return r(a);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)!==0){t.p=null,i();return}if(t.q.subtract(J.ONE).gcd(t.e).compareTo(J.ONE)!==0){t.q=null,s(t.qBits,o);return}if(t.p1=t.p.subtract(J.ONE),t.q1=t.q.subtract(J.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(J.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,o);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:$.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:$.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function hr(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=z.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function VB(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function jg(t){return z.util.isNodejs&&typeof Uf[t]=="function"}function Vg(t){return typeof Ct.globalScope!="undefined"&&typeof Ct.globalScope.crypto=="object"&&typeof Ct.globalScope.crypto.subtle=="object"&&typeof Ct.globalScope.crypto.subtle[t]=="function"}function Hg(t){return typeof Ct.globalScope!="undefined"&&typeof Ct.globalScope.msCrypto=="object"&&typeof Ct.globalScope.msCrypto.subtle=="object"&&typeof Ct.globalScope.msCrypto.subtle[t]=="function"}function zg(t){for(var e=z.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var Xg=_((o5,Qg)=>{var q=fe();kf();js();rg();Hn();wa();ag();fg();Vs();_g();Oa();Ie();typeof Wg=="undefined"&&(Wg=q.jsbn.BigInteger);var Wg,T=q.asn1,W=q.pki=q.pki||{};Qg.exports=W.pbe=q.pbe=q.pbe||{};var Wn=W.oids,HB={name:"EncryptedPrivateKeyInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},zB={name:"PBES2Algorithms",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},$B={name:"pkcs-12PbeParams",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=q.random.getBytesSync(r.saltSize),i=r.count,s=T.integerToDer(i),o,a,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,f,l;switch(r.algorithm){case"aes128":o=16,c=16,f=Wn["aes128-CBC"],l=q.aes.createEncryptionCipher;break;case"aes192":o=24,c=16,f=Wn["aes192-CBC"],l=q.aes.createEncryptionCipher;break;case"aes256":o=32,c=16,f=Wn["aes256-CBC"],l=q.aes.createEncryptionCipher;break;case"des":o=8,c=8,f=Wn.desCBC,l=q.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),y=Zg(v),m=q.pkcs5.pbkdf2(e,n,i,o,y),E=q.random.getBytesSync(c),x=l(m);x.start(E),x.update(T.toDer(t)),x.finish(),u=x.output.getBytes();var B=WB(n,s,o,v);a=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(Wn.pkcs5PBES2).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(Wn.pkcs5PBKDF2).getBytes()),B]),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(f).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){o=24;var I=new q.util.ByteBuffer(n),m=W.pbe.generatePkcs12Key(e,I,1,i,o),E=W.pbe.generatePkcs12Key(e,I,2,i,o),x=q.des.createEncryptionCipher(m);x.start(E),x.update(T.toDer(t)),x.finish(),u=x.output.getBytes(),a=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(Wn["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,n),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,s.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var j=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[a,T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,u)]);return j};W.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!T.validate(t,HB,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=T.derToOid(n.encryptionOid),a=W.pbe.getCipher(o,n.encryptionParams,e),u=q.util.createBuffer(n.encryptedData);return a.update(u),a.finish()&&(r=T.fromDer(a.output)),r};W.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:T.toDer(t).getBytes()};return q.pem.encode(r,{maxline:e})};W.encryptedPrivateKeyFromPem=function(t){var e=q.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return T.fromDer(e.body)};W.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(t));return n=W.encryptPrivateKeyInfo(n,e,r),W.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=q.pbe.opensslDeriveBytes(e,s.substr(0,8),o),f=a(c);f.start(s),f.update(T.toDer(W.privateKeyToAsn1(t))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:q.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return q.pem.encode(l)};W.decryptRsaPrivateKey=function(t,e){var r=null,n=q.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=q.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=q.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=q.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=q.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=q.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(l){return q.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":s=8,o=function(l){return q.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":s=16,o=function(l){return q.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=q.util.hexToBytes(n.dekInfo.parameters),u=q.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(u);if(c.start(a),c.update(q.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(T.fromDer(r),e):r=T.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var o,a;if(typeof s=="undefined"||s===null){if(!("sha1"in q.md))throw new Error('"sha1" hash algorithm unavailable.');s=q.md.sha1.create()}var u=s.digestLength,c=s.blockLength,f=new q.util.ByteBuffer,l=new q.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)l.putInt16(t.charCodeAt(a));l.putInt16(0)}var p=l.length(),v=e.length(),y=new q.util.ByteBuffer;y.fillWithByte(r,c);var m=c*Math.ceil(v/c),E=new q.util.ByteBuffer;for(a=0;a<m;a++)E.putByte(e.at(a%v));var x=c*Math.ceil(p/c),B=new q.util.ByteBuffer;for(a=0;a<x;a++)B.putByte(l.at(a%p));var I=E;I.putBuffer(B);for(var j=Math.ceil(i/u),M=1;M<=j;M++){var N=new q.util.ByteBuffer;N.putBytes(y.bytes()),N.putBytes(I.bytes());for(var Y=0;Y<n;Y++)s.start(),s.update(N.getBytes()),N=s.digest();var X=new q.util.ByteBuffer;for(a=0;a<c;a++)X.putByte(N.at(a%u));var ve=Math.ceil(v/c)+Math.ceil(p/c),pt=new q.util.ByteBuffer;for(o=0;o<ve;o++){var Je=new q.util.ByteBuffer(I.getBytes(c)),je=511;for(a=X.length()-1;a>=0;a--)je=je>>8,je+=X.at(a)+Je.at(a),Je.setAt(a,je&255);pt.putBuffer(Je)}I=pt,f.putBuffer(N)}return f.truncate(f.length()-i),f};W.pbe.getCipher=function(t,e,r){switch(t){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(t,e,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!T.validate(e,zB,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=T.derToOid(n.kdfOid),t!==W.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=T.derToOid(n.encOid),t!==W.oids["aes128-CBC"]&&t!==W.oids["aes192-CBC"]&&t!==W.oids["aes256-CBC"]&&t!==W.oids["des-EDE3-CBC"]&&t!==W.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=q.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var u,c;switch(W.oids[t]){case"aes128-CBC":u=16,c=q.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=q.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=q.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=q.des.createDecryptionCipher;break;case"desCBC":u=8,c=q.des.createDecryptionCipher;break}var f=Yg(n.prfOid),l=q.pkcs5.pbkdf2(r,o,a,u,f),p=n.encIv,v=c(l);return v.start(p),v};W.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!T.validate(e,$B,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=q.util.createBuffer(n.salt),a=q.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var u,c,f;switch(t){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=q.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(m,E){var x=q.rc2.createDecryptionCipher(m,40);return x.start(E,null),x};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var l=Yg(n.prfOid),p=W.pbe.generatePkcs12Key(r,o,1,a,u,l);l.start();var v=W.pbe.generatePkcs12Key(r,o,2,a,c,l);return f(p,v)};W.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in q.md))throw new Error('"md5" hash algorithm unavailable.');n=q.md.md5.create()}e===null&&(e="");for(var i=[Gg(n,t+e)],s=16,o=1;s<r;++o,s+=16)i.push(Gg(n,i[o-1]+t+e));return i.join("").substr(0,r)};function Gg(t,e){return t.start().update(e).digest().getBytes()}function Yg(t){var e;if(!t)e="hmacWithSHA1";else if(e=W.oids[T.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Zg(e)}function Zg(t){var e=q.md;switch(t){case"hmacWithSHA224":e=q.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function WB(t,e,r,n){var i=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,t),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,q.util.hexToBytes(r.toString(16))),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(W.oids[n]).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")])),i}});var pr=_((a5,e1)=>{"use strict";function Jg(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function GB(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Jg(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),Jg(new i,r)}}e1.exports=GB});var zs=_(t1=>{"use strict";t1.get=(t=globalThis)=>{let e=t.crypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var Kf=_((c5,n1)=>{"use strict";var{concat:YB}=(Ln(),On),{fromString:r1}=(kr(),Ir),ZB=zs();function QB({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:s=32767}={}){let o=ZB.get();r*=8;async function a(c,f){let l=o.getRandomValues(new Uint8Array(i)),p=o.getRandomValues(new Uint8Array(e)),v={name:t,iv:p},y={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},m=await o.subtle.importKey("raw",r1(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),E=await o.subtle.deriveKey(y,m,{name:t,length:r},!0,["encrypt"]),x=await o.subtle.encrypt(v,E,c);return YB([l,v.iv,new Uint8Array(x)])}async function u(c,f){let l=c.slice(0,i),p=c.slice(i,i+e),v=c.slice(i+e),y={name:t,iv:p},m={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},E=await o.subtle.importKey("raw",r1(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),x=await o.subtle.deriveKey(m,E,{name:t,length:r},!0,["decrypt"]),B=await o.subtle.decrypt(y,x,v);return new Uint8Array(B)}return{encrypt:a,decrypt:u}}n1.exports={create:QB}});var s1=_((f5,i1)=>{"use strict";var{base64:XB}=(_s(),Ei),JB=Kf();i1.exports={import:async function(t,e){let r=XB.decode(t);return await JB.create().decrypt(r,e)}}});var f1=_((l5,c1)=>{var ge=fe();Hn();Ie();var $s=c1.exports=ge.sha512=ge.sha512||{};ge.md.sha512=ge.md.algorithms.sha512=$s;var o1=ge.sha384=ge.sha512.sha384=ge.sha512.sha384||{};o1.create=function(){return $s.create("SHA-384")};ge.md.sha384=ge.md.algorithms.sha384=o1;ge.sha512.sha256=ge.sha512.sha256||{create:function(){return $s.create("SHA-512/256")}};ge.md["sha512/256"]=ge.md.algorithms["sha512/256"]=ge.sha512.sha256;ge.sha512.sha224=ge.sha512.sha224||{create:function(){return $s.create("SHA-512/224")}};ge.md["sha512/224"]=ge.md.algorithms["sha512/224"]=ge.sha512.sha224;$s.create=function(t){if(a1||eA(),typeof t=="undefined"&&(t="SHA-512"),!(t in Gn))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Gn[t],r=null,n=ge.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var u=a.messageLengthSize/4,c=0;c<u;++c)a.fullMessageLength.push(0);n=ge.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(u,c){c==="utf8"&&(u=ge.util.encodeUtf8(u));var f=u.length;a.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=f[1],f[1]=f[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(u),u1(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var u=ge.util.createBuffer();u.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,f=c&a.blockLength-1;u.putBytes(jf.substr(0,a.blockLength-f));for(var l,p,v=a.fullMessageLength[0]*8,y=0;y<a.fullMessageLength.length-1;++y)l=a.fullMessageLength[y+1]*8,p=l/4294967296>>>0,v+=p,u.putInt32(v>>>0),v=l>>>0;u.putInt32(v);for(var m=new Array(r.length),y=0;y<r.length;++y)m[y]=r[y].slice(0);u1(m,i,u);var E=ge.util.createBuffer(),x;t==="SHA-512"?x=m.length:t==="SHA-384"?x=m.length-2:x=m.length-4;for(var y=0;y<x;++y)E.putInt32(m[y][0]),(y!==x-1||t!=="SHA-512/224")&&E.putInt32(m[y][1]);return E},a};var jf=null,a1=!1,Vf=null,Gn=null;function eA(){jf=String.fromCharCode(128),jf+=ge.util.fillString(String.fromCharCode(0),128),Vf=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Gn={},Gn["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Gn["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Gn["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Gn["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a1=!0}function u1(t,e,r){for(var n,i,s,o,a,u,c,f,l,p,v,y,m,E,x,B,I,j,M,N,Y,X,ve,pt,Je,je,jr,ni,Ee,ze,V,cs,fs,Ut,ls,vo=r.length();vo>=128;){for(Ee=0;Ee<16;++Ee)e[Ee][0]=r.getInt32()>>>0,e[Ee][1]=r.getInt32()>>>0;for(;Ee<80;++Ee)cs=e[Ee-2],ze=cs[0],V=cs[1],n=((ze>>>19|V<<13)^(V>>>29|ze<<3)^ze>>>6)>>>0,i=((ze<<13|V>>>19)^(V<<3|ze>>>29)^(ze<<26|V>>>6))>>>0,Ut=e[Ee-15],ze=Ut[0],V=Ut[1],s=((ze>>>1|V<<31)^(ze>>>8|V<<24)^ze>>>7)>>>0,o=((ze<<31|V>>>1)^(ze<<24|V>>>8)^(ze<<25|V>>>7))>>>0,fs=e[Ee-7],ls=e[Ee-16],V=i+fs[1]+o+ls[1],e[Ee][0]=n+fs[0]+s+ls[0]+(V/4294967296>>>0)>>>0,e[Ee][1]=V>>>0;for(m=t[0][0],E=t[0][1],x=t[1][0],B=t[1][1],I=t[2][0],j=t[2][1],M=t[3][0],N=t[3][1],Y=t[4][0],X=t[4][1],ve=t[5][0],pt=t[5][1],Je=t[6][0],je=t[6][1],jr=t[7][0],ni=t[7][1],Ee=0;Ee<80;++Ee)c=((Y>>>14|X<<18)^(Y>>>18|X<<14)^(X>>>9|Y<<23))>>>0,f=((Y<<18|X>>>14)^(Y<<14|X>>>18)^(X<<23|Y>>>9))>>>0,l=(Je^Y&(ve^Je))>>>0,p=(je^X&(pt^je))>>>0,a=((m>>>28|E<<4)^(E>>>2|m<<30)^(E>>>7|m<<25))>>>0,u=((m<<4|E>>>28)^(E<<30|m>>>2)^(E<<25|m>>>7))>>>0,v=(m&x|I&(m^x))>>>0,y=(E&B|j&(E^B))>>>0,V=ni+f+p+Vf[Ee][1]+e[Ee][1],n=jr+c+l+Vf[Ee][0]+e[Ee][0]+(V/4294967296>>>0)>>>0,i=V>>>0,V=u+y,s=a+v+(V/4294967296>>>0)>>>0,o=V>>>0,jr=Je,ni=je,Je=ve,je=pt,ve=Y,pt=X,V=N+i,Y=M+n+(V/4294967296>>>0)>>>0,X=V>>>0,M=I,N=j,I=x,j=B,x=m,B=E,V=i+o,m=n+s+(V/4294967296>>>0)>>>0,E=V>>>0;V=t[0][1]+E,t[0][0]=t[0][0]+m+(V/4294967296>>>0)>>>0,t[0][1]=V>>>0,V=t[1][1]+B,t[1][0]=t[1][0]+x+(V/4294967296>>>0)>>>0,t[1][1]=V>>>0,V=t[2][1]+j,t[2][0]=t[2][0]+I+(V/4294967296>>>0)>>>0,t[2][1]=V>>>0,V=t[3][1]+N,t[3][0]=t[3][0]+M+(V/4294967296>>>0)>>>0,t[3][1]=V>>>0,V=t[4][1]+X,t[4][0]=t[4][0]+Y+(V/4294967296>>>0)>>>0,t[4][1]=V>>>0,V=t[5][1]+pt,t[5][0]=t[5][0]+ve+(V/4294967296>>>0)>>>0,t[5][1]=V>>>0,V=t[6][1]+je,t[6][0]=t[6][0]+Je+(V/4294967296>>>0)>>>0,t[6][1]=V>>>0,V=t[7][1]+ni,t[7][0]=t[7][0]+jr+(V/4294967296>>>0)>>>0,t[7][1]=V>>>0,vo-=128}}});var h1=_((h5,l1)=>{"use strict";var La=65536;function tA(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>La)for(;r<t;)r+La>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+La)),r+=La);else crypto.getRandomValues(e);return e}l1.exports=tA});var Hf=_((p5,p1)=>{"use strict";var rA=h1(),nA=pr();p1.exports=function(t){if(isNaN(t)||t<=0)throw nA(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return rA(t)}});var Ma=_(Ws=>{"use strict";Ie();Pa();var iA=fe(),{fromString:sA}=(kr(),Ir),{toString:d1}=(Et(),_t),{concat:y1}=(Ln(),On);Ws.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=y1([new Uint8Array(e-r.length),r])}return d1(r,"base64url")};Ws.base64urlToBigInteger=t=>{let e=Ws.base64urlToBuffer(t);return new iA.jsbn.BigInteger(d1(e,"base16"),16)};Ws.base64urlToBuffer=(t,e)=>{let r=sA(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=y1([new Uint8Array(e-r.length),r])}return r}});var m1=_(Gs=>{"use strict";js();Oa();var fn=fe(),{bigIntegerToUintBase64url:dr,base64urlToBigInteger:yr}=Ma(),{fromString:g1}=(kr(),Ir),{toString:v1}=(Et(),_t);Gs.pkcs1ToJwk=function(t){let e=fn.asn1.fromDer(v1(t,"ascii")),r=fn.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:dr(r.n),e:dr(r.e),d:dr(r.d),p:dr(r.p),q:dr(r.q),dp:dr(r.dP),dq:dr(r.dQ),qi:dr(r.qInv),alg:"RS256",kid:"2011-04-29"}};Gs.jwkToPkcs1=function(t){let e=fn.pki.privateKeyToAsn1({n:yr(t.n),e:yr(t.e),d:yr(t.d),p:yr(t.p),q:yr(t.q),dP:yr(t.dp),dQ:yr(t.dq),qInv:yr(t.qi)});return g1(fn.asn1.toDer(e).getBytes(),"ascii")};Gs.pkixToJwk=function(t){let e=fn.asn1.fromDer(v1(t,"ascii")),r=fn.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:dr(r.n),e:dr(r.e),alg:"RS256",kid:"2011-04-29"}};Gs.jwkToPkix=function(t){let e=fn.pki.publicKeyToAsn1({n:yr(t.n),e:yr(t.e)});return g1(fn.asn1.toDer(e).getBytes(),"ascii")}});var _1=_((g5,x1)=>{"use strict";Oa();var b1=fe(),{base64urlToBigInteger:oA}=Ma();function w1(t,e){return e.map(r=>oA(t[r]))}function aA(t){return b1.pki.setRsaPrivateKey(...w1(t,["n","e","d","p","q","dp","dq","qi"]))}function uA(t){return b1.pki.setRsaPublicKey(...w1(t,["n","e"]))}x1.exports={jwk2pub:uA,jwk2priv:aA}});var B1=_(Lr=>{"use strict";var Or=zs(),cA=Hf(),{toString:fA}=(Et(),_t),{fromString:lA}=(kr(),Ir);Lr.utils=m1();Lr.generateKey=async function(t){let e=await Or.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await E1(e);return{privateKey:r[0],publicKey:r[1]}};Lr.unmarshalPrivateKey=async function(t){let r=[await Or.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await hA(t)],n=await E1({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};Lr.getRandomValues=cA;Lr.hashAndSign=async function(t,e){let r=await Or.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Or.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,n.byteOffset,n.byteLength)};Lr.hashAndVerify=async function(t,e,r){let n=await Or.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Or.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)};function E1(t){return Promise.all([Or.get().subtle.exportKey("jwk",t.privateKey),Or.get().subtle.exportKey("jwk",t.publicKey)])}function hA(t){return Or.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:pA,jwk2priv:dA}=_1();function S1(t,e,r,n){let i=e?pA(t):dA(t),s=fA(Uint8Array.from(r),"ascii"),o=n(s,i);return lA(o,"ascii")}Lr.encrypt=function(t,e){return S1(t,!0,e,(r,n)=>n.encrypt(r))};Lr.decrypt=function(t,e){return S1(t,!1,e,(r,n)=>n.decrypt(r))}});var qa=_((m5,A1)=>{"use strict";var{base64:yA}=(_s(),Ei),gA=Kf();A1.exports={export:async function(t,e){let n=await gA.create().encrypt(t,e);return yA.encode(n)}}});var k1=_((b5,I1)=>{"use strict";var{sha256:T1}=(Ci(),Nn),C1=pr(),{equals:R1}=(qn(),Mn),{toString:vA}=(Et(),_t);f1();var Fa=fe(),Rt=B1(),Ua=va(),mA=qa(),Ka=class{constructor(e){this._key=e}async verify(e,r){return Rt.hashAndVerify(this._key,r,e)}marshal(){return Rt.utils.jwkToPkix(this._key)}get bytes(){return Ua.PublicKey.encode({Type:Ua.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Rt.encrypt(this._key,e)}equals(e){return R1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await T1.digest(this.bytes);return e}},Ys=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Rt.getRandomValues(16)}async sign(e){return Rt.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw C1(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Ka(this._publicKey)}decrypt(e){return Rt.decrypt(this._key,e)}marshal(){return Rt.utils.jwkToPkcs1(this._key)}get bytes(){return Ua.PrivateKey.encode({Type:Ua.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return R1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await T1.digest(this.bytes);return e}async id(){let e=await this.public.hash();return vA(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Fa.util.ByteBuffer(this.marshal()),i=Fa.asn1.fromDer(n),s=Fa.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Fa.pki.encryptRsaPrivateKey(s,e,o)}else{if(r==="libp2p-key")return mA.export(this.bytes,e);throw C1(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function bA(t){let e=Rt.utils.pkcs1ToJwk(t),r=await Rt.unmarshalPrivateKey(e);return new Ys(r.privateKey,r.publicKey)}function wA(t){let e=Rt.utils.pkixToJwk(t);return new Ka(e)}async function xA(t){let e=await Rt.unmarshalPrivateKey(t);return new Ys(e.privateKey,e.publicKey)}async function _A(t){let e=await Rt.generateKey(t);return new Ys(e.privateKey,e.publicKey)}I1.exports={RsaPublicKey:Ka,RsaPrivateKey:Ys,unmarshalRsaPublicKey:wA,unmarshalRsaPrivateKey:bA,generateKeyPair:_A,fromJwk:xA}});var F1=_((xe,q1)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.utils=xe.verify=xe.sign=xe.getPublicKey=xe.SignResult=xe.Signature=xe.Point=xe.ExtendedPoint=xe.CURVE=void 0;var _e={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};xe.CURVE=_e;var it=32,Zs=19681161376707505956807079304988542015446066515923890162744021073123829784752n,EA=25063068953384623474111414158702152701244531502492656460079210482610430750235n,SA=54469307008909316920995813868745141605393597292927456921205312896311721017578n,BA=1159843021668779879193775521855586647937357759715417654439879720876111806838n,AA=40440834346308536858101042469323190826248399146238708352240133220865137265952n,le=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof we))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(we.ZERO)?le.ZERO:new le(e.x,e.y,1n,P(e.x*e.y))}static toAffineBatch(e){let r=CA(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){let r=Wf(e.slice(0,it)),n=this.calcElligatorRistrettoMap(r),i=Wf(e.slice(it,it*2)),s=this.calcElligatorRistrettoMap(i);return n.add(s)}static calcElligatorRistrettoMap(e){let{d:r}=_e,n=P(Zs*e*e),i=P((n+1n)*BA),s=-1n,o=P((s-r*n)*P(n+r)),{isValid:a,value:u}=Yf(i,o),c=P(u*e);hn(c)||(c=P(-c)),a||(u=c),a||(s=n);let f=P(s*(n-1n)*AA-o),l=u*u,p=P((u+u)*o),v=P(f*EA),y=P(1n-l),m=P(1n+l);return new le(P(p*m),P(y*v),P(v*m),P(p*y))}static fromRistrettoBytes(e){let{a:r,d:n}=_e,i="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",s=Wf(e);if(!kA(D1(s,it),e)||hn(s))throw new Error(i);let o=P(s*s),a=P(1n+r*o),u=P(1n-r*o),c=P(a*a),f=P(u*u),l=P(r*n*c-f),{isValid:p,value:v}=O1(P(l*f)),y=P(v*u),m=P(v*y*l),E=P((s+s)*y);hn(E)&&(E=P(-E));let x=P(a*m),B=P(E*x);if(!p||hn(B)||x===0n)throw new Error(i);return new le(E,x,1n,B)}toRistrettoBytes(){let{x:e,y:r,z:n,t:i}=this,s=P((n+r)*(n-r)),o=P(e*r),{value:a}=O1(P(s*o**2n)),u=P(a*s),c=P(a*o),f=P(u*c*i),l;hn(i*f)?([e,r]=[P(r*Zs),P(e*Zs)],l=P(u*SA)):l=c,hn(e*f)&&(r=P(-r));let p=P((n-r)*l);return hn(p)&&(p=P(-p)),D1(p,it)}equals(e){let r=this,n=e,[i,s,o,a]=[r.t,n.t,r.z,n.z];return P(i*a)===P(s*o)}negate(){return new le(P(-this.x),this.y,this.z,P(-this.t))}double(){let e=this.x,r=this.y,n=this.z,{a:i}=_e,s=P(e**2n),o=P(r**2n),a=P(2n*n**2n),u=P(i*s),c=P((e+r)**2n-s-o),f=P(u+o),l=P(f-a),p=P(u-o),v=P(c*l),y=P(f*p),m=P(c*p),E=P(l*f);return new le(v,y,E,m)}add(e){let r=this.x,n=this.y,i=this.z,s=this.t,o=e.x,a=e.y,u=e.z,c=e.t,f=P((n-r)*(a+o)),l=P((n+r)*(a-o)),p=P(l-f);if(p===0n)return this.double();let v=P(i*2n*c),y=P(s*2n*u),m=P(y+v),E=P(l+f),x=P(y-v),B=P(m*p),I=P(E*x),j=P(m*x),M=P(p*E);return new le(B,I,M,j)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!N1(e))throw new TypeError("Point#multiply: expected number or bigint");let r=P(BigInt(e),_e.n);if(r===1n)return this;let n=le.ZERO,i=this;for(;r>0n;)r&1n&&(n=n.add(i)),i=i.double(),r>>=1n;return n}precomputeWindow(e){let r=256/e+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(le.BASE)&&(r=we.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&zf.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=le.normalizeZ(i),zf.set(r,i)));let s=le.ZERO,o=le.ZERO,a=256/n+1,u=2**(n-1),c=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let p=0;p<a;p++){let v=p*u,y=Number(e&c);if(e>>=l,y>u&&(y-=f,e+=1n),y===0)o=o.add(p%2?i[v].negate():i[v]);else{let m=i[v+Math.abs(y)-1];s=s.add(y<0?m.negate():m)}}return[s,o]}multiply(e,r){if(!N1(e))throw new TypeError("Point#multiply: expected number or bigint");let n=P(BigInt(e),_e.n);return le.normalizeZ(this.wNAF(n,r))[0]}toAffine(e=Gf(this.z)){let r=P(this.x*e),n=P(this.y*e);return new we(r,n)}};xe.ExtendedPoint=le;le.BASE=new le(_e.Gx,_e.Gy,1n,P(_e.Gx*_e.Gy));le.ZERO=new le(0n,1n,1n,0n);var zf=new WeakMap,we=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,zf.delete(this)}static fromHex(e){let{d:r,P:n}=_e,i=e instanceof Uint8Array?e:Qs(e);if(i.length!==32)throw new Error("Point.fromHex: expected 32 bytes");let s=i[31],o=s&~128,a=(s&128)!=0,u=Uint8Array.from(Array.from(i.slice(0,31)).concat(o)),c=ji(u);if(c>=n)throw new Error("Point.fromHex expects hex <= Fp");let f=P(c*c),l=P(f-1n),p=P(r*f+1n),{isValid:v,value:y}=Yf(l,p);if(!v)throw new Error("Point.fromHex: invalid y coordinate");let m=(y&1n)===1n;return a!==m&&(y=P(-y)),new we(y,c)}static async fromPrivateKey(e){let r=await xe.utils.sha512(M1(e));return we.BASE.multiply(L1(r))}toRawBytes(){let e=$f(this.y),r=new Uint8Array(it);for(let i=e.length-2,s=0;s<it&&i>=0;i-=2,s++)r[s]=Number.parseInt(e[i]+e[i+1],16);let n=this.x&1n?128:0;return r[it-1]|=n,r}toHex(){return P1(this.toRawBytes())}toX25519(){return P((1n+this.y)*Gf(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new we(P(-this.x),this.y)}add(e){return le.fromAffine(this).add(le.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return le.fromAffine(this).multiply(e,this).toAffine()}};xe.Point=we;we.BASE=new we(_e.Gx,_e.Gy);we.ZERO=new we(0n,1n);var ln=class{constructor(e,r){this.r=e,this.s=r}static fromHex(e){e=Qf(e);let r=we.fromHex(e.slice(0,32)),n=ji(e.slice(32));if(!PA(n))throw new Error("Signature.fromHex expects s <= CURVE.n");return new ln(r,n)}toRawBytes(){let e=Qs($f(this.s)).reverse(),r=new Uint8Array(it);r.set(e);let n=new Uint8Array(it*2);return n.set(this.r.toRawBytes()),n.set(r,32),n}toHex(){return P1(this.toRawBytes())}};xe.Signature=ln;xe.SignResult=ln;function TA(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function P1(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function Qs(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=Number.parseInt(t.slice(n,n+2),16)}return e}function $f(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function D1(t,e=it){let r=$f(t).padStart(e*2,"0");return Qs(r).reverse()}function hn(t){return(P(t)&1n)===1n}function N1(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function ji(t){let e=0n;for(let r=0;r<t.length;r++)e+=BigInt(t[r])<<8n*BigInt(r);return e}function Wf(t){return P(ji(t)&2n**255n-1n)}function P(t,e=_e.P){let r=t%e;return r>=0n?r:e+r}function Gf(t,e=_e.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=P(t,e),n=e,[i,s,o,a]=[0n,1n,1n,0n];for(;r!==0n;){let c=n/r,f=n%r,l=i-o*c,p=s-a*c;[n,r]=[r,f],[i,s]=[o,a],[o,a]=[l,p]}if(n!==1n)throw new Error("invert: does not exist");return P(i,e)}function CA(t,e=_e.P){let r=t.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)t[s]!==0n&&(n[s]=i,i=P(i*t[s],e));i=Gf(i,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let o=P(i*t[s],e);t[s]=P(i*n[s],e),i=o}return t}function gr(t,e){let{P:r}=_e,n=t;for(;e-- >0n;)n*=n,n%=r;return n}function RA(t){let{P:e}=_e,n=t*t%e*t%e,i=gr(n,2n)*n%e,s=gr(i,1n)*t%e,o=gr(s,5n)*s%e,a=gr(o,10n)*o%e,u=gr(a,20n)*a%e,c=gr(u,40n)*u%e,f=gr(c,80n)*c%e,l=gr(f,80n)*c%e,p=gr(l,10n)*o%e;return gr(p,2n)*t%e}function Yf(t,e){let r=P(e*e*e),n=P(r*r*e),i=P(t*r*RA(t*n)),s=P(e*i*i),o=i,a=P(i*Zs),u=s===t,c=s===P(-t),f=s===P(-t*Zs);return u&&(i=o),(c||f)&&(i=a),hn(i)&&(i=P(-i)),{isValid:u||c,value:i}}function O1(t){return Yf(1n,t)}async function Zf(...t){let e=TA(...t),r=await xe.utils.sha512(e),n=ji(r);return P(n,_e.n)}function IA(t){return t.slice(it)}function L1(t){let e=it-1,r=t.slice(0,it);return r[0]&=248,r[e]&=127,r[e]|=64,P(ji(r),_e.n)}function kA(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Qf(t){return t instanceof Uint8Array?t:Qs(t)}function PA(t){return 0<t&&t<_e.n}function M1(t){let e;if(typeof t=="bigint"||typeof t=="number"&&Number.isSafeInteger(t)){if(e=BigInt(t),e<0n||e>2n**256n)throw new Error("Expected 32 bytes of private key");t=e.toString(16).padStart(it*2,"0")}if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");return Qs(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");return t}else throw new TypeError("Expected valid private key")}async function DA(t){let e=await we.fromPrivateKey(t);return typeof t=="string"?e.toHex():e.toRawBytes()}xe.getPublicKey=DA;async function NA(t,e){let r=await xe.utils.sha512(M1(e)),n=L1(r),i=we.BASE.multiply(n),s=Qf(t),o=await Zf(IA(r),s),a=we.BASE.multiply(o),u=await Zf(a.toRawBytes(),i.toRawBytes(),s),c=P(o+u*n,_e.n),f=new ln(a,c);return typeof t=="string"?f.toHex():f.toRawBytes()}xe.sign=NA;async function OA(t,e,r){e=Qf(e),r instanceof we||(r=we.fromHex(r)),t instanceof ln||(t=ln.fromHex(t));let n=await Zf(t.r.toRawBytes(),r.toRawBytes(),e),i=le.fromAffine(r).multiplyUnsafe(n),s=le.BASE.multiply(t.s);return le.fromAffine(t.r).add(i).subtract(s).multiplyUnsafe(8n).equals(le.ZERO)}xe.verify=OA;we.BASE._setWindowSize(8);var pn=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof q1!="undefined"&&typeof xo=="function"&&!t?Fi():void 0,web:t}})();xe.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(t=32)=>{if(pn.web)return pn.web.getRandomValues(new Uint8Array(t));if(pn.node){let{randomBytes:e}=pn.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=1024;for(;t--;){let e=xe.utils.randomBytes(32),r=ji(e);if(r>1n&&r<_e.n)return e}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async t=>{if(pn.web){let e=await pn.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(pn.node)return Uint8Array.from(pn.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=we.BASE){let r=e.equals(we.BASE)?e:new we(e.x,e.y);return r._setWindowSize(t),r.multiply(1n),r}}});var K1=_(dn=>{"use strict";var Xs=F1(),LA=32,MA=64,ja=32;dn.publicKeyLength=LA;dn.privateKeyLength=MA;dn.generateKey=async function(){let t=Xs.utils.randomPrivateKey(),e=await Xs.getPublicKey(t);return{privateKey:U1(t,e),publicKey:e}};dn.generateKeyFromSeed=async function(t){if(t.length!==ja)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Xs.getPublicKey(e);return{privateKey:U1(e,r),publicKey:r}};dn.hashAndSign=function(t,e){let r=t.slice(0,ja);return Xs.sign(e,r)};dn.hashAndVerify=function(t,e,r){return Xs.verify(e,r,t)};function U1(t,e){let r=new Uint8Array(dn.privateKeyLength);for(let n=0;n<ja;n++)r[n]=t[n],r[ja+n]=e[n];return r}});var $1=_((x5,z1)=>{"use strict";var j1=pr(),{equals:V1}=(qn(),Mn),{sha256:H1}=(Ci(),Nn),{base58btc:qA}=(en(),Jr),{identity:FA}=(Xo(),Cs),Ye=K1(),Va=va(),UA=qa(),Ha=class{constructor(e){this._key=Hi(e,Ye.publicKeyLength)}async verify(e,r){return Ye.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Va.PublicKey.encode({Type:Va.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return V1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await H1.digest(this.bytes);return e}},Vi=class{constructor(e,r){this._key=Hi(e,Ye.privateKeyLength),this._publicKey=Hi(r,Ye.publicKeyLength)}async sign(e){return Ye.hashAndSign(this._key,e)}get public(){return new Ha(this._publicKey)}marshal(){return this._key}get bytes(){return Va.PrivateKey.encode({Type:Va.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return V1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await H1.digest(this.bytes);return e}async id(){let e=await FA.digest(this.public.bytes);return qA.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return UA.export(this.bytes,e);throw j1(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function KA(t){if(t.length>Ye.privateKeyLength){t=Hi(t,Ye.privateKeyLength+Ye.publicKeyLength);let n=t.slice(0,Ye.privateKeyLength),i=t.slice(Ye.privateKeyLength,t.length);return new Vi(n,i)}t=Hi(t,Ye.privateKeyLength);let e=t.slice(0,Ye.privateKeyLength),r=t.slice(Ye.publicKeyLength);return new Vi(e,r)}function jA(t){return t=Hi(t,Ye.publicKeyLength),new Ha(t)}async function VA(){let{privateKey:t,publicKey:e}=await Ye.generateKey();return new Vi(t,e)}async function HA(t){let{privateKey:e,publicKey:r}=await Ye.generateKeyFromSeed(t);return new Vi(e,r)}function Hi(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw j1(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}z1.exports={Ed25519PublicKey:Ha,Ed25519PrivateKey:Vi,unmarshalEd25519PrivateKey:KA,unmarshalEd25519PublicKey:jA,generateKeyPair:VA,generateKeyPairFromSeed:HA}});var av=_((ie,ov)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.utils=ie.schnorr=ie.verify=ie.signSync=ie.sign=ie.getSharedSecret=ie.recoverPublicKey=ie.getPublicKey=ie.SignResult=ie.Signature=ie.Point=ie.CURVE=void 0;var oe={a:0n,b:7n,P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,h:1n,Gx:55066263022277343669578718895168534326250603453777594175500187360389116729240n,Gy:32670510020758816978083085130507043184471273380659243275938904335757337482424n,beta:0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501een};ie.CURVE=oe;function W1(t){let{a:e,b:r}=oe;return U(t**3n+e*t+r)}var za=oe.a===0n,ne=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ae))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new ne(e.x,e.y,1n)}static toAffineBatch(e){let r=$A(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return ne.toAffineBatch(e).map(ne.fromAffine)}equals(e){let r=this,n=e,i=U(r.z*r.z),s=U(r.z*i),o=U(n.z*n.z),a=U(n.z*o);return U(r.x*o)===U(i*n.x)&&U(r.y*a)===U(s*n.y)}negate(){return new ne(this.x,U(-this.y),this.z)}double(){let e=this.x,r=this.y,n=this.z,i=U(e**2n),s=U(r**2n),o=U(s**2n),a=U(2n*(U(U((e+s)**2n))-i-o)),u=U(3n*i),c=U(u**2n),f=U(c-2n*a),l=U(u*(a-f)-8n*o),p=U(2n*r*n);return new ne(f,l,p)}add(e){if(!(e instanceof ne))throw new TypeError("JacobianPoint#add: expected JacobianPoint");let r=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z;if(s===0n||o===0n)return this;if(r===0n||n===0n)return e;let u=U(i**2n),c=U(a**2n),f=U(r*c),l=U(s*u),p=U(n*a*c),v=U(U(o*i)*u),y=U(l-f),m=U(v-p);if(y===0n)return m===0n?this.double():ne.ZERO;let E=U(y**2n),x=U(y*E),B=U(f*E),I=U(m**2n-x-2n*B),j=U(m*(B-I)-p*x),M=U(i*a*y);return new ne(I,j,M)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!Z1(e))throw new TypeError("Point#multiply: expected valid scalar");let r=U(BigInt(e),oe.n);if(!za){let f=ne.ZERO,l=this;for(;r>0n;)r&1n&&(f=f.add(l)),l=l.double(),r>>=1n;return f}let[n,i,s,o]=X1(r),a=ne.ZERO,u=ne.ZERO,c=this;for(;i>0n||o>0n;)i&1n&&(a=a.add(c)),o&1n&&(u=u.add(c)),c=c.double(),i>>=1n,o>>=1n;return n&&(a=a.negate()),s&&(u=u.negate()),u=new ne(U(u.x*oe.beta),u.y,u.z),a.add(u)}precomputeWindow(e){let r=za?128/e+1:256/e+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(ne.BASE)&&(r=ae.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Xf.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=ne.normalizeZ(i),Xf.set(r,i)));let s=ne.ZERO,o=ne.ZERO,a=za?128/n+1:256/n+1,u=2**(n-1),c=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let p=0;p<a;p++){let v=p*u,y=Number(e&c);if(e>>=l,y>u&&(y-=f,e+=1n),y===0)o=o.add(p%2?i[v].negate():i[v]);else{let m=i[v+Math.abs(y)-1];s=s.add(y<0?m.negate():m)}}return[s,o]}multiply(e,r){if(!Z1(e))throw new TypeError("Point#multiply: expected valid scalar");let n=U(BigInt(e),oe.n),i,s;if(za){let[o,a,u,c]=X1(n),f,l,p,v;[f,p]=this.wNAF(a,r),[l,v]=this.wNAF(c,r),o&&(f=f.negate()),u&&(l=l.negate()),l=new ne(U(l.x*oe.beta),l.y,l.z),[i,s]=[f.add(l),p.add(v)]}else[i,s]=this.wNAF(n,r);return ne.normalizeZ([i,s])[0]}toAffine(e=to(this.z)){let r=e**2n,n=U(this.x*r),i=U(this.y*r*e);return new ae(n,i)}};ne.BASE=new ne(oe.Gx,oe.Gy,1n);ne.ZERO=new ne(0n,1n,0n);var Xf=new WeakMap,ae=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Xf.delete(this)}static fromCompressedHex(e){let r=e.length===32,n=It(r?e:e.slice(1)),i=W1(n),s=zA(i),o=(s&1n)===1n;r?o&&(s=U(-s)):(e[0]&1)==1!==o&&(s=U(-s));let a=new ae(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){let r=It(e.slice(1,33)),n=It(e.slice(33)),i=new ae(r,n);return i.assertValidity(),i}static fromHex(e){let r=Ga(e),n=r[0];if(r.length===32||r.length===33&&(n===2||n===3))return this.fromCompressedHex(r);if(r.length===65&&n===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r.length}`)}static fromPrivateKey(e){return ae.BASE.multiply(zi(e))}static fromSignature(e,r,n){let i=e instanceof Uint8Array?It(e):qr(e),s=tv(r),{r:o,s:a}=s;if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid yParity bit");let u=2+(n&1),c=ae.fromHex(`0${u}${yn(o)}`),f=ne.fromAffine(c).multiplyUnsafe(a),l=ne.BASE.multiply(i),p=to(o,oe.n),y=f.subtract(l).multiplyUnsafe(p).toAffine();return y.assertValidity(),y}toRawBytes(e=!1){return gn(this.toHex(e))}toHex(e=!1){let r=yn(this.x);return e?`${this.y&1n?"03":"02"}${r}`:`04${r}${yn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{P:r}=oe,{x:n,y:i}=this;if(n===0n||i===0n||n>=r||i>=r)throw new Error(e);let s=U(i*i),o=W1(n);if((s-o)%r!==0n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ae(this.x,U(-this.y))}double(){return ne.fromAffine(this).double().toAffine()}add(e){return ne.fromAffine(this).add(ne.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ne.fromAffine(this).multiply(e,this).toAffine()}};ie.Point=ae;ae.BASE=new ae(oe.Gx,oe.Gy);ae.ZERO=new ae(0n,0n);function G1(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}var Mr=class{constructor(e,r){this.r=e,this.s=r}static fromCompact(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError("Signature.fromCompact: Expected string or Uint8Array");let r=e instanceof Uint8Array?$a(e):e;if(r.length!==128)throw new Error("Signature.fromCompact: Expected 64-byte hex");let n=new Mr(qr(r.slice(0,64)),qr(r.slice(64,128)));return n.assertValidity(),n}static fromDER(e){let r="Signature.fromDER";if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError(`${r}: Expected string or Uint8Array`);let n=e instanceof Uint8Array?$a(e):e,i=eo(n.slice(2,4));if(n.slice(0,2)!=="30"||i!==n.length-4||n.slice(4,6)!=="02")throw new Error(`${r}: Invalid signature ${n}`);let s=eo(n.slice(6,8)),o=8+s,a=n.slice(8,o);if(a.startsWith("00")&&eo(a.slice(2,4))<=127)throw new Error(`${r}: Invalid r with trailing length`);let u=qr(a);if(n.slice(o,o+2)!=="02")throw new Error(`${r}: Invalid r-s separator`);let f=eo(n.slice(o+2,o+4)),l=i-f-s-10;if(l>0||l===-4)throw new Error(`${r}: Invalid total length`);if(f>i-s-4)throw new Error(`${r}: Invalid s`);let p=o+4,v=n.slice(p,p+f);if(v.startsWith("00")&&eo(v.slice(2,4))<=127)throw new Error(`${r}: Invalid s with trailing length`);let y=qr(v),m=new Mr(u,y);return m.assertValidity(),m}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!ro(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ro(r))throw new Error("Invalid Signature: s must be 0 < s < n")}toDERRawBytes(e=!1){return gn(this.toDERHex(e))}toDERHex(e=!1){let r=G1(Js(this.s));if(e)return r;let n=G1(Js(this.r)),i=Js(n.length/2),s=Js(r.length/2);return`30${Js(n.length/2+r.length/2+4)}02${i}${n}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return gn(this.toCompactHex())}toCompactHex(){return yn(this.r)+yn(this.s)}};ie.Signature=Mr;ie.SignResult=Mr;function Y1(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function $a(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function yn(t){return t.toString(16).padStart(64,"0")}function Wa(t){return gn(yn(t))}function Js(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function qr(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function gn(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=Number.parseInt(t.slice(n,n+2),16)}return e}function Ga(t){return t instanceof Uint8Array?t:gn(t)}function It(t){return qr($a(t))}function eo(t){return Number.parseInt(t,16)*2}function Z1(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function U(t,e=oe.P){let r=t%e;return r>=0?r:e+r}function kt(t,e){let{P:r}=oe,n=t;for(;e-- >0n;)n*=n,n%=r;return n}function zA(t){let{P:e}=oe,r=t*t*t%e,n=r*r*t%e,i=kt(n,3n)*n%e,s=kt(i,3n)*n%e,o=kt(s,2n)*r%e,a=kt(o,11n)*o%e,u=kt(a,22n)*a%e,c=kt(u,44n)*u%e,f=kt(c,88n)*c%e,l=kt(f,44n)*u%e,p=kt(l,3n)*n%e,v=kt(p,23n)*a%e,y=kt(v,6n)*r%e;return kt(y,2n)}function to(t,e=oe.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=U(t,e),n=e,[i,s,o,a]=[0n,1n,1n,0n];for(;r!==0n;){let c=n/r,f=n%r,l=i-o*c,p=s-a*c;[n,r]=[r,f],[i,s]=[o,a],[o,a]=[l,p]}if(n!==1n)throw new Error("invert: does not exist");return U(i,e)}function $A(t,e=oe.P){let r=t.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)t[s]!==0n&&(n[s]=i,i=U(i*t[s],e));i=to(i,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let o=U(i*t[s],e);t[s]=U(i*n[s],e),i=o}return t}var Q1=(t,e)=>(t+e/2n)/e,Ya=2n**128n;function X1(t){let{n:e}=oe,r=0x3086d221a7d46bcde86c90e49284eb15n,n=-0xe4437ed6010e88286f547fa90abfe4c3n,i=0x114ca50f7a8e2f3f657c1108d9d44cfd8n,s=r,o=Q1(s*t,e),a=Q1(-n*t,e),u=U(t-o*r-a*i,e),c=U(-o*n-a*s,e),f=u>Ya,l=c>Ya;if(f&&(u=e-u),l&&(c=e-c),u>Ya||c>Ya)throw new Error("splitScalarEndo: Endomorphism failed");return[f,u,l,c]}function WA(t){typeof t!="string"&&(t=$a(t));let e=qr(t||"0"),n=t.length/2*8-256;return n>0&&(e=e>>BigInt(n)),e>=oe.n&&(e-=oe.n),e}function J1(t,e){if(t==null)throw new Error(`sign: expected valid msgHash, not "${t}"`);let r=typeof t=="string"?qr(t):It(t),n=Wa(r),i=It(n),s=Wa(e),o=new Uint8Array(32).fill(1),a=new Uint8Array(32).fill(0),u=Uint8Array.from([0]),c=Uint8Array.from([1]);return[n,i,s,o,a,u,c]}async function GA(t,e){let r=zi(e),[n,i,s,o,a,u,c]=J1(t,r),f=ie.utils.hmacSha256;a=await f(a,o,u,s,n),o=await f(a,o),a=await f(a,o,c,s,n),o=await f(a,o);for(let l=0;l<1e3;l++){o=await f(a,o);let p=ev(o,i,r);if(p)return p;a=await f(a,o,u),o=await f(a,o)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function YA(t,e){let r=zi(e),[n,i,s,o,a,u,c]=J1(t,r),f=ie.utils.hmacSha256Sync;if(!f)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");if(a=f(a,o,u,s,n),a instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");o=f(a,o),a=f(a,o,c,s,n),o=f(a,o);for(let l=0;l<1e3;l++){o=f(a,o);let p=ev(o,i,r);if(p)return p;a=f(a,o,u),o=f(a,o)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function ro(t){return 0<t&&t<oe.n}function ev(t,e,r){let n=It(t);if(!ro(n))return;let i=oe.n,s=ae.BASE.multiply(n),o=U(s.x,i),a=U(to(n,i)*(e+o*r),i);if(!(o===0n||a===0n))return[s,o,a]}function zi(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=qr(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=It(t)}else throw new TypeError("Expected valid private key");if(!ro(e))throw new Error("Expected private key: 0 < key < n");return e}function Jf(t){return t instanceof ae?(t.assertValidity(),t):ae.fromHex(t)}function tv(t){return t instanceof Mr?(t.assertValidity(),t):Mr.fromDER(t)}function ZA(t,e=!1){let r=ae.fromPrivateKey(t);return typeof t=="string"?r.toHex(e):r.toRawBytes(e)}ie.getPublicKey=ZA;function QA(t,e,r){let n=ae.fromSignature(t,e,r);return typeof t=="string"?n.toHex():n.toRawBytes()}ie.recoverPublicKey=QA;function rv(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===33||n===65:r?n===66||n===130:t instanceof ae}function XA(t,e,r=!1){if(rv(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!rv(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Jf(e);n.assertValidity();let i=n.multiply(zi(t));return typeof t=="string"?i.toHex(r):i.toRawBytes(r)}ie.getSharedSecret=XA;function nv(t,e,r=!1){let[n,i,s]=t,{canonical:o,der:a,recovered:u}=e,c=(n.x===i?0:2)|Number(n.y&1n),f=s,l=oe.n>>1n;s>l&&o&&(f=oe.n-s,c^=1);let p=new Mr(i,f);p.assertValidity();let v=a===!1?p.toCompactHex():p.toDERHex(),y=r?v:gn(v);return u?[y,c]:y}async function JA(t,e,r={}){return nv(await GA(t,e),r,typeof t=="string")}ie.sign=JA;function eT(t,e,r={}){return nv(YA(t,e),r,typeof t=="string")}ie.signSync=eT;function tT(t,e,r){let{n}=oe,i;try{i=tv(t)}catch(E){return!1}let{r:s,s:o}=i,a=WA(e);if(a===0n)return!1;let u=ne.fromAffine(Jf(r)),c=to(o,n),f=U(a*c,n),l=U(s*c,n),p=ne.BASE.multiply(f),v=u.multiplyUnsafe(l),y=p.add(v).toAffine();return U(y.x,n)===s}ie.verify=tT;async function el(t,...e){let r=new Uint8Array(t.split("").map(s=>s.charCodeAt(0))),n=await ie.utils.sha256(r),i=await ie.utils.sha256(Y1(n,n,...e));return It(i)}async function iv(t,e,r){let n=Wa(t),i=await el("BIP0340/challenge",n,e.toRawX(),r);return U(i,oe.n)}function tl(t){return U(t.y,2n)===0n}var Yn=class{constructor(e,r){if(this.r=e,this.s=r,e<=0n||r<=0n||e>=oe.P||r>=oe.n)throw new Error("Invalid signature")}static fromHex(e){let r=Ga(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=It(r.slice(0,32)),i=It(r.slice(32));return new Yn(n,i)}toHex(){return yn(this.r)+yn(this.s)}toRawBytes(){return gn(this.toHex())}};function rT(t){let e=ae.fromPrivateKey(t);return typeof t=="string"?e.toHexX():e.toRawX()}async function nT(t,e,r=ie.utils.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);e||(e=0n);let{n}=oe,i=Ga(t),s=zi(e),o=Ga(r);if(o.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let a=ae.fromPrivateKey(s),u=tl(a)?s:n-s,c=await el("BIP0340/aux",o),f=u^c,l=await el("BIP0340/nonce",Wa(f),a.toRawX(),i),p=U(l,n);if(p===0n)throw new Error("sign: Creation of signature failed. k is zero");let v=ae.fromPrivateKey(p),y=tl(v)?p:n-p,m=await iv(v.x,a,i),E=new Yn(v.x,U(y+m*u,n));if(!await sv(E.toRawBytes(),i,a.toRawX()))throw new Error("sign: Invalid signature produced");return typeof t=="string"?E.toHex():E.toRawBytes()}async function sv(t,e,r){let n=t instanceof Yn?t:Yn.fromHex(t),i=typeof e=="string"?gn(e):e,s=Jf(r),o=await iv(n.r,s,i),a=ae.fromPrivateKey(n.s),u=s.multiply(o),c=a.subtract(u);return!(c.equals(ae.BASE)||!tl(c)||c.x!==n.r)}ie.schnorr={Signature:Yn,getPublicKey:rT,sign:nT,verify:sv};ae.BASE._setWindowSize(8);var vt=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof ov!="undefined"&&typeof xo=="function"&&!t?Fi():void 0,web:t}})();ie.utils={isValidPrivateKey(t){try{return zi(t),!0}catch(e){return!1}},randomBytes:(t=32)=>{if(vt.web)return vt.web.getRandomValues(new Uint8Array(t));if(vt.node){let{randomBytes:e}=vt.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=8;for(;t--;){let e=ie.utils.randomBytes(32),r=It(e);if(ro(r)&&r!==1n)return e}throw new Error("Valid private key was not found in 8 iterations. PRNG is broken")},sha256:async t=>{if(vt.web){let e=await vt.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}else if(vt.node){let{createHash:e}=vt.node;return Uint8Array.from(e("sha256").update(t).digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(vt.web){let r=await vt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Y1(...e),i=await vt.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(vt.node){let{createHmac:r}=vt.node,n=r("sha256",t);for(let i of e)n.update(i);return Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=ae.BASE){let r=e===ae.BASE?e:new ae(e.x,e.y);return r._setWindowSize(t),r.multiply(3n),r}}});var fv=_((_5,cv)=>{"use strict";var no=pr(),vn=av(),{sha256:uv}=(Ci(),Nn);cv.exports=()=>{let t=32;function e(){return vn.utils.randomPrivateKey()}async function r(c,f){let{digest:l}=await uv.digest(f);try{return await vn.sign(l,c)}catch(p){throw no(p,"ERR_INVALID_INPUT")}}async function n(c,f,l){try{let{digest:p}=await uv.digest(l);return vn.verify(f,p,c)}catch(p){throw no(p,"ERR_INVALID_INPUT")}}function i(c){return vn.Point.fromHex(c).toRawBytes(!0)}function s(c){return vn.Point.fromHex(c).toRawBytes(!1)}function o(c){try{vn.getPublicKey(c,!0)}catch(f){throw no(f,"ERR_INVALID_PRIVATE_KEY")}}function a(c){try{vn.Point.fromHex(c)}catch(f){throw no(f,"ERR_INVALID_PUBLIC_KEY")}}function u(c){try{return vn.getPublicKey(c,!0)}catch(f){throw no(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:e,privateKeyLength:t,hashAndSign:r,hashAndVerify:n,compressPublicKey:i,decompressPublicKey:s,validatePrivateKey:o,validatePublicKey:a,computePublicKey:u}}});var dv=_((E5,pv)=>{"use strict";var{sha256:lv}=(Ci(),Nn),iT=pr(),{equals:hv}=(qn(),Mn),{toString:sT}=(Et(),_t),oT=qa();pv.exports=(t,e,r)=>{r=r||fv()();class n{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,f){return r.hashAndVerify(this._key,f,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return hv(this.bytes,c.bytes)}async hash(){let{bytes:c}=await lv.digest(this.bytes);return c}}class i{constructor(c,f){this._key=c,this._publicKey=f||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return hv(this.bytes,c.bytes)}async hash(){let{bytes:c}=await lv.digest(this.bytes);return c}async id(){let c=await this.public.hash();return sT(c,"base58btc")}async export(c,f="libp2p-key"){if(f==="libp2p-key")return oT.export(this.bytes,c);throw iT(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(u){return new i(u)}function o(u){return new n(u)}async function a(){let u=await r.generateKey();return new i(u)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:o,generateKeyPair:a}}});var gv=_((S5,yv)=>{"use strict";yv.exports={SHA1:20,SHA256:32,SHA512:64}});var bv=_(mv=>{"use strict";var vv=zs(),aT=gv(),uT={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},cT=async(t,e)=>{let r=await vv.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};mv.create=async function(t,e){let r=uT[t],n=await vv.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return cT(n,i)},length:aT[t]}}});var Sv=_((A5,Ev)=>{"use strict";var wv=pr(),{concat:xv}=(Ln(),On),{fromString:fT}=(kr(),Ir),lT=bv(),_v={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Ev.exports=async(t,e,r)=>{let n=_v[t];if(!n){let B=Object.keys(_v).join(" / ");throw wv(new Error(`unknown cipher type '${t}'. Must be ${B}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw wv(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,s=n.ivSize,o=20,a=fT("key expansion"),u=2*(s+i+o),c=await lT.create(e,r),f=await c.digest(a),l=[],p=0;for(;p<u;){let B=await c.digest(xv([f,a])),I=B.length;p+I>u&&(I=u-p),l.push(B),p+=I,f=await c.digest(f)}let v=u/2,y=xv(l),m=y.slice(0,v),E=y.slice(v,u),x=B=>({iv:B.slice(0,s),cipherKey:B.slice(s,s+i),macKey:B.slice(s+i)});return{k1:x(m),k2:x(E)}}});var Av=_((T5,Bv)=>{"use strict";var hT=pr();Bv.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw hT(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var Pv=_(kv=>{"use strict";var pT=pr(),io=zs(),{base64urlToBuffer:Tv}=Ma(),dT=Av(),{toString:rl}=(Et(),_t),{concat:yT}=(Ln(),On),{equals:gT}=(qn(),Mn),Cv={"P-256":256,"P-384":384,"P-521":521};kv.generateEphmeralKeyPair=async function(t){dT(Object.keys(Cv),t);let e=await io.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(i,s)=>{let o;s?o=await io.get().subtle.importKey("jwk",mT(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):o=e.privateKey;let a=[await io.get().subtle.importKey("jwk",Iv(t,i),{name:"ECDH",namedCurve:t},!1,[]),o],u=await io.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:a[0]},a[1],Cv[t]);return new Uint8Array(u,u.byteOffset,u.byteLength)},n=await io.get().subtle.exportKey("jwk",e.publicKey);return{key:vT(n),genSharedKey:r}};var Rv={"P-256":32,"P-384":48,"P-521":66};function vT(t){let e=Rv[t.crv];return yT([Uint8Array.from([4]),Tv(t.x,e),Tv(t.y,e)],1+e*2)}function Iv(t,e){let r=Rv[t];if(gT(!e.slice(0,1),Uint8Array.from([4])))throw pT(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:rl(e.slice(1,r+1),"base64url"),y:rl(e.slice(1+r),"base64url"),ext:!0}}var mT=(t,e)=>({...Iv(t,e.public),d:rl(e.private,"base64url")})});var Nv=_((R5,Dv)=>{"use strict";var bT=Pv();Dv.exports=async t=>bT.generateEphmeralKeyPair(t)});var Mv=_((I5,Lv)=>{"use strict";var vr=va();js();Xg();var nl=fe(),so=pr(),{fromString:wT}=(kr(),Ir),xT=s1(),Pt={rsa:k1(),ed25519:$1(),secp256k1:dv()(vr,Hf())},Za={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function $i(t){let e=Pt[t.toLowerCase()];if(!e){let r=Object.keys(Pt).join(" / ");throw so(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var _T=async(t,e)=>$i(t).generateKeyPair(e),ET=async(t,e,r)=>{let n=$i(t);if(t.toLowerCase()!=="ed25519")throw so(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(e,r)},ST=t=>{let e=vr.PublicKey.decode(t),r=e.Data;switch(e.Type){case vr.KeyType.RSA:return Pt.rsa.unmarshalRsaPublicKey(r);case vr.KeyType.Ed25519:return Pt.ed25519.unmarshalEd25519PublicKey(r);case vr.KeyType.Secp256k1:if(Pt.secp256k1)return Pt.secp256k1.unmarshalSecp256k1PublicKey(r);throw so(new Error(Za.message),Za.code);default:$i(e.Type)}},BT=(t,e)=>(e=(e||"rsa").toLowerCase(),$i(e),t.bytes),Ov=async t=>{let e=vr.PrivateKey.decode(t),r=e.Data;switch(e.Type){case vr.KeyType.RSA:return Pt.rsa.unmarshalRsaPrivateKey(r);case vr.KeyType.Ed25519:return Pt.ed25519.unmarshalEd25519PrivateKey(r);case vr.KeyType.Secp256k1:if(Pt.secp256k1)return Pt.secp256k1.unmarshalSecp256k1PrivateKey(r);throw so(new Error(Za.message),Za.code);default:$i(e.Type)}},AT=(t,e)=>(e=(e||"rsa").toLowerCase(),$i(e),t.bytes),TT=async(t,e)=>{try{let i=await xT.import(t,e);return Ov(i)}catch(i){}let r=nl.pki.decryptRsaPrivateKey(t,e);if(r===null)throw so(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=nl.asn1.toDer(nl.pki.privateKeyToAsn1(r));return n=wT(n.getBytes(),"ascii"),Pt.rsa.unmarshalRsaPrivateKey(n)};Lv.exports={supportedKeys:Pt,keysPBM:vr,keyStretcher:Sv(),generateEphemeralKeyPair:Nv(),generateKeyPair:_T,generateKeyPairFromSeed:ET,unmarshalPublicKey:ST,marshalPublicKey:BT,unmarshalPrivateKey:Ov,marshalPrivateKey:AT,import:TT}});var Uv=_((k5,Fv)=>{"use strict";var Wi=mf(),qv=Wi.Reader,CT=Wi.Writer,De=Wi.util,oo=Wi.roots["libp2p-peer-id"]||(Wi.roots["libp2p-peer-id"]={});oo.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.id=De.newBuffer([]),t.prototype.pubKey=De.newBuffer([]),t.prototype.privKey=De.newBuffer([]),t.encode=function(r,n){return n||(n=CT.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},t.decode=function(r,n){r instanceof qv||(r=qv.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new oo.PeerIdProto;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("id"))throw De.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof oo.PeerIdProto)return r;var n=new oo.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?De.base64.decode(r.id,n.id=De.newBuffer(De.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?De.base64.decode(r.pubKey,n.pubKey=De.newBuffer(De.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?De.base64.decode(r.privKey,n.privKey=De.newBuffer(De.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=De.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=De.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=De.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?De.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?De.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?De.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Wi.util.toJSONOptions)},t}();Fv.exports=oo});var Yv=_((Ze,Gv)=>{"use strict";var{CID:il}=(Is(),ta),RT=(_i(),xi),IT=(Mc(),Yo),kT=(en(),Jr),PT=(_s(),Ei),{base58btc:sl}=(en(),Jr),{base32:DT}=(_i(),xi),{base16:Kv}=(Lc(),Go),ao=(Ti(),As),mr=Mv(),NT=Du(),{PeerIdProto:jv}=Uv(),{equals:Zn}=(qn(),Mn),{fromString:uo}=(kr(),Ir),{toString:OT}=(Et(),_t),{identity:Qa}=(Xo(),Cs),Vv={...RT,...IT,...kT,...PT},LT=Object.keys(Vv).reduce((t,e)=>t.or(Vv[e]),DT.decoder),MT=112,Hv=114,zv=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!Zn(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=sl.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=ao.decode(this.id);e.code===Qa.code&&(this._pubKey=mr.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return mr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return mr.marshalPrivateKey(this.privKey)}marshal(e){return jv.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:Wv(this.marshalPrivKey()),pubKey:Wv(this.marshalPubKey())}}toHexString(){return Kv.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=il.createV1(Hv,ao.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return Zn(this.id,e);if(e.id)return Zn(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&Zn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(ao.decode(this.id).code===Qa.code)return!0}catch(e){}return!1}},br=NT(zv,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ze=Gv.exports=br;var co=t=>t.bytes.length<=42?ao.create(Qa.code,t.bytes).bytes:t.hash(),ol=async(t,e)=>{let r=await co(e);return new br(r,t,e)};Ze.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await mr.generateKeyPair(t.keyType,t.bits);return ol(e,e.public)};Ze.createFromHexString=t=>new br(Kv.decode("f"+t));Ze.createFromBytes=t=>{try{let e=il.decode(t);if(!$v(e))throw new Error("Supplied PeerID CID is invalid");return Ze.createFromCID(e)}catch{if(ao.decode(t).code!==Qa.code)throw new Error("Supplied PeerID CID is invalid");return new br(t)}};Ze.createFromB58String=t=>Ze.createFromBytes(sl.decode("z"+t));var $v=t=>t.code===Hv||t.code===MT;Ze.createFromCID=t=>{if(t=il.asCID(t),!t||!$v(t))throw new Error("Supplied PeerID CID is invalid");return new br(t.multihash.bytes)};Ze.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=uo(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await mr.unmarshalPublicKey(e);return ol(void 0,r)};Ze.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=uo(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await mr.unmarshalPrivateKey(t);return ol(e,e.public)};Ze.createFromJSON=async t=>{let e=sl.decode("z"+t.id),r=t.privKey&&uo(t.privKey,"base64pad"),n=t.pubKey&&uo(t.pubKey,"base64pad"),i=n&&await mr.unmarshalPublicKey(n);if(!r)return new br(e,void 0,i);let s=await mr.unmarshalPrivateKey(r),o=await co(s.public),a;if(i&&(a=await co(i)),i&&!Zn(o,a))throw new Error("Public and private key do not match");if(e&&!Zn(o,e))throw new Error("Id and private key do not match");return new br(e,s,i)};Ze.createFromProtobuf=async t=>{typeof t=="string"&&(t=uo(t,"base16"));let{id:e,privKey:r,pubKey:n}=jv.decode(t);r=r?await mr.unmarshalPrivateKey(r):!1,n=n?await mr.unmarshalPublicKey(n):!1;let i,s;if(r&&(s=await co(r.public)),n&&(i=await co(n)),r){if(n&&!Zn(s,i))throw new Error("Public and private key do not match");return new br(s,r,r.public)}if(n)return new br(i,void 0,n);if(e)return new br(e);throw new Error("Protobuf did not contain any usable key material")};Ze.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),Ze.createFromBytes(LT.decode(t)));Ze.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function Wv(t){if(t)return OT(t,"base64pad")}});var Ja=_(Xa=>{"use strict";Xa.CODE_P2P=421;Xa.CODE_CIRCUIT=290;Xa.CLOSE_TIMEOUT=2e3});var al=_((D5,Zv)=>{var qT=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];Zv.exports=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=qT.exec(e||""),o={},a=14;a--;)o[FT[a]]=s[a]||"";return n!=-1&&i!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=UT(o,o.path),o.queryKey=KT(o,o.query),o};function UT(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function KT(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}});var Jv=_(Gi=>{"use strict";var Qv=Gi&&Gi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.url=void 0;var jT=Qv(al()),VT=Qv($e()),Xv=VT.default("socket.io-client:url");function HT(t,e="",r){let n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(Xv("protocol-less url %s",t),typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),Xv("parse %s",t),n=jT.default(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}Gi.url=HT});var em=_((O5,ul)=>{try{ul.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){ul.exports=!1}});var fo=_(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.default=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())()});var rm=_(lo=>{"use strict";var tm=lo&&lo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});var zT=tm(em()),$T=tm(fo());function WT(t){let e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||zT.default))return new XMLHttpRequest}catch(r){}if(!e)try{return new $T.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}lo.default=WT});var Yi=_(mn=>{"use strict";var GT=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});mn.installTimerFunctions=mn.pick=void 0;var eu=GT(fo());function YT(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}mn.pick=YT;var ZT=setTimeout,QT=clearTimeout;function XT(t,e){e.useNativeTimers?(t.setTimeoutFn=ZT.bind(eu.default),t.clearTimeoutFn=QT.bind(eu.default)):(t.setTimeoutFn=setTimeout.bind(eu.default),t.clearTimeoutFn=clearTimeout.bind(eu.default))}mn.installTimerFunctions=XT});var Qn=_(nm=>{nm.Emitter=st;function st(t){if(t)return JT(t)}function JT(t){for(var e in st.prototype)t[e]=st.prototype[e];return t}st.prototype.on=st.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};st.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};st.prototype.off=st.prototype.removeListener=st.prototype.removeAllListeners=st.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};st.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};st.prototype.emitReserved=st.prototype.emit;st.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};st.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var fl=_(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.ERROR_PACKET=bn.PACKET_TYPES_REVERSE=bn.PACKET_TYPES=void 0;var wr=Object.create(null);bn.PACKET_TYPES=wr;wr.open="0";wr.close="1";wr.ping="2";wr.pong="3";wr.message="4";wr.upgrade="5";wr.noop="6";var im=Object.create(null);bn.PACKET_TYPES_REVERSE=im;Object.keys(wr).forEach(t=>{im[wr[t]]=t});var e3={type:"error",data:"parser error"};bn.ERROR_PACKET=e3});var om=_(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var t3=fl(),r3=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",n3=typeof ArrayBuffer=="function",i3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,s3=({type:t,data:e},r,n)=>r3&&e instanceof Blob?r?n(e):sm(e,n):n3&&(e instanceof ArrayBuffer||i3(e))?r?n(e):sm(new Blob([e]),n):n(t3.PACKET_TYPES[t]+(e||"")),sm=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)};ll.default=s3});var um=_((tu,am)=>{(function(t,e){typeof tu=="object"&&typeof am!="undefined"?e(tu):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t["base64-arraybuffer"]={}))})(tu,function(t){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;var i=function(o){var a=new Uint8Array(o),u,c=a.length,f="";for(u=0;u<c;u+=3)f+=e[a[u]>>2],f+=e[(a[u]&3)<<4|a[u+1]>>4],f+=e[(a[u+1]&15)<<2|a[u+2]>>6],f+=e[a[u+2]&63];return c%3==2?f=f.substring(0,f.length-1)+"=":c%3==1&&(f=f.substring(0,f.length-2)+"=="),f},s=function(o){var a=o.length*.75,u=o.length,c,f=0,l,p,v,y;o[o.length-1]==="="&&(a--,o[o.length-2]==="="&&a--);var m=new ArrayBuffer(a),E=new Uint8Array(m);for(c=0;c<u;c+=4)l=r[o.charCodeAt(c)],p=r[o.charCodeAt(c+1)],v=r[o.charCodeAt(c+2)],y=r[o.charCodeAt(c+3)],E[f++]=l<<2|p>>4,E[f++]=(p&15)<<4|v>>2,E[f++]=(v&3)<<6|y&63;return m};t.decode=s,t.encode=i,Object.defineProperty(t,"__esModule",{value:!0})})});var fm=_(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var ru=fl(),o3=um(),a3=typeof ArrayBuffer=="function",u3=(t,e)=>{if(typeof t!="string")return{type:"message",data:cm(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:c3(t.substring(1),e)}:ru.PACKET_TYPES_REVERSE[r]?t.length>1?{type:ru.PACKET_TYPES_REVERSE[r],data:t.substring(1)}:{type:ru.PACKET_TYPES_REVERSE[r]}:ru.ERROR_PACKET},c3=(t,e)=>{if(a3){let r=(0,o3.decode)(t);return cm(r,e)}else return{base64:!0,data:t}},cm=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};hl.default=u3});var ho=_(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.decodePayload=Dt.decodePacket=Dt.encodePayload=Dt.encodePacket=Dt.protocol=void 0;var lm=om();Dt.encodePacket=lm.default;var hm=fm();Dt.decodePacket=hm.default;var pm=String.fromCharCode(30),f3=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((s,o)=>{(0,lm.default)(s,!1,a=>{n[o]=a,++i===r&&e(n.join(pm))})})};Dt.encodePayload=f3;var l3=(t,e)=>{let r=t.split(pm),n=[];for(let i=0;i<r.length;i++){let s=(0,hm.default)(r[i],e);if(n.push(s),s.type==="error")break}return n};Dt.decodePayload=l3;Dt.protocol=4});var nu=_(Zi=>{"use strict";var h3=Zi&&Zi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Transport=void 0;var p3=ho(),d3=Qn(),y3=Yi(),g3=h3($e()),v3=(0,g3.default)("engine.io-client:transport"),dm=class extends d3.Emitter{constructor(e){super();this.writable=!1,(0,y3.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r){let n=new Error(e);return n.type="TransportError",n.description=r,super.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):v3("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){let r=(0,p3.decodePacket)(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}};Zi.Transport=dm});var yl=_((z5,bm)=>{"use strict";var ym="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),iu=64,gm={},vm=0,wn=0,mm;function pl(t){var e="";do e=ym[t%iu]+e,t=Math.floor(t/iu);while(t>0);return e}function m3(t){var e=0;for(wn=0;wn<t.length;wn++)e=e*iu+gm[t.charAt(wn)];return e}function dl(){var t=pl(+new Date);return t!==mm?(vm=0,mm=t):t+"."+pl(vm++)}for(;wn<iu;wn++)gm[ym[wn]]=wn;dl.encode=pl;dl.decode=m3;bm.exports=dl});var su=_(gl=>{gl.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};gl.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}});var _m=_(Qi=>{"use strict";var vl=Qi&&Qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.Polling=void 0;var b3=nu(),w3=vl($e()),x3=vl(yl()),_3=vl(su()),wm=ho(),Zt=(0,w3.default)("engine.io-client:polling"),xm=class extends b3.Transport{constructor(){super(...arguments);this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let r=()=>{Zt("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(Zt("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){Zt("pre-pause polling complete"),--n||r()})),this.writable||(Zt("we are currently writing - waiting to pause"),n++,this.once("drain",function(){Zt("pre-pause writing complete"),--n||r()}))}else r()}poll(){Zt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){Zt("polling got data %s",e);let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose(),!1;this.onPacket(n)};(0,wm.decodePayload)(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Zt('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{Zt("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Zt("transport open - closing"),e()):(Zt("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,wm.encodePayload)(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},r=this.opts.secure?"https":"http",n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=(0,x3.default)()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);let i=_3.default.encode(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}};Qi.Polling=xm});var Tm=_(xn=>{"use strict";var ml=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});xn.Request=xn.XHR=void 0;var Em=ml(rm()),E3=ml($e()),S3=ml(fo()),Sm=Yi(),B3=Qn(),A3=_m(),bl=(0,E3.default)("engine.io-client:polling-xhr");function T3(){}var C3=function(){return new Em.default({xdomain:!1}).responseType!=null}(),Bm=class extends A3.Polling{constructor(e){super(e);if(typeof location!="undefined"){let n=location.protocol==="https:",i=location.port;i||(i=n?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}let r=e&&e.forceBase64;this.supportsBinary=C3&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Nt(this.uri(),e)}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){bl("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",r=>{this.onError("xhr poll error",r)}),this.pollXhr=e}};xn.XHR=Bm;var Nt=class extends B3.Emitter{constructor(e,r){super();(0,Sm.installTimerFunctions)(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){let e=(0,Sm.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let r=this.xhr=new Em.default(e);try{bl("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch(n){}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},bl("xhr data %s",this.data),r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=Nt.requestsCount++,Nt.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=T3,e)try{this.xhr.abort()}catch(r){}typeof document!="undefined"&&delete Nt.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}abort(){this.cleanup()}};xn.Request=Nt;Nt.requestsCount=0;Nt.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Am);else if(typeof addEventListener=="function"){let t="onpagehide"in S3.default?"pagehide":"unload";addEventListener(t,Am,!1)}}function Am(){for(let t in Nt.requests)Nt.requests.hasOwnProperty(t)&&Nt.requests[t].abort()}});var Rm=_(Ot=>{"use strict";var R3=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.defaultBinaryType=Ot.usingBrowserWebSocket=Ot.WebSocket=Ot.nextTick=void 0;var Cm=R3(fo());Ot.nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))();Ot.WebSocket=Cm.default.WebSocket||Cm.default.MozWebSocket;Ot.usingBrowserWebSocket=!0;Ot.defaultBinaryType="arraybuffer"});var km=_(Xi=>{"use strict";var wl=Xi&&Xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.WS=void 0;var I3=nu(),k3=wl(su()),P3=wl(yl()),D3=Yi(),xr=Rm(),N3=wl($e()),O3=ho(),L3=(0,N3.default)("engine.io-client:websocket"),Im=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ou=class extends I3.Transport{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),r=this.opts.protocols,n=Im?{}:(0,D3.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=xr.usingBrowserWebSocket&&!Im?r?new xr.WebSocket(e,r):new xr.WebSocket(e):new xr.WebSocket(e,r,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||xr.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;(0,O3.encodePacket)(n,this.supportsBinary,s=>{let o={};xr.usingBrowserWebSocket||(n.options&&(o.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{xr.usingBrowserWebSocket?this.ws.send(s):this.ws.send(s,o)}catch(a){L3("websocket closed before onclose event")}i&&(0,xr.nextTick)(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},r=this.opts.secure?"wss":"ws",n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,P3.default)()),this.supportsBinary||(e.b64=1);let i=k3.default.encode(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!xr.WebSocket&&!("__initialize"in xr.WebSocket&&this.name===ou.prototype.name)}};Xi.WS=ou});var xl=_(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.transports=void 0;var M3=Tm(),q3=km();au.transports={websocket:q3.WS,polling:M3.XHR}});var Nm=_(Ji=>{"use strict";var _l=Ji&&Ji.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Socket=void 0;var F3=xl(),U3=Yi(),K3=_l(su()),Pm=_l(al()),j3=_l($e()),V3=Qn(),Dm=ho(),Ce=(0,j3.default)("engine.io-client:socket"),Fr=class extends V3.Emitter{constructor(e,r={}){super();e&&typeof e=="object"&&(r=e,e=null),e?(e=(0,Pm.default)(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=(0,Pm.default)(r.host).host),(0,U3.installTimerFunctions)(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=K3.default.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Ce('creating transport "%s"',e);let r=H3(this.opts.query);r.EIO=Dm.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Ce("options: %j",n),new F3.transports[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Fr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(r){Ce("error while creating transport: %s",r),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Ce("setting transport %s",e.name),this.transport&&(Ce("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){Ce('probing transport "%s"',e);let r=this.createTransport(e),n=!1;Fr.priorWebsocketSuccess=!1;let i=()=>{n||(Ce('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",l=>{if(!n)if(l.type==="pong"&&l.data==="probe"){if(Ce('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Fr.priorWebsocketSuccess=r.name==="websocket",Ce('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(Ce("changing transport and sending upgrade packet"),f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{Ce('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}let o=l=>{let p=new Error("probe error: "+l);p.transport=r.name,s(),Ce('probe transport "%s" failed because of error: %s',e,l),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function u(){o("socket closed")}function c(l){r&&l.name!==r.name&&(Ce('"%s" works - aborting "%s"',l.name,r.name),s())}let f=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",u),this.off("upgrading",c)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",u),this.once("upgrading",c),r.open()}onOpen(){if(Ce("socket open"),this.readyState="open",Fr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Ce("starting upgrade probes");let e=0,r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ce('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else Ce('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ce("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),Ce("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Ce("socket error %j",e),Fr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Ce('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let r=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};Ji.Socket=Fr;Fr.protocol=Dm.protocol;function H3(t){let e={};for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}});var Lm=_(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.installTimerFunctions=Lt.transports=Lt.Transport=Lt.protocol=Lt.Socket=void 0;var Om=Nm();Object.defineProperty(Lt,"Socket",{enumerable:!0,get:function(){return Om.Socket}});Lt.protocol=Om.Socket.protocol;var z3=nu();Object.defineProperty(Lt,"Transport",{enumerable:!0,get:function(){return z3.Transport}});var $3=xl();Object.defineProperty(Lt,"transports",{enumerable:!0,get:function(){return $3.transports}});var W3=Yi();Object.defineProperty(Lt,"installTimerFunctions",{enumerable:!0,get:function(){return W3.installTimerFunctions}})});var El=_(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.hasBinary=es.isBinary=void 0;var G3=typeof ArrayBuffer=="function",Y3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Mm=Object.prototype.toString,Z3=typeof Blob=="function"||typeof Blob!="undefined"&&Mm.call(Blob)==="[object BlobConstructor]",Q3=typeof File=="function"||typeof File!="undefined"&&Mm.call(File)==="[object FileConstructor]";function qm(t){return G3&&(t instanceof ArrayBuffer||Y3(t))||Z3&&t instanceof Blob||Q3&&t instanceof File}es.isBinary=qm;function uu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(uu(t[r]))return!0;return!1}if(qm(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return uu(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&uu(t[r]))return!0;return!1}es.hasBinary=uu});var Fm=_(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.reconstructPacket=ts.deconstructPacket=void 0;var X3=El();function J3(t){let e=[],r=t.data,n=t;return n.data=Sl(r,e),n.attachments=e.length,{packet:n,buffers:e}}ts.deconstructPacket=J3;function Sl(t,e){if(!t)return t;if(X3.isBinary(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Sl(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)t.hasOwnProperty(n)&&(r[n]=Sl(t[n],e));return r}return t}function eC(t,e){return t.data=Bl(t.data,e),t.attachments=void 0,t}ts.reconstructPacket=eC;function Bl(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Bl(t[r],e);else if(typeof t=="object")for(let r in t)t.hasOwnProperty(r)&&(t[r]=Bl(t[r],e));return t}});var fu=_(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Decoder=Qt.Encoder=Qt.PacketType=Qt.protocol=void 0;var tC=Qn(),Um=Fm(),Km=El(),rC=$e(),Al=rC.default("socket.io-parser");Qt.protocol=5;var ke;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ke=Qt.PacketType||(Qt.PacketType={}));var jm=class{encode(e){return Al("encoding packet %j",e),(e.type===ke.EVENT||e.type===ke.ACK)&&Km.hasBinary(e)?(e.type=e.type===ke.EVENT?ke.BINARY_EVENT:ke.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===ke.BINARY_EVENT||e.type===ke.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data)),Al("encoded %j as %s",e,r),r}encodeAsBinary(e){let r=Um.deconstructPacket(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};Qt.Encoder=jm;var cu=class extends tC.Emitter{constructor(){super()}add(e){let r;if(typeof e=="string")r=this.decodeString(e),r.type===ke.BINARY_EVENT||r.type===ke.BINARY_ACK?(this.reconstructor=new Vm(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r);else if(Km.isBinary(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(ke[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ke.BINARY_EVENT||n.type===ke.BINARY_ACK){let s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){let s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let s=r+1;for(;++r;){let o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){let s=nC(e.substr(r));if(cu.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return Al("decoded %s as %j",e,n),n}static isPayloadValid(e,r){switch(e){case ke.CONNECT:return typeof r=="object";case ke.DISCONNECT:return r===void 0;case ke.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case ke.EVENT:case ke.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case ke.ACK:case ke.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};Qt.Decoder=cu;function nC(t){try{return JSON.parse(t)}catch(e){return!1}}var Vm=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=Um.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var Tl=_(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.on=void 0;function iC(t,e,r){return t.on(e,r),function(){t.off(e,r)}}lu.on=iC});var Cl=_(rs=>{"use strict";var sC=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.Socket=void 0;var Mt=fu(),hu=Tl(),oC=Qn(),aC=sC($e()),ht=aC.default("socket.io-client:socket"),uC=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Hm=class extends oC.Emitter{constructor(e,r,n){super();this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let e=this.io;this.subs=[hu.on(e,"open",this.onopen.bind(this)),hu.on(e,"packet",this.onpacket.bind(this)),hu.on(e,"error",this.onerror.bind(this)),hu.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(uC.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');r.unshift(e);let n={type:Mt.PacketType.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let o=this.ids++;ht("emitting packet with ack id %d",o);let a=r.pop();this._registerAckCallback(o,a),n.id=o}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?ht("discard packet as the transport is not currently writable"):this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this}_registerAckCallback(e,r){let n=this.flags.timeout;if(n===void 0){this.acks[e]=r;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&(ht("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(s,1));ht("event with ack id %d has timed out after %d ms",e,n),r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){ht("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:Mt.PacketType.CONNECT,data:e})}):this.packet({type:Mt.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){ht("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mt.PacketType.CONNECT:if(e.data&&e.data.sid){let i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.PacketType.EVENT:this.onevent(e);break;case Mt.PacketType.BINARY_EVENT:this.onevent(e);break;case Mt.PacketType.ACK:this.onack(e);break;case Mt.PacketType.BINARY_ACK:this.onack(e);break;case Mt.PacketType.DISCONNECT:this.ondisconnect();break;case Mt.PacketType.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];ht("emitting event %j",r),e.id!=null&&(ht("attaching ack callback to event"),r.push(this.ack(e.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e)}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,ht("sending ack %j",i),r.packet({type:Mt.PacketType.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];typeof r=="function"?(ht("calling ack %s with %j",e.id,e.data),r.apply(this,e.data),delete this.acks[e.id]):ht("bad ack %s",e.id)}onconnect(e){ht("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){ht("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(ht("performing disconnect (%s)",this.nsp),this.packet({type:Mt.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};rs.Socket=Hm});var $m=_((sk,zm)=>{zm.exports=ns;function ns(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ns.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ns.prototype.reset=function(){this.attempts=0};ns.prototype.setMin=function(t){this.ms=t};ns.prototype.setMax=function(t){this.max=t};ns.prototype.setJitter=function(t){this.jitter=t}});var Zm=_(qt=>{"use strict";var cC=qt&&qt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fC=qt&&qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lC=qt&&qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cC(e,t,r);return fC(e,t),e},Wm=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qt,"__esModule",{value:!0});qt.Manager=void 0;var Gm=Lm(),hC=Cl(),pC=lC(fu()),Xn=Tl(),dC=Wm($m()),yC=Qn(),gC=Wm($e()),He=gC.default("socket.io-client:manager"),Ym=class extends yC.Emitter{constructor(e,r){var n;super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Gm.installTimerFunctions(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new dC.default({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||pC;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(He("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;He("opening %s",this.uri),this.engine=new Gm.Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=Xn.on(r,"open",function(){n.onopen(),e&&e()}),s=Xn.on(r,"error",o=>{He("error"),n.cleanup(),n._readyState="closed",this.emitReserved("error",o),e?e(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){let o=this._timeout;He("connect attempt will timeout after %d",o),o===0&&i();let a=this.setTimeoutFn(()=>{He("connect attempt timed out after %d",o),i(),r.close(),r.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){He("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Xn.on(e,"ping",this.onping.bind(this)),Xn.on(e,"data",this.ondata.bind(this)),Xn.on(e,"error",this.onerror.bind(this)),Xn.on(e,"close",this.onclose.bind(this)),Xn.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){He("error",e),this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n||(n=new hC.Socket(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active){He("socket %s is still active, skipping close",n);return}this._close()}_packet(e){He("writing packet %j",e);let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){He("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){He("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){He("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)He("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();He("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(He("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(He("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(He("reconnect success"),e.onreconnect())}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};qt.Manager=Ym});var eb=_((Qe,Jm)=>{"use strict";var vC=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=Qe.connect=Qe.io=Qe.Socket=Qe.Manager=Qe.protocol=void 0;var mC=Jv(),pu=Zm();Object.defineProperty(Qe,"Manager",{enumerable:!0,get:function(){return pu.Manager}});var Qm=Cl();Object.defineProperty(Qe,"Socket",{enumerable:!0,get:function(){return Qm.Socket}});var bC=vC($e()),Xm=bC.default("socket.io-client"),po={};function Jn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=mC.url(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=po[i]&&s in po[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,u;return a?(Xm("ignoring socket cache for %s",n),u=new pu.Manager(n,e)):(po[i]||(Xm("new io instance for %s",n),po[i]=new pu.Manager(n,e)),u=po[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Qe.io=Jn;Qe.connect=Jn;Qe.default=Jn;Object.assign(Jn,{Manager:pu.Manager,Socket:Qm.Socket,io:Jn,connect:Jn});var wC=fu();Object.defineProperty(Qe,"protocol",{enumerable:!0,get:function(){return wC.protocol}});Jm.exports=Jn});var rb=_((ak,tb)=>{"use strict";var xC=()=>{let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t};tb.exports=xC});var du=_((uk,nb)=>{nb.exports=t=>{if(t[Symbol.asyncIterator])return t;if(t.getReader)return async function*(){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}();throw new Error("unknown stream")}});var Rl=_((ck,ib)=>{var _C=Nu();ib.exports=t=>async e=>{e=_C(e);let r=x=>{typeof x.return=="function"&&x.return()},n=null,i=null,s=x=>{n=x,i&&i(x),r(e)},o=null,a=!1,u=()=>{a=!0,o&&o()},c=null,f=!1,l=()=>{f=!0,c&&c()},p=null,v=()=>{p&&p()},y=()=>new Promise((x,B)=>{o=p=x,i=B,t.once("drain",v)}),m=()=>(r(e),new Promise((x,B)=>{if(a||f||n)return x();c=o=x,i=B})),E=()=>{t.removeListener("error",s),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("drain",v)};t.once("error",s),t.once("close",u),t.once("finish",l);try{for await(let x of e){if(!t.writable||t.destroyed||n)break;t.write(x)===!1&&await y()}}catch(x){n||t.destroy(),n=x}try{if(t.writable&&t.end(),await m(),n)throw n}finally{E()}}});var Il=_((fk,sb)=>{var EC=Rl(),SC=du();sb.exports=t=>({sink:EC(t),source:SC(t)})});var ab=_((lk,ob)=>{var BC=Il();ob.exports=t=>async function*(e){let r=BC(t),n;if(r.sink(e).catch(i=>{n=i}),yield*r.source,n)throw n}});var ub=_((hk,is)=>{is.exports=du();is.exports.source=du();is.exports.sink=Rl();is.exports.transform=ab();is.exports.duplex=Il()});var lb=_((pk,fb)=>{"use strict";function cb(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function AC(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return cb(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),cb(new i,r)}}fb.exports=AC});var kl=_(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.isCorrect=ss.isInSubnet=void 0;function TC(t){return this.subnetMask<t.subnetMask?!1:this.mask(t.subnetMask)===t.mask()}ss.isInSubnet=TC;function CC(t){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===t&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}ss.isCorrect=CC});var Pl=_(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.RE_SUBNET_STRING=_r.RE_ADDRESS=_r.GROUPS=_r.BITS=void 0;_r.BITS=32;_r.GROUPS=4;_r.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;_r.RE_SUBNET_STRING=/\/\d{1,2}$/});var yu=_(os=>{"use strict";var RC=os&&os.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(os,"__esModule",{value:!0});os.AddressError=void 0;var IC=function(t){RC(e,t);function e(r,n){var i=t.call(this,r)||this;return i.name="AddressError",n!==null&&(i.parseMessage=n),i}return e}(Error);os.AddressError=IC});var Dl=_((gu,hb)=>{(function(){var t,e=244837814094590,r=(e&16777215)==15715070;function n(h,d,g){h!=null&&(typeof h=="number"?this.fromNumber(h,d,g):d==null&&typeof h!="string"?this.fromString(h,256):this.fromString(h,d))}function i(){return new n(null)}function s(h,d,g,w,C,k){for(;--k>=0;){var O=d*this[h++]+g[w]+C;C=Math.floor(O/67108864),g[w++]=O&67108863}return C}function o(h,d,g,w,C,k){for(var O=d&32767,F=d>>15;--k>=0;){var ye=this[h]&32767,Oe=this[h++]>>15,mt=F*ye+Oe*O;ye=O*ye+((mt&32767)<<15)+g[w]+(C&1073741823),C=(ye>>>30)+(mt>>>15)+F*Oe+(C>>>30),g[w++]=ye&1073741823}return C}function a(h,d,g,w,C,k){for(var O=d&16383,F=d>>14;--k>=0;){var ye=this[h]&16383,Oe=this[h++]>>14,mt=F*ye+Oe*O;ye=O*ye+((mt&16383)<<14)+g[w]+C,C=(ye>>28)+(mt>>14)+F*Oe,g[w++]=ye&268435455}return C}var u=typeof navigator!="undefined";u&&r&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=o,t=30):u&&r&&navigator.appName!="Netscape"?(n.prototype.am=s,t=26):(n.prototype.am=a,t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;var c=52;n.prototype.FV=Math.pow(2,c),n.prototype.F1=c-t,n.prototype.F2=2*t-c;var f="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array,p,v;for(p="0".charCodeAt(0),v=0;v<=9;++v)l[p++]=v;for(p="a".charCodeAt(0),v=10;v<36;++v)l[p++]=v;for(p="A".charCodeAt(0),v=10;v<36;++v)l[p++]=v;function y(h){return f.charAt(h)}function m(h,d){var g=l[h.charCodeAt(d)];return g??-1}function E(h){for(var d=this.t-1;d>=0;--d)h[d]=this[d];h.t=this.t,h.s=this.s}function x(h){this.t=1,this.s=h<0?-1:0,h>0?this[0]=h:h<-1?this[0]=h+this.DV:this.t=0}function B(h){var d=i();return d.fromInt(h),d}function I(h,d){var g;if(d==16)g=4;else if(d==8)g=3;else if(d==256)g=8;else if(d==2)g=1;else if(d==32)g=5;else if(d==4)g=2;else{this.fromRadix(h,d);return}this.t=0,this.s=0;for(var w=h.length,C=!1,k=0;--w>=0;){var O=g==8?h[w]&255:m(h,w);if(O<0){h.charAt(w)=="-"&&(C=!0);continue}C=!1,k==0?this[this.t++]=O:k+g>this.DB?(this[this.t-1]|=(O&(1<<this.DB-k)-1)<<k,this[this.t++]=O>>this.DB-k):this[this.t-1]|=O<<k,k+=g,k>=this.DB&&(k-=this.DB)}g==8&&(h[0]&128)!=0&&(this.s=-1,k>0&&(this[this.t-1]|=(1<<this.DB-k)-1<<k)),this.clamp(),C&&n.ZERO.subTo(this,this)}function j(){for(var h=this.s&this.DM;this.t>0&&this[this.t-1]==h;)--this.t}function M(h){if(this.s<0)return"-"+this.negate().toString(h);var d;if(h==16)d=4;else if(h==8)d=3;else if(h==2)d=1;else if(h==32)d=5;else if(h==4)d=2;else return this.toRadix(h);var g=(1<<d)-1,w,C=!1,k="",O=this.t,F=this.DB-O*this.DB%d;if(O-- >0)for(F<this.DB&&(w=this[O]>>F)>0&&(C=!0,k=y(w));O>=0;)F<d?(w=(this[O]&(1<<F)-1)<<d-F,w|=this[--O]>>(F+=this.DB-d)):(w=this[O]>>(F-=d)&g,F<=0&&(F+=this.DB,--O)),w>0&&(C=!0),C&&(k+=y(w));return C?k:"0"}function N(){var h=i();return n.ZERO.subTo(this,h),h}function Y(){return this.s<0?this.negate():this}function X(h){var d=this.s-h.s;if(d!=0)return d;var g=this.t;if(d=g-h.t,d!=0)return this.s<0?-d:d;for(;--g>=0;)if((d=this[g]-h[g])!=0)return d;return 0}function ve(h){var d=1,g;return(g=h>>>16)!=0&&(h=g,d+=16),(g=h>>8)!=0&&(h=g,d+=8),(g=h>>4)!=0&&(h=g,d+=4),(g=h>>2)!=0&&(h=g,d+=2),(g=h>>1)!=0&&(h=g,d+=1),d}function pt(){return this.t<=0?0:this.DB*(this.t-1)+ve(this[this.t-1]^this.s&this.DM)}function Je(h,d){var g;for(g=this.t-1;g>=0;--g)d[g+h]=this[g];for(g=h-1;g>=0;--g)d[g]=0;d.t=this.t+h,d.s=this.s}function je(h,d){for(var g=h;g<this.t;++g)d[g-h]=this[g];d.t=Math.max(this.t-h,0),d.s=this.s}function jr(h,d){var g=h%this.DB,w=this.DB-g,C=(1<<w)-1,k=Math.floor(h/this.DB),O=this.s<<g&this.DM,F;for(F=this.t-1;F>=0;--F)d[F+k+1]=this[F]>>w|O,O=(this[F]&C)<<g;for(F=k-1;F>=0;--F)d[F]=0;d[k]=O,d.t=this.t+k+1,d.s=this.s,d.clamp()}function ni(h,d){d.s=this.s;var g=Math.floor(h/this.DB);if(g>=this.t){d.t=0;return}var w=h%this.DB,C=this.DB-w,k=(1<<w)-1;d[0]=this[g]>>w;for(var O=g+1;O<this.t;++O)d[O-g-1]|=(this[O]&k)<<C,d[O-g]=this[O]>>w;w>0&&(d[this.t-g-1]|=(this.s&k)<<C),d.t=this.t-g,d.clamp()}function Ee(h,d){for(var g=0,w=0,C=Math.min(h.t,this.t);g<C;)w+=this[g]-h[g],d[g++]=w&this.DM,w>>=this.DB;if(h.t<this.t){for(w-=h.s;g<this.t;)w+=this[g],d[g++]=w&this.DM,w>>=this.DB;w+=this.s}else{for(w+=this.s;g<h.t;)w-=h[g],d[g++]=w&this.DM,w>>=this.DB;w-=h.s}d.s=w<0?-1:0,w<-1?d[g++]=this.DV+w:w>0&&(d[g++]=w),d.t=g,d.clamp()}function ze(h,d){var g=this.abs(),w=h.abs(),C=g.t;for(d.t=C+w.t;--C>=0;)d[C]=0;for(C=0;C<w.t;++C)d[C+g.t]=g.am(0,w[C],d,C,0,g.t);d.s=0,d.clamp(),this.s!=h.s&&n.ZERO.subTo(d,d)}function V(h){for(var d=this.abs(),g=h.t=2*d.t;--g>=0;)h[g]=0;for(g=0;g<d.t-1;++g){var w=d.am(g,d[g],h,2*g,0,1);(h[g+d.t]+=d.am(g+1,2*d[g],h,2*g+1,w,d.t-g-1))>=d.DV&&(h[g+d.t]-=d.DV,h[g+d.t+1]=1)}h.t>0&&(h[h.t-1]+=d.am(g,d[g],h,2*g,0,1)),h.s=0,h.clamp()}function cs(h,d,g){var w=h.abs();if(!(w.t<=0)){var C=this.abs();if(C.t<w.t){d!=null&&d.fromInt(0),g!=null&&this.copyTo(g);return}g==null&&(g=i());var k=i(),O=this.s,F=h.s,ye=this.DB-ve(w[w.t-1]);ye>0?(w.lShiftTo(ye,k),C.lShiftTo(ye,g)):(w.copyTo(k),C.copyTo(g));var Oe=k.t,mt=k[Oe-1];if(mt!=0){var yt=mt*(1<<this.F1)+(Oe>1?k[Oe-2]>>this.F2:0),Br=this.FV/yt,bo=(1<<this.F1)/yt,jt=1<<this.F2,Vt=g.t,wo=Vt-Oe,Vr=d??i();for(k.dlShiftTo(wo,Vr),g.compareTo(Vr)>=0&&(g[g.t++]=1,g.subTo(Vr,g)),n.ONE.dlShiftTo(Oe,Vr),Vr.subTo(k,k);k.t<Oe;)k[k.t++]=0;for(;--wo>=0;){var Ru=g[--Vt]==mt?this.DM:Math.floor(g[Vt]*Br+(g[Vt-1]+jt)*bo);if((g[Vt]+=k.am(0,Ru,g,wo,0,Oe))<Ru)for(k.dlShiftTo(wo,Vr),g.subTo(Vr,g);g[Vt]<--Ru;)g.subTo(Vr,g)}d!=null&&(g.drShiftTo(Oe,d),O!=F&&n.ZERO.subTo(d,d)),g.t=Oe,g.clamp(),ye>0&&g.rShiftTo(ye,g),O<0&&n.ZERO.subTo(g,g)}}}function fs(h){var d=i();return this.abs().divRemTo(h,null,d),this.s<0&&d.compareTo(n.ZERO)>0&&h.subTo(d,d),d}function Ut(h){this.m=h}function ls(h){return h.s<0||h.compareTo(this.m)>=0?h.mod(this.m):h}function vo(h){return h}function Vb(h){h.divRemTo(this.m,null,h)}function Hb(h,d,g){h.multiplyTo(d,g),this.reduce(g)}function zb(h,d){h.squareTo(d),this.reduce(d)}Ut.prototype.convert=ls,Ut.prototype.revert=vo,Ut.prototype.reduce=Vb,Ut.prototype.mulTo=Hb,Ut.prototype.sqrTo=zb;function $b(){if(this.t<1)return 0;var h=this[0];if((h&1)==0)return 0;var d=h&3;return d=d*(2-(h&15)*d)&15,d=d*(2-(h&255)*d)&255,d=d*(2-((h&65535)*d&65535))&65535,d=d*(2-h*d%this.DV)%this.DV,d>0?this.DV-d:-d}function _n(h){this.m=h,this.mp=h.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<h.DB-15)-1,this.mt2=2*h.t}function Wb(h){var d=i();return h.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),h.s<0&&d.compareTo(n.ZERO)>0&&this.m.subTo(d,d),d}function Gb(h){var d=i();return h.copyTo(d),this.reduce(d),d}function Yb(h){for(;h.t<=this.mt2;)h[h.t++]=0;for(var d=0;d<this.m.t;++d){var g=h[d]&32767,w=g*this.mpl+((g*this.mph+(h[d]>>15)*this.mpl&this.um)<<15)&h.DM;for(g=d+this.m.t,h[g]+=this.m.am(0,w,h,d,0,this.m.t);h[g]>=h.DV;)h[g]-=h.DV,h[++g]++}h.clamp(),h.drShiftTo(this.m.t,h),h.compareTo(this.m)>=0&&h.subTo(this.m,h)}function Zb(h,d){h.squareTo(d),this.reduce(d)}function Qb(h,d,g){h.multiplyTo(d,g),this.reduce(g)}_n.prototype.convert=Wb,_n.prototype.revert=Gb,_n.prototype.reduce=Yb,_n.prototype.mulTo=Qb,_n.prototype.sqrTo=Zb;function Xb(){return(this.t>0?this[0]&1:this.s)==0}function Jb(h,d){if(h>4294967295||h<1)return n.ONE;var g=i(),w=i(),C=d.convert(this),k=ve(h)-1;for(C.copyTo(g);--k>=0;)if(d.sqrTo(g,w),(h&1<<k)>0)d.mulTo(w,C,g);else{var O=g;g=w,w=O}return d.revert(g)}function e2(h,d){var g;return h<256||d.isEven()?g=new Ut(d):g=new _n(d),this.exp(h,g)}n.prototype.copyTo=E,n.prototype.fromInt=x,n.prototype.fromString=I,n.prototype.clamp=j,n.prototype.dlShiftTo=Je,n.prototype.drShiftTo=je,n.prototype.lShiftTo=jr,n.prototype.rShiftTo=ni,n.prototype.subTo=Ee,n.prototype.multiplyTo=ze,n.prototype.squareTo=V,n.prototype.divRemTo=cs,n.prototype.invDigit=$b,n.prototype.isEven=Xb,n.prototype.exp=Jb,n.prototype.toString=M,n.prototype.negate=N,n.prototype.abs=Y,n.prototype.compareTo=X,n.prototype.bitLength=pt,n.prototype.mod=fs,n.prototype.modPowInt=e2,n.ZERO=B(0),n.ONE=B(1);function t2(){var h=i();return this.copyTo(h),h}function r2(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function n2(){return this.t==0?this.s:this[0]<<24>>24}function i2(){return this.t==0?this.s:this[0]<<16>>16}function s2(h){return Math.floor(Math.LN2*this.DB/Math.log(h))}function o2(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function a2(h){if(h==null&&(h=10),this.signum()==0||h<2||h>36)return"0";var d=this.chunkSize(h),g=Math.pow(h,d),w=B(g),C=i(),k=i(),O="";for(this.divRemTo(w,C,k);C.signum()>0;)O=(g+k.intValue()).toString(h).substr(1)+O,C.divRemTo(w,C,k);return k.intValue().toString(h)+O}function u2(h,d){this.fromInt(0),d==null&&(d=10);for(var g=this.chunkSize(d),w=Math.pow(d,g),C=!1,k=0,O=0,F=0;F<h.length;++F){var ye=m(h,F);if(ye<0){h.charAt(F)=="-"&&this.signum()==0&&(C=!0);continue}O=d*O+ye,++k>=g&&(this.dMultiply(w),this.dAddOffset(O,0),k=0,O=0)}k>0&&(this.dMultiply(Math.pow(d,k)),this.dAddOffset(O,0)),C&&n.ZERO.subTo(this,this)}function c2(h,d,g){if(typeof d=="number")if(h<2)this.fromInt(1);else for(this.fromNumber(h,g),this.testBit(h-1)||this.bitwiseTo(n.ONE.shiftLeft(h-1),Bu,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(d);)this.dAddOffset(2,0),this.bitLength()>h&&this.subTo(n.ONE.shiftLeft(h-1),this);else{var w=new Array,C=h&7;w.length=(h>>3)+1,d.nextBytes(w),C>0?w[0]&=(1<<C)-1:w[0]=0,this.fromString(w,256)}}function f2(){var h=this.t,d=new Array;d[0]=this.s;var g=this.DB-h*this.DB%8,w,C=0;if(h-- >0)for(g<this.DB&&(w=this[h]>>g)!=(this.s&this.DM)>>g&&(d[C++]=w|this.s<<this.DB-g);h>=0;)g<8?(w=(this[h]&(1<<g)-1)<<8-g,w|=this[--h]>>(g+=this.DB-8)):(w=this[h]>>(g-=8)&255,g<=0&&(g+=this.DB,--h)),(w&128)!=0&&(w|=-256),C==0&&(this.s&128)!=(w&128)&&++C,(C>0||w!=this.s)&&(d[C++]=w);return d}function l2(h){return this.compareTo(h)==0}function h2(h){return this.compareTo(h)<0?this:h}function p2(h){return this.compareTo(h)>0?this:h}function d2(h,d,g){var w,C,k=Math.min(h.t,this.t);for(w=0;w<k;++w)g[w]=d(this[w],h[w]);if(h.t<this.t){for(C=h.s&this.DM,w=k;w<this.t;++w)g[w]=d(this[w],C);g.t=this.t}else{for(C=this.s&this.DM,w=k;w<h.t;++w)g[w]=d(C,h[w]);g.t=h.t}g.s=d(this.s,h.s),g.clamp()}function y2(h,d){return h&d}function g2(h){var d=i();return this.bitwiseTo(h,y2,d),d}function Bu(h,d){return h|d}function v2(h){var d=i();return this.bitwiseTo(h,Bu,d),d}function Hl(h,d){return h^d}function m2(h){var d=i();return this.bitwiseTo(h,Hl,d),d}function zl(h,d){return h&~d}function b2(h){var d=i();return this.bitwiseTo(h,zl,d),d}function w2(){for(var h=i(),d=0;d<this.t;++d)h[d]=this.DM&~this[d];return h.t=this.t,h.s=~this.s,h}function x2(h){var d=i();return h<0?this.rShiftTo(-h,d):this.lShiftTo(h,d),d}function _2(h){var d=i();return h<0?this.lShiftTo(-h,d):this.rShiftTo(h,d),d}function E2(h){if(h==0)return-1;var d=0;return(h&65535)==0&&(h>>=16,d+=16),(h&255)==0&&(h>>=8,d+=8),(h&15)==0&&(h>>=4,d+=4),(h&3)==0&&(h>>=2,d+=2),(h&1)==0&&++d,d}function S2(){for(var h=0;h<this.t;++h)if(this[h]!=0)return h*this.DB+E2(this[h]);return this.s<0?this.t*this.DB:-1}function B2(h){for(var d=0;h!=0;)h&=h-1,++d;return d}function A2(){for(var h=0,d=this.s&this.DM,g=0;g<this.t;++g)h+=B2(this[g]^d);return h}function T2(h){var d=Math.floor(h/this.DB);return d>=this.t?this.s!=0:(this[d]&1<<h%this.DB)!=0}function C2(h,d){var g=n.ONE.shiftLeft(h);return this.bitwiseTo(g,d,g),g}function R2(h){return this.changeBit(h,Bu)}function I2(h){return this.changeBit(h,zl)}function k2(h){return this.changeBit(h,Hl)}function P2(h,d){for(var g=0,w=0,C=Math.min(h.t,this.t);g<C;)w+=this[g]+h[g],d[g++]=w&this.DM,w>>=this.DB;if(h.t<this.t){for(w+=h.s;g<this.t;)w+=this[g],d[g++]=w&this.DM,w>>=this.DB;w+=this.s}else{for(w+=this.s;g<h.t;)w+=h[g],d[g++]=w&this.DM,w>>=this.DB;w+=h.s}d.s=w<0?-1:0,w>0?d[g++]=w:w<-1&&(d[g++]=this.DV+w),d.t=g,d.clamp()}function D2(h){var d=i();return this.addTo(h,d),d}function N2(h){var d=i();return this.subTo(h,d),d}function O2(h){var d=i();return this.multiplyTo(h,d),d}function L2(){var h=i();return this.squareTo(h),h}function M2(h){var d=i();return this.divRemTo(h,d,null),d}function q2(h){var d=i();return this.divRemTo(h,null,d),d}function F2(h){var d=i(),g=i();return this.divRemTo(h,d,g),new Array(d,g)}function U2(h){this[this.t]=this.am(0,h-1,this,0,0,this.t),++this.t,this.clamp()}function K2(h,d){if(h!=0){for(;this.t<=d;)this[this.t++]=0;for(this[d]+=h;this[d]>=this.DV;)this[d]-=this.DV,++d>=this.t&&(this[this.t++]=0),++this[d]}}function hs(){}function $l(h){return h}function j2(h,d,g){h.multiplyTo(d,g)}function V2(h,d){h.squareTo(d)}hs.prototype.convert=$l,hs.prototype.revert=$l,hs.prototype.mulTo=j2,hs.prototype.sqrTo=V2;function H2(h){return this.exp(h,new hs)}function z2(h,d,g){var w=Math.min(this.t+h.t,d);for(g.s=0,g.t=w;w>0;)g[--w]=0;var C;for(C=g.t-this.t;w<C;++w)g[w+this.t]=this.am(0,h[w],g,w,0,this.t);for(C=Math.min(h.t,d);w<C;++w)this.am(0,h[w],g,w,0,d-w);g.clamp()}function $2(h,d,g){--d;var w=g.t=this.t+h.t-d;for(g.s=0;--w>=0;)g[w]=0;for(w=Math.max(d-this.t,0);w<h.t;++w)g[this.t+w-d]=this.am(d-w,h[w],g,0,0,this.t+w-d);g.clamp(),g.drShiftTo(1,g)}function En(h){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*h.t,this.r2),this.mu=this.r2.divide(h),this.m=h}function W2(h){if(h.s<0||h.t>2*this.m.t)return h.mod(this.m);if(h.compareTo(this.m)<0)return h;var d=i();return h.copyTo(d),this.reduce(d),d}function G2(h){return h}function Y2(h){for(h.drShiftTo(this.m.t-1,this.r2),h.t>this.m.t+1&&(h.t=this.m.t+1,h.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);h.compareTo(this.r2)<0;)h.dAddOffset(1,this.m.t+1);for(h.subTo(this.r2,h);h.compareTo(this.m)>=0;)h.subTo(this.m,h)}function Z2(h,d){h.squareTo(d),this.reduce(d)}function Q2(h,d,g){h.multiplyTo(d,g),this.reduce(g)}En.prototype.convert=W2,En.prototype.revert=G2,En.prototype.reduce=Y2,En.prototype.mulTo=Q2,En.prototype.sqrTo=Z2;function X2(h,d){var g=h.bitLength(),w,C=B(1),k;if(g<=0)return C;g<18?w=1:g<48?w=3:g<144?w=4:g<768?w=5:w=6,g<8?k=new Ut(d):d.isEven()?k=new En(d):k=new _n(d);var O=new Array,F=3,ye=w-1,Oe=(1<<w)-1;if(O[1]=k.convert(this),w>1){var mt=i();for(k.sqrTo(O[1],mt);F<=Oe;)O[F]=i(),k.mulTo(mt,O[F-2],O[F]),F+=2}var yt=h.t-1,Br,bo=!0,jt=i(),Vt;for(g=ve(h[yt])-1;yt>=0;){for(g>=ye?Br=h[yt]>>g-ye&Oe:(Br=(h[yt]&(1<<g+1)-1)<<ye-g,yt>0&&(Br|=h[yt-1]>>this.DB+g-ye)),F=w;(Br&1)==0;)Br>>=1,--F;if((g-=F)<0&&(g+=this.DB,--yt),bo)O[Br].copyTo(C),bo=!1;else{for(;F>1;)k.sqrTo(C,jt),k.sqrTo(jt,C),F-=2;F>0?k.sqrTo(C,jt):(Vt=C,C=jt,jt=Vt),k.mulTo(jt,O[Br],C)}for(;yt>=0&&(h[yt]&1<<g)==0;)k.sqrTo(C,jt),Vt=C,C=jt,jt=Vt,--g<0&&(g=this.DB-1,--yt)}return k.revert(C)}function J2(h){var d=this.s<0?this.negate():this.clone(),g=h.s<0?h.negate():h.clone();if(d.compareTo(g)<0){var w=d;d=g,g=w}var C=d.getLowestSetBit(),k=g.getLowestSetBit();if(k<0)return d;for(C<k&&(k=C),k>0&&(d.rShiftTo(k,d),g.rShiftTo(k,g));d.signum()>0;)(C=d.getLowestSetBit())>0&&d.rShiftTo(C,d),(C=g.getLowestSetBit())>0&&g.rShiftTo(C,g),d.compareTo(g)>=0?(d.subTo(g,d),d.rShiftTo(1,d)):(g.subTo(d,g),g.rShiftTo(1,g));return k>0&&g.lShiftTo(k,g),g}function ew(h){if(h<=0)return 0;var d=this.DV%h,g=this.s<0?h-1:0;if(this.t>0)if(d==0)g=this[0]%h;else for(var w=this.t-1;w>=0;--w)g=(d*g+this[w])%h;return g}function tw(h){var d=h.isEven();if(this.isEven()&&d||h.signum()==0)return n.ZERO;for(var g=h.clone(),w=this.clone(),C=B(1),k=B(0),O=B(0),F=B(1);g.signum()!=0;){for(;g.isEven();)g.rShiftTo(1,g),d?((!C.isEven()||!k.isEven())&&(C.addTo(this,C),k.subTo(h,k)),C.rShiftTo(1,C)):k.isEven()||k.subTo(h,k),k.rShiftTo(1,k);for(;w.isEven();)w.rShiftTo(1,w),d?((!O.isEven()||!F.isEven())&&(O.addTo(this,O),F.subTo(h,F)),O.rShiftTo(1,O)):F.isEven()||F.subTo(h,F),F.rShiftTo(1,F);g.compareTo(w)>=0?(g.subTo(w,g),d&&C.subTo(O,C),k.subTo(F,k)):(w.subTo(g,w),d&&O.subTo(C,O),F.subTo(k,F))}if(w.compareTo(n.ONE)!=0)return n.ZERO;if(F.compareTo(h)>=0)return F.subtract(h);if(F.signum()<0)F.addTo(h,F);else return F;return F.signum()<0?F.add(h):F}var et=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],rw=(1<<26)/et[et.length-1];function nw(h){var d,g=this.abs();if(g.t==1&&g[0]<=et[et.length-1]){for(d=0;d<et.length;++d)if(g[0]==et[d])return!0;return!1}if(g.isEven())return!1;for(d=1;d<et.length;){for(var w=et[d],C=d+1;C<et.length&&w<rw;)w*=et[C++];for(w=g.modInt(w);d<C;)if(w%et[d++]==0)return!1}return g.millerRabin(h)}function iw(h){var d=this.subtract(n.ONE),g=d.getLowestSetBit();if(g<=0)return!1;var w=d.shiftRight(g);h=h+1>>1,h>et.length&&(h=et.length);for(var C=i(),k=0;k<h;++k){C.fromInt(et[Math.floor(Math.random()*et.length)]);var O=C.modPow(w,this);if(O.compareTo(n.ONE)!=0&&O.compareTo(d)!=0){for(var F=1;F++<g&&O.compareTo(d)!=0;)if(O=O.modPowInt(2,this),O.compareTo(n.ONE)==0)return!1;if(O.compareTo(d)!=0)return!1}}return!0}n.prototype.chunkSize=s2,n.prototype.toRadix=a2,n.prototype.fromRadix=u2,n.prototype.fromNumber=c2,n.prototype.bitwiseTo=d2,n.prototype.changeBit=C2,n.prototype.addTo=P2,n.prototype.dMultiply=U2,n.prototype.dAddOffset=K2,n.prototype.multiplyLowerTo=z2,n.prototype.multiplyUpperTo=$2,n.prototype.modInt=ew,n.prototype.millerRabin=iw,n.prototype.clone=t2,n.prototype.intValue=r2,n.prototype.byteValue=n2,n.prototype.shortValue=i2,n.prototype.signum=o2,n.prototype.toByteArray=f2,n.prototype.equals=l2,n.prototype.min=h2,n.prototype.max=p2,n.prototype.and=g2,n.prototype.or=v2,n.prototype.xor=m2,n.prototype.andNot=b2,n.prototype.not=w2,n.prototype.shiftLeft=x2,n.prototype.shiftRight=_2,n.prototype.getLowestSetBit=S2,n.prototype.bitCount=A2,n.prototype.testBit=T2,n.prototype.setBit=R2,n.prototype.clearBit=I2,n.prototype.flipBit=k2,n.prototype.add=D2,n.prototype.subtract=N2,n.prototype.multiply=O2,n.prototype.divide=M2,n.prototype.remainder=q2,n.prototype.divideAndRemainder=F2,n.prototype.modPow=X2,n.prototype.modInverse=tw,n.prototype.pow=H2,n.prototype.gcd=J2,n.prototype.isProbablePrime=nw,n.prototype.square=L2,n.prototype.Barrett=En;var mo,dt,Ne;function sw(h){dt[Ne++]^=h&255,dt[Ne++]^=h>>8&255,dt[Ne++]^=h>>16&255,dt[Ne++]^=h>>24&255,Ne>=Cu&&(Ne-=Cu)}function Wl(){sw(new Date().getTime())}if(dt==null){dt=new Array,Ne=0;var Kt;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var Gl=new Uint8Array(32);for(window.crypto.getRandomValues(Gl),Kt=0;Kt<32;++Kt)dt[Ne++]=Gl[Kt]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Yl=window.crypto.random(32);for(Kt=0;Kt<Yl.length;++Kt)dt[Ne++]=Yl.charCodeAt(Kt)&255}}for(;Ne<Cu;)Kt=Math.floor(65536*Math.random()),dt[Ne++]=Kt>>>8,dt[Ne++]=Kt&255;Ne=0,Wl()}function ow(){if(mo==null){for(Wl(),mo=fw(),mo.init(dt),Ne=0;Ne<dt.length;++Ne)dt[Ne]=0;Ne=0}return mo.next()}function aw(h){var d;for(d=0;d<h.length;++d)h[d]=ow()}function Au(){}Au.prototype.nextBytes=aw;function Tu(){this.i=0,this.j=0,this.S=new Array}function uw(h){var d,g,w;for(d=0;d<256;++d)this.S[d]=d;for(g=0,d=0;d<256;++d)g=g+this.S[d]+h[d%h.length]&255,w=this.S[d],this.S[d]=this.S[g],this.S[g]=w;this.i=0,this.j=0}function cw(){var h;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,h=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=h,this.S[h+this.S[this.i]&255]}Tu.prototype.init=uw,Tu.prototype.next=cw;function fw(){return new Tu}var Cu=256;typeof gu!="undefined"?gu=hb.exports={default:n,BigInteger:n,SecureRandom:Au}:this.jsbn={BigInteger:n,SecureRandom:Au}}).call(gu)});var yo=_(vu=>{(function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(o){return n(s(o),arguments)}function r(o,a){return e.apply(null,[o].concat(a||[]))}function n(o,a){var u=1,c=o.length,f,l="",p,v,y,m,E,x,B,I;for(p=0;p<c;p++)if(typeof o[p]=="string")l+=o[p];else if(typeof o[p]=="object"){if(y=o[p],y.keys)for(f=a[u],v=0;v<y.keys.length;v++){if(f==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[v],y.keys[v-1]));f=f[y.keys[v]]}else y.param_no?f=a[y.param_no]:f=a[u++];if(t.not_type.test(y.type)&&t.not_primitive.test(y.type)&&f instanceof Function&&(f=f()),t.numeric_arg.test(y.type)&&typeof f!="number"&&isNaN(f))throw new TypeError(e("[sprintf] expecting number but found %T",f));switch(t.number.test(y.type)&&(B=f>=0),y.type){case"b":f=parseInt(f,10).toString(2);break;case"c":f=String.fromCharCode(parseInt(f,10));break;case"d":case"i":f=parseInt(f,10);break;case"j":f=JSON.stringify(f,null,y.width?parseInt(y.width):0);break;case"e":f=y.precision?parseFloat(f).toExponential(y.precision):parseFloat(f).toExponential();break;case"f":f=y.precision?parseFloat(f).toFixed(y.precision):parseFloat(f);break;case"g":f=y.precision?String(Number(f.toPrecision(y.precision))):parseFloat(f);break;case"o":f=(parseInt(f,10)>>>0).toString(8);break;case"s":f=String(f),f=y.precision?f.substring(0,y.precision):f;break;case"t":f=String(!!f),f=y.precision?f.substring(0,y.precision):f;break;case"T":f=Object.prototype.toString.call(f).slice(8,-1).toLowerCase(),f=y.precision?f.substring(0,y.precision):f;break;case"u":f=parseInt(f,10)>>>0;break;case"v":f=f.valueOf(),f=y.precision?f.substring(0,y.precision):f;break;case"x":f=(parseInt(f,10)>>>0).toString(16);break;case"X":f=(parseInt(f,10)>>>0).toString(16).toUpperCase();break}t.json.test(y.type)?l+=f:(t.number.test(y.type)&&(!B||y.sign)?(I=B?"+":"-",f=f.toString().replace(t.sign,"")):I="",E=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",x=y.width-(I+f).length,m=y.width&&x>0?E.repeat(x):"",l+=y.align?I+f+m:E==="0"?I+m+f:m+I+f)}return l}var i=Object.create(null);function s(o){if(i[o])return i[o];for(var a=o,u,c=[],f=0;a;){if((u=t.text.exec(a))!==null)c.push(u[0]);else if((u=t.modulo.exec(a))!==null)c.push("%");else if((u=t.placeholder.exec(a))!==null){if(u[2]){f|=1;var l=[],p=u[2],v=[];if((v=t.key.exec(p))!==null)for(l.push(v[1]);(p=p.substring(v[0].length))!=="";)if((v=t.key_access.exec(p))!==null)l.push(v[1]);else if((v=t.index_access.exec(p))!==null)l.push(v[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");u[2]=l}else f|=2;if(f===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:u[0],param_no:u[1],keys:u[2],sign:u[3],pad_char:u[4],align:u[5],width:u[6],precision:u[7],type:u[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(u[0].length)}return i[o]=c}typeof vu!="undefined"&&(vu.sprintf=e,vu.vsprintf=r),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:e,vsprintf:r}}))})()});var Nl=_(Er=>{"use strict";var kC=Er&&Er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PC=Er&&Er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pb=Er&&Er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kC(e,t,r);return PC(e,t),e};Object.defineProperty(Er,"__esModule",{value:!0});Er.Address4=void 0;var db=pb(kl()),Xt=pb(Pl()),yb=yu(),go=Dl(),as=yo(),DC=function(){function t(e){this.groups=Xt.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=db.isCorrect(Xt.BITS),this.isInSubnet=db.isInSubnet,this.address=e;var r=Xt.RE_SUBNET_STRING.exec(e);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>Xt.BITS)throw new yb.AddressError("Invalid subnet mask.");e=e.replace(Xt.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}return t.isValid=function(e){try{return new t(e),!0}catch(r){return!1}},t.prototype.parse=function(e){var r=e.split(".");if(!e.match(Xt.RE_ADDRESS))throw new yb.AddressError("Invalid IPv4 address.");return r},t.prototype.correctForm=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)}).join(".")},t.fromHex=function(e){var r=e.replace(/:/g,"").padStart(8,"0"),n=[],i;for(i=0;i<8;i+=2){var s=r.slice(i,i+2);n.push(parseInt(s,16))}return new t(n.join("."))},t.fromInteger=function(e){return t.fromHex(e.toString(16))},t.fromArpa=function(e){var r=e.replace(/(\.in-addr\.arpa)?\.$/,""),n=r.split(".").reverse().join(".");return new t(n)},t.prototype.toHex=function(){return this.parsedAddress.map(function(e){return as.sprintf("%02x",parseInt(e,10))}).join(":")},t.prototype.toArray=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)})},t.prototype.toGroup6=function(){var e=[],r;for(r=0;r<Xt.GROUPS;r+=2){var n=as.sprintf("%02x%02x",parseInt(this.parsedAddress[r],10),parseInt(this.parsedAddress[r+1],10));e.push(as.sprintf("%x",parseInt(n,16)))}return e.join(":")},t.prototype.bigInteger=function(){return new go.BigInteger(this.parsedAddress.map(function(e){return as.sprintf("%02x",parseInt(e,10))}).join(""),16)},t.prototype._startAddress=function(){return new go.BigInteger(this.mask()+"0".repeat(Xt.BITS-this.subnetMask),2)},t.prototype.startAddress=function(){return t.fromBigInteger(this._startAddress())},t.prototype.startAddressExclusive=function(){var e=new go.BigInteger("1");return t.fromBigInteger(this._startAddress().add(e))},t.prototype._endAddress=function(){return new go.BigInteger(this.mask()+"1".repeat(Xt.BITS-this.subnetMask),2)},t.prototype.endAddress=function(){return t.fromBigInteger(this._endAddress())},t.prototype.endAddressExclusive=function(){var e=new go.BigInteger("1");return t.fromBigInteger(this._endAddress().subtract(e))},t.fromBigInteger=function(e){return t.fromInteger(parseInt(e.toString(),10))},t.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},t.prototype.getBitsBase2=function(e,r){return this.binaryZeroPad().slice(e,r)},t.prototype.reverseForm=function(e){e||(e={});var r=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?r:as.sprintf("%s.in-addr.arpa.",r)},t.prototype.isMulticast=function(){return this.isInSubnet(new t("224.0.0.0/4"))},t.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(Xt.BITS,"0")},t.prototype.groupForV6=function(){var e=this.parsedAddress;return this.address.replace(Xt.RE_ADDRESS,as.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))},t}();Er.Address4=DC});var Ol=_(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.RE_URL_WITH_PORT=Ae.RE_URL=Ae.RE_ZONE_STRING=Ae.RE_SUBNET_STRING=Ae.RE_BAD_ADDRESS=Ae.RE_BAD_CHARACTERS=Ae.TYPES=Ae.SCOPES=Ae.GROUPS=Ae.BITS=void 0;Ae.BITS=128;Ae.GROUPS=8;Ae.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};Ae.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};Ae.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;Ae.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;Ae.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;Ae.RE_ZONE_STRING=/%.*$/;Ae.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);Ae.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var Ll=_(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.simpleGroup=Sr.spanLeadingZeroes=Sr.spanAll=Sr.spanAllZeroes=void 0;var gb=yo();function vb(t){return t.replace(/(0+)/g,'<span class="zero">$1</span>')}Sr.spanAllZeroes=vb;function NC(t,e){e===void 0&&(e=0);var r=t.split("");return r.map(function(n,i){return gb.sprintf('<span class="digit value-%s position-%d">%s</span>',n,i+e,vb(n))}).join("")}Sr.spanAll=NC;function mb(t){return t.replace(/^(0+)/,'<span class="zero">$1</span>')}function OC(t){var e=t.split(":");return e.map(function(r){return mb(r)}).join(":")}Sr.spanLeadingZeroes=OC;function LC(t,e){e===void 0&&(e=0);var r=t.split(":");return r.map(function(n,i){return/group-v4/.test(n)?n:gb.sprintf('<span class="hover-group group-%d">%s</span>',i+e,mb(n))})}Sr.simpleGroup=LC});var bb=_(Ke=>{"use strict";var MC=Ke&&Ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qC=Ke&&Ke.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FC=Ke&&Ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MC(e,t,r);return qC(e,t),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.possibleElisions=Ke.simpleRegularExpression=Ke.ADDRESS_BOUNDARY=Ke.padGroup=Ke.groupPossibilities=void 0;var UC=FC(Ol()),us=yo();function mu(t){return us.sprintf("(%s)",t.join("|"))}Ke.groupPossibilities=mu;function bu(t){return t.length<4?us.sprintf("0{0,%d}%s",4-t.length,t):t}Ke.padGroup=bu;Ke.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function KC(t){var e=[];t.forEach(function(n,i){var s=parseInt(n,16);s===0&&e.push(i)});var r=e.map(function(n){return t.map(function(i,s){if(s===n){var o=s===0||s===UC.GROUPS-1?":":"";return mu([bu(i),o])}return bu(i)}).join(":")});return r.push(t.map(bu).join(":")),mu(r)}Ke.simpleRegularExpression=KC;function jC(t,e,r){var n=e?"":":",i=r?"":":",s=[];!e&&!r&&s.push("::"),e&&r&&s.push(""),(r&&!e||!r&&e)&&s.push(":"),s.push(us.sprintf("%s(:0{1,4}){1,%d}",n,t-1)),s.push(us.sprintf("(0{1,4}:){1,%d}%s",t-1,i)),s.push(us.sprintf("(0{1,4}:){%d}0{1,4}",t-1));for(var o=1;o<t-1;o++)for(var a=1;a<t-o;a++)s.push(us.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",a,t-a-o-1));return mu(s)}Ke.possibleElisions=jC});var Sb=_(Ft=>{"use strict";var VC=Ft&&Ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HC=Ft&&Ft.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wu=Ft&&Ft.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VC(e,t,r);return HC(e,t),e},wb=Ft&&Ft.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Address6=void 0;var xb=wu(kl()),Ml=wu(Pl()),de=wu(Ol()),ql=wu(Ll()),ei=Nl(),ti=bb(),Ur=yu(),ot=Dl(),at=yo();function xu(t){if(!t)throw new Error("Assertion failed.")}function zC(t){for(var e=/(\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}function $C(t){return t=t.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),t=t.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),t}function WC(t,e){var r=[],n=[],i;for(i=0;i<t.length;i++)i<e[0]?r.push(t[i]):i>e[1]&&n.push(t[i]);return r.concat(["compact"]).concat(n)}function _b(t){return at.sprintf("%04x",parseInt(t,16))}function Eb(t){return t&255}var GC=function(){function t(e,r){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=xb.isInSubnet,this.isCorrect=xb.isCorrect(de.BITS),r===void 0?this.groups=de.GROUPS:this.groups=r,this.address=e;var n=de.RE_SUBNET_STRING.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>de.BITS)throw new Ur.AddressError("Invalid subnet mask.");e=e.replace(de.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new Ur.AddressError("Invalid subnet mask.");var i=de.RE_ZONE_STRING.exec(e);i&&(this.zone=i[0],e=e.replace(de.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}return t.isValid=function(e){try{return new t(e),!0}catch(r){return!1}},t.fromBigInteger=function(e){var r=e.toString(16).padStart(32,"0"),n=[],i;for(i=0;i<de.GROUPS;i++)n.push(r.slice(i*4,(i+1)*4));return new t(n.join(":"))},t.fromURL=function(e){var r,n=null,i;if(e.indexOf("[")!==-1&&e.indexOf("]:")!==-1){if(i=de.RE_URL_WITH_PORT.exec(e),i===null)return{error:"failed to parse address with port",address:null,port:null};r=i[1],n=i[2]}else if(e.indexOf("/")!==-1){if(e=e.replace(/^[a-z0-9]+:\/\//,""),i=de.RE_URL.exec(e),i===null)return{error:"failed to parse address from URL",address:null,port:null};r=i[1]}else r=e;return n?(n=parseInt(n,10),(n<0||n>65536)&&(n=null)):n=null,{address:new t(r),port:n}},t.fromAddress4=function(e){var r=new ei.Address4(e),n=de.BITS-(Ml.BITS-r.subnetMask);return new t("::ffff:"+r.correctForm()+"/"+n)},t.fromArpa=function(e){var r=e.replace(/(\.ip6\.arpa)?\.$/,""),n=7;if(r.length!==63)throw new Ur.AddressError("Invalid 'ip6.arpa' form.");for(var i=r.split(".").reverse(),s=n;s>0;s--){var o=s*4;i.splice(o,0,":")}return r=i.join(""),new t(r)},t.prototype.microsoftTranscription=function(){return at.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},t.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},t.prototype.possibleSubnets=function(e){e===void 0&&(e=128);var r=de.BITS-this.subnetMask,n=Math.abs(e-de.BITS),i=r-n;return i<0?"0":zC(new ot.BigInteger("2",10).pow(i).toString(10))},t.prototype._startAddress=function(){return new ot.BigInteger(this.mask()+"0".repeat(de.BITS-this.subnetMask),2)},t.prototype.startAddress=function(){return t.fromBigInteger(this._startAddress())},t.prototype.startAddressExclusive=function(){var e=new ot.BigInteger("1");return t.fromBigInteger(this._startAddress().add(e))},t.prototype._endAddress=function(){return new ot.BigInteger(this.mask()+"1".repeat(de.BITS-this.subnetMask),2)},t.prototype.endAddress=function(){return t.fromBigInteger(this._endAddress())},t.prototype.endAddressExclusive=function(){var e=new ot.BigInteger("1");return t.fromBigInteger(this._endAddress().subtract(e))},t.prototype.getScope=function(){var e=de.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&e!=="Link local"&&(e="Global"),e||"Unknown"},t.prototype.getType=function(){for(var e=0,r=Object.keys(de.TYPES);e<r.length;e++){var n=r[e];if(this.isInSubnet(new t(n)))return de.TYPES[n]}return"Global unicast"},t.prototype.getBits=function(e,r){return new ot.BigInteger(this.getBitsBase2(e,r),2)},t.prototype.getBitsBase2=function(e,r){return this.binaryZeroPad().slice(e,r)},t.prototype.getBitsBase16=function(e,r){var n=r-e;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,r).toString(16).padStart(n/4,"0")},t.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,de.BITS)},t.prototype.reverseForm=function(e){e||(e={});var r=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,r).reverse().join(".");return r>0?e.omitSuffix?n:at.sprintf("%s.ip6.arpa.",n):e.omitSuffix?"":"ip6.arpa."},t.prototype.correctForm=function(){var e,r=[],n=0,i=[];for(e=0;e<this.parsedAddress.length;e++){var s=parseInt(this.parsedAddress[e],16);s===0&&n++,s!==0&&n>0&&(n>1&&i.push([e-n,e-1]),n=0)}n>1&&i.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);var o=i.map(function(c){return c[1]-c[0]+1});if(i.length>0){var a=o.indexOf(Math.max.apply(Math,o));r=WC(this.parsedAddress,i[a])}else r=this.parsedAddress;for(e=0;e<r.length;e++)r[e]!=="compact"&&(r[e]=parseInt(r[e],16).toString(16));var u=r.join(":");return u=u.replace(/^compact$/,"::"),u=u.replace(/^compact|compact$/,":"),u=u.replace(/compact/,""),u},t.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(de.BITS,"0")},t.prototype.parse4in6=function(e){var r=e.split(":"),n=r.slice(-1)[0],i=n.match(Ml.RE_ADDRESS);if(i){this.parsedAddress4=i[0],this.address4=new ei.Address4(this.parsedAddress4);for(var s=0;s<this.address4.groups;s++)if(/^0[0-9]+/.test(this.address4.parsedAddress[s]))throw new Ur.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(Ml.RE_ADDRESS,this.address4.parsedAddress.map($C).join(".")));this.v4=!0,r[r.length-1]=this.address4.toGroup6(),e=r.join(":")}return e},t.prototype.parse=function(e){e=this.parse4in6(e);var r=e.match(de.RE_BAD_CHARACTERS);if(r)throw new Ur.AddressError(at.sprintf("Bad character%s detected in address: %s",r.length>1?"s":"",r.join("")),e.replace(de.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var n=e.match(de.RE_BAD_ADDRESS);if(n)throw new Ur.AddressError(at.sprintf("Address failed regex: %s",n.join("")),e.replace(de.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var i=[],s=e.split("::");if(s.length===2){var o=s[0].split(":"),a=s[1].split(":");o.length===1&&o[0]===""&&(o=[]),a.length===1&&a[0]===""&&(a=[]);var u=this.groups-(o.length+a.length);if(!u)throw new Ur.AddressError("Error parsing groups");this.elidedGroups=u,this.elisionBegin=o.length,this.elisionEnd=o.length+this.elidedGroups,i=i.concat(o);for(var c=0;c<u;c++)i.push("0");i=i.concat(a)}else if(s.length===1)i=e.split(":"),this.elidedGroups=0;else throw new Ur.AddressError("Too many :: groups found");if(i=i.map(function(f){return at.sprintf("%x",parseInt(f,16))}),i.length!==this.groups)throw new Ur.AddressError("Incorrect number of groups found");return i},t.prototype.canonicalForm=function(){return this.parsedAddress.map(_b).join(":")},t.prototype.decimal=function(){return this.parsedAddress.map(function(e){return at.sprintf("%05d",parseInt(e,16))}).join(":")},t.prototype.bigInteger=function(){return new ot.BigInteger(this.parsedAddress.map(_b).join(""),16)},t.prototype.to4=function(){var e=this.binaryZeroPad().split("");return ei.Address4.fromHex(new ot.BigInteger(e.slice(96,128).join(""),2).toString(16))},t.prototype.to4in6=function(){var e=this.to4(),r=new t(this.parsedAddress.slice(0,6).join(":"),6),n=r.correctForm(),i="";return/:$/.test(n)||(i=":"),n+i+e.address},t.prototype.inspectTeredo=function(){var e=this.getBitsBase16(0,32),r=this.getBits(80,96).xor(new ot.BigInteger("ffff",16)).toString(),n=ei.Address4.fromHex(this.getBitsBase16(32,64)),i=ei.Address4.fromHex(this.getBits(96,128).xor(new ot.BigInteger("ffffffff",16)).toString(16)),s=this.getBits(64,80),o=this.getBitsBase2(64,80),a=s.testBit(15),u=s.testBit(14),c=s.testBit(8),f=s.testBit(9),l=new ot.BigInteger(o.slice(2,6)+o.slice(8,16),2).toString(10);return{prefix:at.sprintf("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:i.address,flags:o,coneNat:a,microsoft:{reserved:u,universalLocal:f,groupIndividual:c,nonce:l},udpPort:r}},t.prototype.inspect6to4=function(){var e=this.getBitsBase16(0,16),r=ei.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:at.sprintf("%s",e.slice(0,4)),gateway:r.address}},t.prototype.to6to4=function(){if(!this.is4())return null;var e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new t(e)},t.prototype.toByteArray=function(){var e=this.bigInteger().toByteArray();return e.length===17&&e[0]===0?e.slice(1):e},t.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(Eb)},t.fromByteArray=function(e){return this.fromUnsignedByteArray(e.map(Eb))},t.fromUnsignedByteArray=function(e){for(var r=new ot.BigInteger("256",10),n=new ot.BigInteger("0",10),i=new ot.BigInteger("1",10),s=e.length-1;s>=0;s--)n=n.add(i.multiply(new ot.BigInteger(e[s].toString(10),10))),i=i.multiply(r);return t.fromBigInteger(n)},t.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},t.prototype.isLinkLocal=function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"},t.prototype.isMulticast=function(){return this.getType()==="Multicast"},t.prototype.is4=function(){return this.v4},t.prototype.isTeredo=function(){return this.isInSubnet(new t("2001::/32"))},t.prototype.is6to4=function(){return this.isInSubnet(new t("2002::/16"))},t.prototype.isLoopback=function(){return this.getType()==="Loopback"},t.prototype.href=function(e){return e===void 0?e="":e=at.sprintf(":%s",e),at.sprintf("http://[%s]%s/",this.correctForm(),e)},t.prototype.link=function(e){e||(e={}),e.className===void 0&&(e.className=""),e.prefix===void 0&&(e.prefix="/#address="),e.v4===void 0&&(e.v4=!1);var r=this.correctForm;return e.v4&&(r=this.to4in6),e.className?at.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,r.call(this),e.className):at.sprintf('<a href="%1$s%2$s">%2$s</a>',e.prefix,r.call(this))},t.prototype.group=function(){if(this.elidedGroups===0)return ql.simpleGroup(this.address).join(":");xu(typeof this.elidedGroups=="number"),xu(typeof this.elisionBegin=="number");var e=[],r=this.address.split("::"),n=r[0],i=r[1];n.length?e.push.apply(e,ql.simpleGroup(n)):e.push("");for(var s=["hover-group"],o=this.elisionBegin;o<this.elisionBegin+this.elidedGroups;o++)s.push(at.sprintf("group-%d",o));return e.push(at.sprintf('<span class="%s"></span>',s.join(" "))),i.length?e.push.apply(e,ql.simpleGroup(i,this.elisionEnd)):e.push(""),this.is4()&&(xu(this.address4 instanceof ei.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")},t.prototype.regularExpressionString=function(e){e===void 0&&(e=!1);var r=[],n=new t(this.correctForm());if(n.elidedGroups===0)r.push(ti.simpleRegularExpression(n.parsedAddress));else if(n.elidedGroups===de.GROUPS)r.push(ti.possibleElisions(de.GROUPS));else{var i=n.address.split("::");i[0].length&&r.push(ti.simpleRegularExpression(i[0].split(":"))),xu(typeof n.elidedGroups=="number"),r.push(ti.possibleElisions(n.elidedGroups,i[0].length!==0,i[1].length!==0)),i[1].length&&r.push(ti.simpleRegularExpression(i[1].split(":"))),r=[r.join(":")]}return e||(r=wb(wb(["(?=^|",ti.ADDRESS_BOUNDARY,"|[^\\w\\:])("],r),[")(?=[^\\w\\:]|",ti.ADDRESS_BOUNDARY,"|$)"])),r.join("")},t.prototype.regularExpression=function(e){return e===void 0&&(e=!1),new RegExp(this.regularExpressionString(e),"i")},t}();Ft.Address6=GC});var Bb=_(Xe=>{"use strict";var YC=Xe&&Xe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZC=Xe&&Xe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QC=Xe&&Xe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YC(e,t,r);return ZC(e,t),e};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.v6=Xe.AddressError=Xe.Address6=Xe.Address4=void 0;var XC=Nl();Object.defineProperty(Xe,"Address4",{enumerable:!0,get:function(){return XC.Address4}});var JC=Sb();Object.defineProperty(Xe,"Address6",{enumerable:!0,get:function(){return JC.Address6}});var e6=yu();Object.defineProperty(Xe,"AddressError",{enumerable:!0,get:function(){return e6.AddressError}});var t6=QC(Ll());Xe.v6={helpers:t6}});var Tb=_((Sk,Kl)=>{"use strict";var Ab=$e(),r6=Object.assign(Ab("libp2p:ip-port-to-multiaddr"),{error:Ab("libp2p:ip-port-to-multiaddr:err")}),{Multiaddr:Fl}=Ns(),Ul=lb(),{Address4:n6,Address6:i6}=Bb(),_u={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function s6(t,e){if(typeof t!="string")throw Ul(new Error(`invalid ip provided: ${t}`),_u.ERR_INVALID_IP_PARAMETER);if(typeof e=="string"&&(e=parseInt(e)),isNaN(e))throw Ul(new Error(`invalid port provided: ${e}`),_u.ERR_INVALID_PORT_PARAMETER);try{return new n6(t),new Fl(`/ip4/${t}/tcp/${e}`)}catch{}try{let r=new i6(t);return r.is4()?new Fl(`/ip4/${r.to4().correctForm()}/tcp/${e}`):new Fl(`/ip6/${t}/tcp/${e}`)}catch(r){let n=`invalid ip:port for creating a multiaddr: ${t}:${e}`;throw r6.error(n),Ul(new Error(n),_u.ERR_INVALID_IP)}}Kl.exports=s6;Kl.exports.Errors=_u});var jl=_((Bk,Pb)=>{"use strict";var Cb=Mu(),o6=ub(),{CLOSE_TIMEOUT:a6}=Ja(),Rb=Tb(),Ib=$e(),Eu=Ib("libp2p:webrtc-star:socket");Eu.error=Ib("libp2p:webrtc-star:socket:error");var kb=(t,e)=>{if(!(!t||!e))try{return Rb(t,e)}catch(r){return Eu.error(r),Rb("0.0.0.0",e)}};Pb.exports=(t,e={})=>{let{sink:r,source:n}=o6.duplex(t),i=e.remoteAddr||kb(t.remoteAddress,t.remotePort),s=kb(t.localAddress,t.localPort),o={async sink(a){e.signal&&(a=Cb(a,e.signal));try{await r(async function*(){for await(let u of a)yield u instanceof Uint8Array?u:u.slice()}())}catch(u){u.type!=="aborted"&&Eu.error(u)}},source:e.signal?Cb(n,e.signal):n,conn:t,localAddr:s,remoteAddr:i,timeline:{open:Date.now()},close(){if(!t.destroyed)return new Promise((a,u)=>{let c=Date.now(),f=setTimeout(()=>{if(o.remoteAddr){let{host:l,port:p}=o.remoteAddr.toOptions();Eu("timeout closing socket to %s:%s after %dms, destroying it manually",l,p,Date.now()-c)}t.destroyed||t.destroy()},a6);t.once("close",()=>{a()}),t.end(l=>{if(clearTimeout(f),o.timeline.close=Date.now(),l)return u(l)})})}};return t.once("close",()=>{o.timeline.close||(o.timeline.close=Date.now())}),o}});var Vl=_((Ak,Nb)=>{"use strict";var{Multiaddr:Db}=Ns();function u6(t){let e=t.toString().split("/"),r=t.protos()[1].name,n=t.protos()[2].name,i=t.stringTuples()[1][1];if(r!=="tcp"||n!=="ws"&&n!=="wss")throw new Error("invalid multiaddr: "+t.toString());if(!Db.isName(t))return"http://"+e[2]+":"+e[4];if(n==="ws")return"http://"+e[2]+(i==="80"?"":":"+i);if(n==="wss")return"https://"+e[2]+(i==="443"?"":":"+i)}function c6(t){let e="/libp2p-webrtc-star";if(t.indexOf(e)!==-1){t=t.substring(e.length,t.length);let r=new Db(t),n=r.stringTuples().filter(i=>i[0]===421)[0];r=r.decapsulate("p2p"),r=r.encapsulate("/p2p-webrtc-star"),r=r.encapsulate(`/p2p/${n[1]}`),t=r.toString()}return t}Nb.exports={cleanUrlSIO:u6,cleanMultiaddr:c6}});var qb=_((Tk,Mb)=>{"use strict";var f6=ps(),Ob=$e(),ri=Ob("libp2p:webrtc-star:listener");ri.error=Ob("libp2p:webrtc-star:listener:error");var l6=ku(),h6=eb(),p6=Rc(),d6=rb(),y6=jl(),{cleanUrlSIO:g6}=Vl(),{CODE_P2P:Lb}=Ja(),v6={transports:["websocket"],"force new connection":!0,path:"/socket.io-next/"};Mb.exports=({handler:t,upgrader:e},r,n={})=>{let i=new f6,s,o;return i.__connections=[],i.__spChannels=new Map,i.__pendingIntents=new Map,i.listen=a=>{if(s)throw l6(new Error("listener already in use"),"ERR_ALREADY_LISTENING");let u=d6();s=a;let c;!a.protoCodes().includes(Lb)&&e.localPeer?c=a.encapsulate(`/p2p/${e.localPeer.toB58String()}`):c=a,i.on("error",()=>u.reject()),o=g6(a),ri("Dialing to Signalling Server on: "+o),i.io=h6.connect(o,v6);let f=l=>{if(l.answer||l.err||!l.intentId)return;let p=l.intentId,v=i.__pendingIntents.get(p);v||(v=[],i.__pendingIntents.set(p,v));let y=i.__spChannels.get(p);if(y){y.signal(l.signal);return}else if(l.signal.type!=="offer"){v.push(l);return}let m={trickle:!1,...n};r.wrtc&&(m.wrtc=r.wrtc),y=new p6(m);let E=x=>{ri.error("incoming connection errored",x)};y.on("error",E),y.once("close",(...x)=>{y.removeListener("error",E)}),y.on("signal",x=>{l.signal=x,l.answer=!0,i.io.emit("ss-handshake",l)}),y.signal(l.signal);for(let x of v)y.signal(x.signal);i.__pendingIntents.set(p,[]),y.once("connect",async()=>{let x=y6(y);ri("new inbound connection %s",x.remoteAddr);let B;try{B=await e.upgradeInbound(x)}catch(I){return ri.error("inbound connection failed to upgrade",I),x.close()}if(!B.remoteAddr)try{B.remoteAddr=a.decapsulateCode(Lb).encapsulate(`/p2p/${B.remotePeer.toB58String()}`)}catch(I){ri.error("could not determine remote address",I)}ri("inbound connection %s upgraded",x.remoteAddr),m6(i,x,p),i.emit("connection",B),t(B)}),i.__spChannels.set(p,y)};return i.io.once("connect_error",l=>u.reject(l)),i.io.once("error",l=>{i.emit("error",l),i.emit("close")}),i.io.on("ws-handshake",f),i.io.on("ws-peer",r._peerDiscovered),i.io.on("connect",()=>{i.io.emit("ss-join",c.toString())}),i.io.once("connect",()=>{i.emit("listening"),u.resolve()}),r.sigReferences.set(o,{listener:i,signallingAddr:c}),u.promise},i.close=async()=>{let a=r.sigReferences.get(o);a&&a.listener.io&&(a.listener.io.emit("ss-leave"),a.listener.io.close()),await Promise.all(i.__connections.map(u=>u.close())),i.emit("close"),i.removeAllListeners(),s=void 0,r.sigReferences.delete(o)},i.getAddrs=()=>[s],i};function m6(t,e,r){t.__connections.push(e);let n=()=>{t.__connections=t.__connections.filter(i=>i!==e),t.__spChannels.delete(r),t.__pendingIntents.delete(r)};e.conn.once("close",n)}});var P6=_((Ck,jb)=>{"use strict";var Fb=$e(),Kr=Fb("libp2p:webrtc-star");Kr.error=Fb("libp2p:webrtc-star:error");var{EventEmitter:b6}=ps(),Su=ku(),w6=Du(),{AbortError:Ub}=Mu(),x6=Rc(),{supportsWebRTCDataChannels:_6}=np(),{Multiaddr:E6}=Ns(),S6=qd(),B6=Yv(),{CODE_CIRCUIT:A6}=Ja(),T6=qb(),C6=jl(),{cleanMultiaddr:R6,cleanUrlSIO:I6}=Vl();function k6(){}var Kb=class{constructor(e={}){if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.sigReferences=new Map,this.discovery=new b6,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e,r={}){let n=await this._connect(e,r),i=C6(n,{remoteAddr:e,signal:r.signal});Kr("new outbound connection %s",i.remoteAddr);let s=await this._upgrader.upgradeOutbound(i);return Kr("outbound connection %s upgraded",i.remoteAddr),s}_connect(e,r={}){if(r.signal&&r.signal.aborted)throw new Ub;let n={initiator:!0,trickle:!1,...r.spOptions||{}};this.wrtc&&(n.wrtc=this.wrtc);let i=e.toOptions(),s=(~~(Math.random()*1e9)).toString(36)+Date.now();return new Promise((o,a)=>{let u=this.sigReferences.get(I6(e));if(!u||!u.listener)return a(Su(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));let c=u.listener.io,f=Date.now(),l;Kr("dialing %s:%s",i.host,i.port);let p=new x6(n),v=B=>{if(!l){let I=`connection error ${i.host}:${i.port}: ${B.message}`;Kr.error(I),x(B)}},y=()=>{Kr("connnection timeout %s:%s",i.host,i.port);let B=Su(new Error(`connection timeout after ${Date.now()-f}ms`),"ERR_CONNECT_TIMEOUT");p.emit("error",B)},m=()=>{l=!0,Kr("connection opened %s:%s",i.host,i.port),x(null)},E=()=>{Kr.error("connection aborted %s:%s",i.host,i.port),p.destroy(),x(new Ub)},x=B=>{p.removeListener("timeout",y),p.removeListener("connect",m),r.signal&&r.signal.removeEventListener("abort",E),B?a(B):o(p)};p.on("error",v),p.once("timeout",y),p.once("connect",m),p.on("close",()=>{p.removeListener("error",v)}),r.signal&&r.signal.addEventListener("abort",E),p.on("signal",B=>{c.emit("ss-handshake",{intentId:s,srcMultiaddr:u.signallingAddr.toString(),dstMultiaddr:e.toString(),signal:B})}),c.on("ws-handshake",B=>{B.intentId===s&&B.err&&(p.destroy(),a(Su(B.err instanceof Error?B.err:new Error(B.err),"ERR_SIGNALLING_FAILED"))),!(B.intentId!==s||!B.answer||p.destroyed)&&p.signal(B.signal)})})}createListener(e={},r){if(!_6&&!this.wrtc)throw Su(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return typeof e=="function"&&(r=e,e={}),r=r||k6,T6({handler:r,upgrader:this._upgrader},this,e)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(r=>r.protoCodes().includes(A6)?!1:S6.WebRTCStar.matches(r))}_peerDiscovered(e){if(!this.discovery._isStarted)return;Kr("Peer Discovered:",e),e=R6(e);let r=new E6(e),n=B6.createFromB58String(r.getPeerId());this.discovery.emit("peer",{id:n,multiaddrs:[r]})}};jb.exports=w6(Kb,{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})});return P6();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) Paul Miller (paulmillr.com) */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pWebrtcStar}));
