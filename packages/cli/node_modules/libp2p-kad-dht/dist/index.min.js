(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pKadDht = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pKadDht=(()=>{var B9=Object.create;var l0=Object.defineProperty;var A9=Object.getOwnPropertyDescriptor;var I9=Object.getOwnPropertyNames;var C9=Object.getPrototypeOf,T9=Object.prototype.hasOwnProperty;var pa=t=>l0(t,"__esModule",{value:!0});var ya=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var F=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ce=(t,e)=>{pa(t);for(var r in e)l0(t,r,{get:e[r],enumerable:!0})},P9=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of I9(e))!T9.call(t,n)&&n!=="default"&&l0(t,n,{get:()=>e[n],enumerable:!(r=A9(e,n))||r.enumerable});return t},We=t=>P9(pa(l0(t!=null?B9(C9(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var wt=b((b_,vs)=>{"use strict";var cn=typeof Reflect=="object"?Reflect:null,ga=cn&&typeof cn.apply=="function"?cn.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},h0;cn&&typeof cn.ownKeys=="function"?h0=cn.ownKeys:Object.getOwnPropertySymbols?h0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:h0=function(e){return Object.getOwnPropertyNames(e)};function R9(t){console&&console.warn&&console.warn(t)}var va=Number.isNaN||function(e){return e!==e};function ee(){ee.init.call(this)}vs.exports=ee;vs.exports.once=N9;ee.EventEmitter=ee;ee.prototype._events=void 0;ee.prototype._eventsCount=0;ee.prototype._maxListeners=void 0;var ma=10;function d0(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ee,"defaultMaxListeners",{enumerable:!0,get:function(){return ma},set:function(t){if(typeof t!="number"||t<0||va(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ma=t}});ee.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ee.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||va(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ba(t){return t._maxListeners===void 0?ee.defaultMaxListeners:t._maxListeners}ee.prototype.getMaxListeners=function(){return ba(this)};ee.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")ga(c,this,r);else for(var u=c.length,f=Sa(c,u),n=0;n<u;++n)ga(f[n],this,r);return!0};function xa(t,e,r,n){var i,s,o;if(d0(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=ba(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,R9(a)}return t}ee.prototype.addListener=function(e,r){return xa(this,e,r,!1)};ee.prototype.on=ee.prototype.addListener;ee.prototype.prependListener=function(e,r){return xa(this,e,r,!0)};function k9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wa(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=k9.bind(n);return i.listener=r,n.wrapFn=i,i}ee.prototype.once=function(e,r){return d0(r),this.on(e,wa(this,e,r)),this};ee.prototype.prependOnceListener=function(e,r){return d0(r),this.prependListener(e,wa(this,e,r)),this};ee.prototype.removeListener=function(e,r){var n,i,s,o,a;if(d0(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():D9(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ee.prototype.off=ee.prototype.removeListener;ee.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Ea(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?L9(i):Sa(i,i.length)}ee.prototype.listeners=function(e){return Ea(this,e,!0)};ee.prototype.rawListeners=function(e){return Ea(this,e,!1)};ee.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):_a.call(t,e)};ee.prototype.listenerCount=_a;function _a(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ee.prototype.eventNames=function(){return this._eventsCount>0?h0(this._events):[]};function Sa(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function D9(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function L9(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function N9(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Ba(t,e,s,{once:!0}),e!=="error"&&O9(t,i,{once:!0})})}function O9(t,e,r){typeof t.on=="function"&&Ba(t,"error",e,r)}function Ba(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ni=b(Aa=>{"use strict";Aa.get=(t=globalThis)=>{let e=t.crypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var Ca=b((w_,Ia)=>{"use strict";Ia.exports={SHA1:20,SHA256:32,SHA512:64}});var ms=b(Pa=>{"use strict";var Ta=ni(),F9=Ca(),q9={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},K9=async(t,e)=>{let r=await Ta.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};Pa.create=async function(t,e){let r=q9[t],n=await Ta.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return K9(n,i)},length:F9[t]}}});var J=b((__,Ra)=>{Ra.exports={options:{usePureJavaScript:!1}}});var La=b((S_,Da)=>{var bs={};Da.exports=bs;var ka={};bs.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=U9(t,e);else{var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var c=0,u=t[i];c<a.length;++c)u+=a[c]<<8,a[c]=u%s,u=u/s|0;for(;u>0;)a.push(u%s),u=u/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};bs.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=ka[e];if(!r){r=ka[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),o=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var c=0,u=a;c<o.length;++c)u+=o[c]*i,o[c]=u&255,u>>=8;for(;u>0;)o.push(u&255),u>>=8}for(var f=0;t[f]===s&&f<t.length-1;++f)o.push(0);return typeof Buffer!="undefined"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function U9(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var c="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=e[s[r]];return c}});var be=b((B_,qa)=>{var Na=J(),Oa=La(),m=qa.exports=Na.util=Na.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){m.nextTick=process.nextTick,typeof setImmediate=="function"?m.setImmediate=setImmediate:m.setImmediate=m.nextTick;return}if(typeof setImmediate=="function"){m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},m.nextTick=function(a){return setImmediate(a)};return}if(m.setImmediate=function(a){setTimeout(a,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let a=function(c){if(c.source===window&&c.data===t){c.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(f){f()})}};var o=a,t="forge.setImmediate",e=[];m.setImmediate=function(c){e.push(c),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var c=e.slice();e.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=m.setImmediate;m.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(e.push(c),e.length===1&&i.setAttribute("a",n=!n))}}m.nextTick=m.setImmediate})();m.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;m.globalScope=function(){return m.isNodejs?globalThis:typeof self=="undefined"?window:self}();m.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};m.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};m.isArrayBufferView=function(t){return t&&m.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function ii(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}m.ByteBuffer=xs;function xs(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(m.isArrayBuffer(t)||m.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof xs||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}m.ByteStringBuffer=xs;var M9=4096;m.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>M9&&(this.data.substr(0,1),this._constructedStringLength=0)};m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};m.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};m.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};m.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};m.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(m.encodeUtf8(t))};m.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};m.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};m.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};m.ByteStringBuffer.prototype.putInt=function(t,e){ii(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};m.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};m.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};m.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};m.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};m.ByteStringBuffer.prototype.getInt=function(t){ii(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};m.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};m.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};m.ByteStringBuffer.prototype.copy=function(){var t=m.createBuffer(this.data);return t.read=this.read,t};m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};m.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};m.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())};function V9(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=m.isArrayBuffer(t),n=m.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}m.DataBuffer=V9;m.DataBuffer.prototype.length=function(){return this.write-this.read};m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};m.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};m.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};m.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};m.DataBuffer.prototype.putBytes=function(t,e){if(m.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(m.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof m.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&m.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof m.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=m.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};m.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};m.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};m.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};m.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};m.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};m.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};m.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};m.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};m.DataBuffer.prototype.putInt=function(t,e){ii(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};m.DataBuffer.prototype.putSignedInt=function(t,e){return ii(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};m.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};m.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};m.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};m.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};m.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};m.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};m.DataBuffer.prototype.getInt=function(t){ii(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};m.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};m.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)};m.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};m.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};m.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return m.binary.raw.encode(e);if(t==="hex")return m.binary.hex.encode(e);if(t==="base64")return m.binary.base64.encode(e);if(t==="utf8")return m.text.utf8.decode(e);if(t==="utf16")return m.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};m.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=m.encodeUtf8(t)),new m.ByteBuffer(t)};m.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};m.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};m.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};m.bytesToHex=function(t){return m.createBuffer(t).toHex()};m.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ar=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Fa="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.length;)i=t.charCodeAt(a++),s=t.charCodeAt(a++),o=t.charCodeAt(a++),r+=or.charAt(i>>2),r+=or.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=or.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":or.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,o=0;o<t.length;)r=ar[t.charCodeAt(o++)-43],n=ar[t.charCodeAt(o++)-43],i=ar[t.charCodeAt(o++)-43],s=ar[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};m.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};m.decodeUtf8=function(t){return decodeURIComponent(escape(t))};m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Oa.encode,decode:Oa.decode}};m.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};m.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};m.binary.hex.encode=m.bytesToHex;m.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};m.binary.base64.encode=function(t,e){for(var r="",n="",i,s,o,a=0;a<t.byteLength;)i=t[a++],s=t[a++],o=t[a++],r+=or.charAt(i>>2),r+=or.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=or.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":or.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,c=0,u=r;c<t.length;)i=ar[t.charCodeAt(c++)-43],s=ar[t.charCodeAt(c++)-43],o=ar[t.charCodeAt(c++)-43],a=ar[t.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,o!==64&&(n[u++]=(s&15)<<4|o>>2,a!==64&&(n[u++]=(o&3)<<6|a));return e?u-r:n.subarray(0,u)};m.binary.base58.encode=function(t,e){return m.binary.baseN.encode(t,Fa,e)};m.binary.base58.decode=function(t,e){return m.binary.baseN.decode(t,Fa,e)};m.text={utf8:{},utf16:{}};m.text.utf8.encode=function(t,e,r){t=m.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};m.text.utf8.decode=function(t){return m.decodeUtf8(String.fromCharCode.apply(null,t))};m.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a),s+=2;return e?s-r:n};m.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};m.deflate=function(t,e,r){if(e=m.decode64(t.deflate(m.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};m.inflate=function(t,e,r){var n=t.inflate(m.encode64(e)).rval;return n===null?null:m.decode64(n)};var ws=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=m.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Es=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(m.decode64(r))),r},z9=function(t,e,r,n){var i=Es(t,e);i===null&&(i={}),i[r]=n,ws(t,e,i)},$9=function(t,e,r){var n=Es(t,e);return n!==null&&(n=r in n?n[r]:null),n},j9=function(t,e,r){var n=Es(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),ws(t,e,n)}},H9=function(t,e){ws(t,e,null)},p0=function(t,e,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(c){o=c}if(s)break}if(!s)throw o;return n};m.setItem=function(t,e,r,n,i){p0(z9,arguments,i)};m.getItem=function(t,e,r,n){return p0($9,arguments,n)};m.removeItem=function(t,e,r,n){p0(j9,arguments,n)};m.clearItems=function(t,e,r){p0(H9,arguments,r)};m.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var y0=null;m.getQueryVariables=function(t){var e=function(n){for(var i={},s=n.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("="),c,u;a>0?(c=s[o].substring(0,a),u=s[o].substring(a+1)):(c=s[o],u=null),c in i||(i[c]=[]),!(c in Object.prototype)&&u!==null&&i[c].push(unescape(u))}return i},r;return typeof t=="undefined"?(y0===null&&(typeof window!="undefined"&&window.location&&window.location.search?y0=e(window.location.search.substring(1)):y0={}),r=y0):r=e(t),r};m.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&i[0]===""&&i.shift();var s=r===""?{}:m.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:s}};m.makeRequest=function(t){var e=m.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(n){return typeof n=="undefined"?e.path:e.path[n]},getQuery:function(n,i){var s;return typeof n=="undefined"?s=e.query:(s=e.query[n],s&&typeof i!="undefined"&&(s=s[i])),s},getQueryLast:function(n,i){var s,o=r.getQuery(n);return o?s=o[o.length-1]:s=i,s}};return r};m.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};m.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};m.format=function(t){for(var e=/%./g,r,n,i=0,s=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&s.push(n),o=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(t.substring(o)),s.join("")};m.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,a=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+a:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-u).toFixed(s).slice(2):"")};m.formatSize=function(t){return t>=1073741824?t=m.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=m.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=m.formatNumber(t/1024,0)+" KiB":t=m.formatNumber(t,0)+" bytes",t};m.bytesFromIP=function(t){return t.indexOf(".")!==-1?m.bytesFromIPv4(t):t.indexOf(":")!==-1?m.bytesFromIPv6(t):null};m.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=m.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};m.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=m.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=m.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};m.bytesToIP=function(t){return t.length===4?m.bytesToIPv4(t):t.length===16?m.bytesToIPv6(t):null};m.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};m.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=m.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=e.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),c.start===0&&e.unshift(""),c.end===7&&e.push(""))}return e.join(":")};m.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in m&&!t.update)return e(null,m.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,e(null,m.cores);if(typeof Worker=="undefined")return m.cores=1,e(null,m.cores);if(typeof Blob=="undefined")return m.cores=2,e(null,m.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),c=a+4;Date.now()<c;);self.postMessage({st:a,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,c){if(a===0){var u=Math.floor(o.reduce(function(f,l){return f+l},0)/o.length);return m.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,m.cores)}i(c,function(f,l){o.push(s(c,l)),n(o,a-1,c)})}function i(o,a){for(var c=[],u=[],f=0;f<o;++f){var l=new Worker(r);l.addEventListener("message",function(d){if(u.push(d.data),u.length===o){for(var p=0;p<o;++p)c[p].terminate();a(null,u)}}),c.push(l)}for(var f=0;f<o;++f)c[f].postMessage(f)}function s(o,a){for(var c=[],u=0;u<o;++u)for(var f=a[u],l=c[u]=[],d=0;d<o;++d)if(u!==d){var p=a[d];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&l.push(d)}return c.reduce(function(h,y){return Math.max(h,y.length)},0)}}});var Ss=b((A_,Ka)=>{var Ce=J();be();Ka.exports=Ce.cipher=Ce.cipher||{};Ce.cipher.algorithms=Ce.cipher.algorithms||{};Ce.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ce.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ce.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Ce.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ce.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ce.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Ce.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Ce.cipher.algorithms[t]=e};Ce.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Ce.cipher.algorithms?Ce.cipher.algorithms[t]:null};var _s=Ce.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};_s.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Ce.util.createBuffer(),this.output=t.output||Ce.util.createBuffer(),this.mode.start(e)};_s.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};_s.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var As=b((I_,Ua)=>{var Te=J();be();Te.cipher=Te.cipher||{};var z=Ua.exports=Te.cipher.modes=Te.cipher.modes||{};z.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};z.ecb.prototype.start=function(t){};z.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};z.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};z.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};z.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};z.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};z.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=g0(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};z.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};z.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};z.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};z.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};z.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};z.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=g0(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};z.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};z.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};z.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};z.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=g0(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};z.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};z.ofb.prototype.decrypt=z.ofb.prototype.encrypt;z.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0};z.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=g0(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};z.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}v0(this._inBlock)};z.ctr.prototype.decrypt=z.ctr.prototype.encrypt;z.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Te.util.createBuffer(),this._partialBytes=0,this._R=3774873600};z.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Te.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Te.util.createBuffer(t.additionalData):r=Te.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Te.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Bs(n*8)))}this._inBlock=this._j0.slice(0),v0(this._inBlock),this._partialBytes=0,r=Te.util.createBuffer(r),this._aDataLength=Bs(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};z.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),v0(this._inBlock)};z.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),v0(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};z.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Te.util.createBuffer();var n=this._aDataLength.concat(Bs(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};z.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};z.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};z.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};z.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};z.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],c=o/n|0,u=(n-1-o%n)*e;a[c]=1<<e-1<<u,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s};z.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],c=i[o];i[s+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return i};function g0(t,e){if(typeof t=="string"&&(t=Te.util.createBuffer(t)),Te.util.isArray(t)&&t.length>4){var r=t;t=Te.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Te.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}function v0(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Bs(t){return[t/4294967296|0,t&4294967295]}});var b0=b((C_,$a)=>{var ne=J();Ss();As();be();$a.exports=ne.aes=ne.aes||{};ne.aes.startEncrypting=function(t,e,r,n){var i=m0({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};ne.aes.createEncryptionCipher=function(t,e){return m0({key:t,output:null,decrypt:!1,mode:e})};ne.aes.startDecrypting=function(t,e,r,n){var i=m0({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};ne.aes.createDecryptionCipher=function(t,e){return m0({key:t,output:null,decrypt:!0,mode:e})};ne.aes.Algorithm=function(t,e){Is||Va();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Ts(r._w,n,i,!1)},decrypt:function(n,i){return Ts(r._w,n,i,!0)}}}),r._init=!1};ne.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=ne.util.createBuffer(e);else if(ne.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=ne.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!ne.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!ne.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=za(e,t.decrypt&&!o),this._init=!0}};ne.aes._expandKey=function(t,e){return Is||Va(),za(t,e)};ne.aes._updateBlock=Ts;un("AES-ECB",ne.cipher.modes.ecb);un("AES-CBC",ne.cipher.modes.cbc);un("AES-CFB",ne.cipher.modes.cfb);un("AES-OFB",ne.cipher.modes.ofb);un("AES-CTR",ne.cipher.modes.ctr);un("AES-GCM",ne.cipher.modes.gcm);function un(t,e){var r=function(){return new ne.aes.Algorithm(t,e)};ne.cipher.registerAlgorithm(t,r)}var Is=!1,fn=4,qe,Cs,Ma,Or,ht;function Va(){Is=!0,Ma=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;qe=new Array(256),Cs=new Array(256),Or=new Array(4),ht=new Array(4);for(var e=0;e<4;++e)Or[e]=new Array(256),ht[e]=new Array(256);for(var r=0,n=0,i,s,o,a,c,u,f,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,qe[r]=a,Cs[a]=r,c=t[a],i=t[r],s=t[i],o=t[s],u=c<<24^a<<16^a<<8^(a^c),f=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var l=0;l<4;++l)Or[l][r]=u,ht[l][a]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}function za(t,e){for(var r=t.slice(0),n,i=1,s=r.length,o=s+6+1,a=fn*o,c=s;c<a;++c)n=r[c-1],c%s==0?(n=qe[n>>>16&255]<<24^qe[n>>>8&255]<<16^qe[n&255]<<8^qe[n>>>24]^Ma[i]<<24,i++):s>6&&c%s==4&&(n=qe[n>>>24]<<24^qe[n>>>16&255]<<16^qe[n>>>8&255]<<8^qe[n&255]),r[c]=r[c-s]^n;if(e){var u,f=ht[0],l=ht[1],d=ht[2],p=ht[3],h=r.slice(0);a=r.length;for(var c=0,y=a-fn;c<a;c+=fn,y-=fn)if(c===0||c===a-fn)h[c]=r[y],h[c+1]=r[y+3],h[c+2]=r[y+2],h[c+3]=r[y+1];else for(var g=0;g<fn;++g)u=r[y+g],h[c+(3&-g)]=f[qe[u>>>24]]^l[qe[u>>>16&255]]^d[qe[u>>>8&255]]^p[qe[u&255]];r=h}return r}function Ts(t,e,r,n){var i=t.length/4-1,s,o,a,c,u;n?(s=ht[0],o=ht[1],a=ht[2],c=ht[3],u=Cs):(s=Or[0],o=Or[1],a=Or[2],c=Or[3],u=qe);var f,l,d,p,h,y,g;f=e[0]^t[0],l=e[n?3:1]^t[1],d=e[2]^t[2],p=e[n?1:3]^t[3];for(var v=3,x=1;x<i;++x)h=s[f>>>24]^o[l>>>16&255]^a[d>>>8&255]^c[p&255]^t[++v],y=s[l>>>24]^o[d>>>16&255]^a[p>>>8&255]^c[f&255]^t[++v],g=s[d>>>24]^o[p>>>16&255]^a[f>>>8&255]^c[l&255]^t[++v],p=s[p>>>24]^o[f>>>16&255]^a[l>>>8&255]^c[d&255]^t[++v],f=h,l=y,d=g;r[0]=u[f>>>24]<<24^u[l>>>16&255]<<16^u[d>>>8&255]<<8^u[p&255]^t[++v],r[n?3:1]=u[l>>>24]<<24^u[d>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^t[++v],r[2]=u[d>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[l&255]^t[++v],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[l>>>8&255]<<8^u[d&255]^t[++v]}function m0(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=ne.cipher.createDecipher(r,t.key):n=ne.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof ne.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});function G9(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var y=0,g=0,v=0,x=h.length;v!==x&&h[v]===0;)v++,y++;for(var S=(x-v)*f+1>>>0,k=new Uint8Array(S);v!==x;){for(var T=h[v],C=0,q=S-1;(T!==0||C<g)&&q!==-1;q--,C++)T+=256*k[q]>>>0,k[q]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");g=C,v++}for(var V=S-g;V!==S&&k[V]===0;)V++;for(var Ee=c.repeat(y);V<S;++V)Ee+=t.charAt(k[V]);return Ee}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var y=0;if(h[y]!==" "){for(var g=0,v=0;h[y]===c;)g++,y++;for(var x=(h.length-y)*u+1>>>0,S=new Uint8Array(x);h[y];){var k=r[h.charCodeAt(y)];if(k===255)return;for(var T=0,C=x-1;(k!==0||T<v)&&C!==-1;C--,T++)k+=a*S[C]>>>0,S[C]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");v=T,y++}if(h[y]!==" "){for(var q=x-v;q!==x&&S[q]===0;)q++;for(var V=new Uint8Array(g+(x-q)),Ee=g;q!==x;)V[Ee++]=S[q++];return V}}}function p(h){var y=d(h);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:d,decode:p}}var Y9,W9,ja,Ha=F(()=>{Y9=G9,W9=Y9,ja=W9});var P_,Ga,zt,Ya,Wa,cr=F(()=>{P_=new Uint8Array(0),Ga=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},zt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Ya=t=>new TextEncoder().encode(t),Wa=t=>new TextDecoder().decode(t)});var Za,Xa,Ja,e3,t3,x0,ur,Q9,Z9,ye,Et=F(()=>{Ha();cr();Za=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Xa=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return e3(this,e)}},Ja=class{constructor(e){this.decoders=e}or(e){return e3(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},e3=(t,e)=>new Ja({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),t3=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Za(e,r,n),this.decoder=new Xa(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},x0=({name:t,prefix:e,encode:r,decode:n})=>new t3(t,e,r,n),ur=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=ja(r,e);return x0({prefix:t,name:e,encode:n,decode:s=>zt(i(s))})},Q9=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,u=0;for(let f=0;f<s;++f){let l=i[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Z9=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ye=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>x0({prefix:e,name:t,encode(i){return Z9(i,n,r)},decode(i){return Q9(i,n,r,t)}})});var Ps={};ce(Ps,{identity:()=>X9});var X9,r3=F(()=>{Et();cr();X9=x0({prefix:"\0",name:"identity",encode:t=>Wa(t),decode:t=>Ya(t)})});var Rs={};ce(Rs,{base2:()=>J9});var J9,n3=F(()=>{Et();J9=ye({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var ks={};ce(ks,{base8:()=>eh});var eh,i3=F(()=>{Et();eh=ye({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Ds={};ce(Ds,{base10:()=>th});var th,s3=F(()=>{Et();th=ur({prefix:"9",name:"base10",alphabet:"0123456789"})});var w0={};ce(w0,{base16:()=>rh,base16upper:()=>nh});var rh,nh,Ls=F(()=>{Et();rh=ye({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),nh=ye({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Fr={};ce(Fr,{base32:()=>ln,base32hex:()=>ah,base32hexpad:()=>uh,base32hexpadupper:()=>fh,base32hexupper:()=>ch,base32pad:()=>sh,base32padupper:()=>oh,base32upper:()=>ih,base32z:()=>lh});var ln,ih,sh,oh,ah,ch,uh,fh,lh,qr=F(()=>{Et();ln=ye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ih=ye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sh=ye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oh=ye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ah=ye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ch=ye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uh=ye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fh=ye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lh=ye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var E0={};ce(E0,{base36:()=>hh,base36upper:()=>dh});var hh,dh,Ns=F(()=>{Et();hh=ur({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dh=ur({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var $t={};ce($t,{base58btc:()=>_t,base58flickr:()=>ph});var _t,ph,jt=F(()=>{Et();_t=ur({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ph=ur({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var hn={};ce(hn,{base64:()=>yh,base64pad:()=>gh,base64url:()=>vh,base64urlpad:()=>mh});var yh,gh,vh,mh,si=F(()=>{Et();yh=ye({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gh=ye({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),vh=ye({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mh=ye({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function a3(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Eh;)e[r++]=t&255|o3,t/=128;for(;t&wh;)e[r++]=t&255|o3,t>>>=7;return e[r]=t|0,a3.bytes=r-n+1,e}function Os(t,e){var r=0,e=e||0,n=0,i=e,s,o=t.length;do{if(i>=o)throw Os.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&c3)<<n:(s&c3)*Math.pow(2,n),n+=7}while(s>=Sh);return Os.bytes=i-e,r}var bh,o3,xh,wh,Eh,_h,Sh,c3,Bh,Ah,Ih,Ch,Th,Ph,Rh,kh,Dh,Lh,Nh,Oh,oi,u3=F(()=>{bh=a3,o3=128,xh=127,wh=~xh,Eh=Math.pow(2,31);_h=Os,Sh=128,c3=127;Bh=Math.pow(2,7),Ah=Math.pow(2,14),Ih=Math.pow(2,21),Ch=Math.pow(2,28),Th=Math.pow(2,35),Ph=Math.pow(2,42),Rh=Math.pow(2,49),kh=Math.pow(2,56),Dh=Math.pow(2,63),Lh=function(t){return t<Bh?1:t<Ah?2:t<Ih?3:t<Ch?4:t<Th?5:t<Ph?6:t<Rh?7:t<kh?8:t<Dh?9:10},Nh={encode:bh,decode:_h,encodingLength:Lh},Oh=Nh,oi=Oh});var ai,dn,pn,_0=F(()=>{u3();ai=t=>[oi.decode(t),oi.decode.bytes],dn=(t,e,r=0)=>(oi.encode(t,e,r),e),pn=t=>oi.encodingLength(t)});var ui={};ce(ui,{Digest:()=>yn,create:()=>ci,decode:()=>Fs,equals:()=>qs});var ci,Fs,qs,yn,gn=F(()=>{cr();_0();ci=(t,e)=>{let r=e.byteLength,n=pn(t),i=n+pn(r),s=new Uint8Array(i+r);return dn(t,s,0),dn(r,s,n),s.set(e,i),new yn(t,r,e,s)},Fs=t=>{let e=zt(t),[r,n]=ai(e),[i,s]=ai(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new yn(r,i,o,e)},qs=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Ga(t.bytes,e.bytes),yn=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var fi,l3,S0=F(()=>{gn();fi=({name:t,code:e,encode:r})=>new l3(t,e,r),l3=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return ci(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var St={};ce(St,{sha256:()=>Fh,sha512:()=>qh});var d3,Fh,qh,Ht=F(()=>{S0();d3=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Fh=fi({name:"sha2-256",code:18,encode:d3("SHA-256")}),qh=fi({name:"sha2-512",code:19,encode:d3("SHA-512")})});var li={};ce(li,{identity:()=>Kh});var Kh,B0=F(()=>{S0();cr();Kh=fi({name:"identity",code:0,encode:t=>zt(t)})});var p3=F(()=>{cr()});var J_,eS,y3=F(()=>{J_=new TextEncoder,eS=new TextDecoder});var vn={};ce(vn,{CID:()=>Ae});var Ae,Vh,zh,$h,hi,jh,g3,v3,A0,I0,Hh,Gh,Yh,Kr=F(()=>{_0();gn();jt();qr();cr();Ae=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:I0,byteLength:I0,code:A0,version:A0,multihash:A0,bytes:A0,_baseCache:I0,asCID:I0})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==hi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==jh)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ae.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=ci(e,r);return Ae.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&qs(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return zh(r,i,e||_t.encoder);default:return $h(r,i,e||ln.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Gh(/^0\.0/,Yh),!!(e&&(e[v3]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ae)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new Ae(r,n,i,s||g3(r,n,i.bytes))}else if(e!=null&&e[v3]===!0){let{version:r,multihash:n,code:i}=e,s=Fs(n);return Ae.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==hi)throw new Error(`Version 0 CID must use dag-pb (code: ${hi}) block encoding`);return new Ae(e,r,n,n.bytes)}case 1:{let i=g3(e,r,n.bytes);return new Ae(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Ae.create(0,hi,e)}static createV1(e,r){return Ae.create(1,e,r)}static decode(e){let[r,n]=Ae.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Ae.inspectBytes(e),n=r.size-r.multihashSize,i=zt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new yn(r.multihashCode,r.digestSize,s,i);return[r.version===0?Ae.createV0(o):Ae.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,d]=ai(e.subarray(r));return r+=d,l},i=n(),s=hi;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),c=n(),u=r+c,f=u-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:f,size:u}}static parse(e,r){let[n,i]=Vh(e,r),s=Ae.decode(i);return s._baseCache.set(n,e),s}},Vh=(t,e)=>{switch(t[0]){case"Q":{let r=e||_t;return[_t.prefix,r.decode(`${_t.prefix}${t}`)]}case _t.prefix:{let r=e||_t;return[_t.prefix,r.decode(t)]}case ln.prefix:{let r=e||ln;return[ln.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},zh=(t,e,r)=>{let{prefix:n}=r;if(n!==_t.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},$h=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},hi=112,jh=18,g3=(t,e,r)=>{let n=pn(t),i=n+pn(e),s=new Uint8Array(i+r.byteLength);return dn(t,s,0),dn(e,s,n),s.set(r,i),s},v3=Symbol.for("@ipld/js-cid/CID"),A0={writable:!1,configurable:!1,enumerable:!0},I0={writable:!1,enumerable:!1,configurable:!1},Hh="0.0.0-dev",Gh=(t,e)=>{if(t.test(Hh))console.warn(e);else throw new Error(e)},Yh=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var m3=F(()=>{Kr();_0();cr();S0();gn()});var Ks,uS,b3=F(()=>{r3();n3();i3();s3();Ls();qr();Ns();jt();si();Ht();B0();p3();y3();m3();Ks={...Ps,...Rs,...ks,...Ds,...w0,...Fr,...E0,...$t,...hn},uS={...St,...li}});function x3(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var w3,Us,Wh,C0,Ms=F(()=>{b3();w3=x3("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Us=x3("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Wh={utf8:w3,"utf-8":w3,hex:Ks.base16,latin1:Us,ascii:Us,binary:Us,...Ks},C0=Wh});var ge={};ce(ge,{toString:()=>Vs});function Vs(t,e="utf8"){let r=C0[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var de=F(()=>{Ms()});var dt={};ce(dt,{fromString:()=>zs});function zs(t,e="utf8"){let r=C0[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var Je=F(()=>{Ms()});var S3=b((yS,_3)=>{"use strict";b0();var T0=J(),{toString:mn}=(de(),ge),{fromString:E3}=(Je(),dt);_3.exports={createCipheriv:(t,e,r)=>{let n=T0.cipher.createCipher("AES-CTR",mn(e,"ascii"));return n.start({iv:mn(r,"ascii")}),{update:i=>(n.update(T0.util.createBuffer(mn(i,"ascii"))),E3(n.output.getBytes(),"ascii"))}},createDecipheriv:(t,e,r)=>{let n=T0.cipher.createDecipher("AES-CTR",mn(e,"ascii"));return n.start({iv:mn(r,"ascii")}),{update:i=>(n.update(T0.util.createBuffer(mn(i,"ascii"))),E3(n.output.getBytes(),"ascii"))}}}});var ie=b((gS,A3)=>{"use strict";function B3(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Qh(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return B3(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),B3(new i,r)}}A3.exports=Qh});var T3=b((vS,C3)=>{"use strict";var Zh=ie(),I3={16:"aes-128-ctr",32:"aes-256-ctr"};C3.exports=function(t){let e=I3[t.length];if(!e){let r=Object.entries(I3).map(([n,i])=>`${n} (${i})`).join(" / ");throw Zh(new Error(`Invalid key length ${t.length} bytes. Must be ${r}`),"ERR_INVALID_KEY_LENGTH")}return e}});var k3=b(R3=>{"use strict";var P3=S3(),Xh=T3();R3.create=async function(t,e){let r=Xh(t),n=P3.createCipheriv(r,t,e),i=P3.createDecipheriv(r,t,e);return{async encrypt(o){return n.update(o)},async decrypt(o){return i.update(o)}}}});var L3=b((bS,D3)=>{"use strict";D3.exports=Jh;function Jh(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,c){r[n]=function(f){if(s)if(s=!1,f)c(f);else{for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d++]=arguments[d];a.apply(null,l)}};try{t.apply(e||null,r)}catch(u){s&&(s=!1,c(u))}})}});var q3=b(F3=>{"use strict";var P0=F3;P0.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var bn=new Array(64),N3=new Array(123);for(pt=0;pt<64;)N3[bn[pt]=pt<26?pt+65:pt<52?pt+71:pt<62?pt-4:pt-59|43]=pt++;var pt;P0.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,c;r<n;){var u=e[r++];switch(a){case 0:s[o++]=bn[u>>2],c=(u&3)<<4,a=1;break;case 1:s[o++]=bn[c|u>>4],c=(u&15)<<2,a=2;break;case 2:s[o++]=bn[c|u>>6],s[o++]=bn[u&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=bn[c],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var O3="invalid encoding";P0.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=N3[c])===void 0)throw Error(O3);switch(s){case 0:o=c,s=1;break;case 1:r[n++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:r[n++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:r[n++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(O3);return n-i};P0.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var U3=b((wS,K3)=>{"use strict";K3.exports=R0;function R0(){this._listeners={}}R0.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};R0.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};R0.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var G3=b((ES,H3)=>{"use strict";H3.exports=M3(M3);function M3(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(c,u,f){e[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3]}function s(c,u,f){e[0]=c,u[f]=r[3],u[f+1]=r[2],u[f+2]=r[1],u[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],e[0]}function a(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((a<<31|c+127<<23|u)>>>0,s,o)}}t.writeFloatLE=e.bind(null,V3),t.writeFloatBE=e.bind(null,z3);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,c=o>>>23&255,u=o&8388607;return c===255?u?NaN:a*(1/0):c===0?a*1401298464324817e-60*u:a*Math.pow(2,c-150)*(u+8388608)}t.readFloatLE=r.bind(null,$3),t.readFloatBE=r.bind(null,j3)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(c,u,f){e[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3],u[f+4]=r[4],u[f+5]=r[5],u[f+6]=r[6],u[f+7]=r[7]}function s(c,u,f){e[0]=c,u[f]=r[7],u[f+1]=r[6],u[f+2]=r[5],u[f+3]=r[4],u[f+4]=r[3],u[f+5]=r[2],u[f+6]=r[1],u[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],e[0]}function a(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,c){var u=o<0?1:0;if(u&&(o=-o),o===0)n(0,a,c+i),n(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))n(0,a,c+i),n(2146959360,a,c+s);else if(o>17976931348623157e292)n(0,a,c+i),n((u<<31|2146435072)>>>0,a,c+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,c+i),n((u<<31|f/4294967296)>>>0,a,c+s);else{var l=Math.floor(Math.log(o)/Math.LN2);l===1024&&(l=1023),f=o*Math.pow(2,-l),n(f*4503599627370496>>>0,a,c+i),n((u<<31|l+1023<<20|f*1048576&1048575)>>>0,a,c+s)}}}t.writeDoubleLE=e.bind(null,V3,0,4),t.writeDoubleBE=e.bind(null,z3,4,0);function r(n,i,s,o,a){var c=n(o,a+i),u=n(o,a+s),f=(u>>31)*2+1,l=u>>>20&2047,d=4294967296*(u&1048575)+c;return l===2047?d?NaN:f*(1/0):l===0?f*5e-324*d:f*Math.pow(2,l-1075)*(d+4503599627370496)}t.readDoubleLE=r.bind(null,$3,0,4),t.readDoubleBE=r.bind(null,j3,4,0)}(),t}function V3(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function z3(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function $3(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function j3(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Y3=b((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Q3=b(W3=>{"use strict";var $s=W3;$s.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};$s.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,c;r<n;)c=e[r++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};$s.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var X3=b((SS,Z3)=>{"use strict";Z3.exports=ed;function ed(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(c){if(c<1||c>i)return t(c);o+c>n&&(s=t(n),o=0);var u=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),u}}});var e4=b((BS,J3)=>{"use strict";J3.exports=Pe;var di=lr();function Pe(t,e){this.lo=t>>>0,this.hi=e>>>0}var Ur=Pe.zero=new Pe(0,0);Ur.toNumber=function(){return 0};Ur.zzEncode=Ur.zzDecode=function(){return this};Ur.length=function(){return 1};var td=Pe.zeroHash="\0\0\0\0\0\0\0\0";Pe.fromNumber=function(e){if(e===0)return Ur;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Pe(n,i)};Pe.from=function(e){if(typeof e=="number")return Pe.fromNumber(e);if(di.isString(e))if(di.Long)e=di.Long.fromString(e);else return Pe.fromNumber(parseInt(e,10));return e.low||e.high?new Pe(e.low>>>0,e.high>>>0):Ur};Pe.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Pe.prototype.toLong=function(e){return di.Long?new di.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var fr=String.prototype.charCodeAt;Pe.fromHash=function(e){return e===td?Ur:new Pe((fr.call(e,0)|fr.call(e,1)<<8|fr.call(e,2)<<16|fr.call(e,3)<<24)>>>0,(fr.call(e,4)|fr.call(e,5)<<8|fr.call(e,6)<<16|fr.call(e,7)<<24)>>>0)};Pe.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Pe.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Pe.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Pe.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var lr=b(js=>{"use strict";var L=js;L.asPromise=L3();L.base64=q3();L.EventEmitter=U3();L.float=G3();L.inquire=Y3();L.utf8=Q3();L.pool=X3();L.LongBits=e4();L.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);L.global=L.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||js;L.emptyArray=Object.freeze?Object.freeze([]):[];L.emptyObject=Object.freeze?Object.freeze({}):{};L.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};L.isString=function(e){return typeof e=="string"||e instanceof String};L.isObject=function(e){return e&&typeof e=="object"};L.isset=L.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};L.Buffer=function(){try{var t=L.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();L._Buffer_from=null;L._Buffer_allocUnsafe=null;L.newBuffer=function(e){return typeof e=="number"?L.Buffer?L._Buffer_allocUnsafe(e):new L.Array(e):L.Buffer?L._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};L.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;L.Long=L.global.dcodeIO&&L.global.dcodeIO.Long||L.global.Long||L.inquire("long");L.key2Re=/^true|false|0|1$/;L.key32Re=/^-?(?:0|[1-9][0-9]*)$/;L.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;L.longToHash=function(e){return e?L.LongBits.from(e).toHash():L.LongBits.zeroHash};L.longFromHash=function(e,r){var n=L.LongBits.fromHash(e);return L.Long?L.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function t4(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}L.merge=t4;L.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function r4(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&t4(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}L.newError=r4;L.ProtocolError=r4("ProtocolError");L.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};L.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};L.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};L._configure=function(){var t=L.Buffer;if(!t){L._Buffer_from=L._Buffer_allocUnsafe=null;return}L._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},L._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Xs=b((IS,o4)=>{"use strict";o4.exports=G;var et=lr(),Hs,k0=et.LongBits,n4=et.base64,i4=et.utf8;function pi(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Gs(){}function rd(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function G(){this.len=0,this.head=new pi(Gs,0,0),this.tail=this.head,this.states=null}var s4=function(){return et.Buffer?function(){return(G.create=function(){return new Hs})()}:function(){return new G}};G.create=s4();G.alloc=function(e){return new et.Array(e)};et.Array!==Array&&(G.alloc=et.pool(G.alloc,et.Array.prototype.subarray));G.prototype._push=function(e,r,n){return this.tail=this.tail.next=new pi(e,r,n),this.len+=r,this};function Ys(t,e,r){e[r]=t&255}function nd(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Ws(t,e){this.len=t,this.next=void 0,this.val=e}Ws.prototype=Object.create(pi.prototype);Ws.prototype.fn=nd;G.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Ws((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};G.prototype.int32=function(e){return e<0?this._push(Qs,10,k0.fromNumber(e)):this.uint32(e)};G.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Qs(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}G.prototype.uint64=function(e){var r=k0.from(e);return this._push(Qs,r.length(),r)};G.prototype.int64=G.prototype.uint64;G.prototype.sint64=function(e){var r=k0.from(e).zzEncode();return this._push(Qs,r.length(),r)};G.prototype.bool=function(e){return this._push(Ys,1,e?1:0)};function Zs(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}G.prototype.fixed32=function(e){return this._push(Zs,4,e>>>0)};G.prototype.sfixed32=G.prototype.fixed32;G.prototype.fixed64=function(e){var r=k0.from(e);return this._push(Zs,4,r.lo)._push(Zs,4,r.hi)};G.prototype.sfixed64=G.prototype.fixed64;G.prototype.float=function(e){return this._push(et.float.writeFloatLE,4,e)};G.prototype.double=function(e){return this._push(et.float.writeDoubleLE,8,e)};var id=et.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};G.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Ys,1,0);if(et.isString(e)){var n=G.alloc(r=n4.length(e));n4.decode(e,n,0),e=n}return this.uint32(r)._push(id,r,e)};G.prototype.string=function(e){var r=i4.length(e);return r?this.uint32(r)._push(i4.write,r,e):this._push(Ys,1,0)};G.prototype.fork=function(){return this.states=new rd(this),this.head=this.tail=new pi(Gs,0,0),this.len=0,this};G.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new pi(Gs,0,0),this.len=0),this};G.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};G.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};G._configure=function(t){Hs=t,G.create=s4(),Hs._configure()}});var u4=b((CS,c4)=>{"use strict";c4.exports=Bt;var a4=Xs();(Bt.prototype=Object.create(a4.prototype)).constructor=Bt;var hr=lr();function Bt(){a4.call(this)}Bt._configure=function(){Bt.alloc=hr._Buffer_allocUnsafe,Bt.writeBytesBuffer=hr.Buffer&&hr.Buffer.prototype instanceof Uint8Array&&hr.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Bt.prototype.bytes=function(e){hr.isString(e)&&(e=hr._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Bt.writeBytesBuffer,r,e),this};function sd(t,e,r){t.length<40?hr.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Bt.prototype.string=function(e){var r=hr.Buffer.byteLength(e);return this.uint32(r),r&&this._push(sd,r,e),this};Bt._configure()});var to=b((TS,p4)=>{"use strict";p4.exports=xe;var At=lr(),Js,f4=At.LongBits,od=At.utf8;function yt(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function xe(t){this.buf=t,this.pos=0,this.len=t.length}var l4=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new xe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new xe(e);throw Error("illegal buffer")},h4=function(){return At.Buffer?function(r){return(xe.create=function(i){return At.Buffer.isBuffer(i)?new Js(i):l4(i)})(r)}:l4};xe.create=h4();xe.prototype._slice=At.Array.prototype.subarray||At.Array.prototype.slice;xe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,yt(this,10);return e}}();xe.prototype.int32=function(){return this.uint32()|0};xe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function eo(){var t=new f4(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw yt(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw yt(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}xe.prototype.bool=function(){return this.uint32()!==0};function D0(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}xe.prototype.fixed32=function(){if(this.pos+4>this.len)throw yt(this,4);return D0(this.buf,this.pos+=4)};xe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw yt(this,4);return D0(this.buf,this.pos+=4)|0};function d4(){if(this.pos+8>this.len)throw yt(this,8);return new f4(D0(this.buf,this.pos+=4),D0(this.buf,this.pos+=4))}xe.prototype.float=function(){if(this.pos+4>this.len)throw yt(this,4);var e=At.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};xe.prototype.double=function(){if(this.pos+8>this.len)throw yt(this,4);var e=At.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};xe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw yt(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};xe.prototype.string=function(){var e=this.bytes();return od.read(e,0,e.length)};xe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw yt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw yt(this);while(this.buf[this.pos++]&128);return this};xe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};xe._configure=function(t){Js=t,xe.create=h4(),Js._configure();var e=At.Long?"toLong":"toNumber";At.merge(xe.prototype,{int64:function(){return eo.call(this)[e](!1)},uint64:function(){return eo.call(this)[e](!0)},sint64:function(){return eo.call(this).zzDecode()[e](!1)},fixed64:function(){return d4.call(this)[e](!0)},sfixed64:function(){return d4.call(this)[e](!1)}})}});var m4=b((PS,v4)=>{"use strict";v4.exports=Mr;var y4=to();(Mr.prototype=Object.create(y4.prototype)).constructor=Mr;var g4=lr();function Mr(t){y4.call(this,t)}Mr._configure=function(){g4.Buffer&&(Mr.prototype._slice=g4.Buffer.prototype.slice)};Mr.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Mr._configure()});var x4=b((RS,b4)=>{"use strict";b4.exports=yi;var ro=lr();(yi.prototype=Object.create(ro.EventEmitter.prototype)).constructor=yi;function yi(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");ro.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}yi.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return ro.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,u){if(c)return o.emit("error",c,e),s(c);if(u===null){o.end(!0);return}if(!(u instanceof n))try{u=n[o.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",u,e),s(null,u)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};yi.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var E4=b(w4=>{"use strict";var ad=w4;ad.Service=x4()});var S4=b((DS,_4)=>{"use strict";_4.exports={}});var I4=b(A4=>{"use strict";var $e=A4;$e.build="minimal";$e.Writer=Xs();$e.BufferWriter=u4();$e.Reader=to();$e.BufferReader=m4();$e.util=lr();$e.rpc=E4();$e.roots=S4();$e.configure=B4;function B4(){$e.util._configure(),$e.Writer._configure($e.BufferWriter),$e.Reader._configure($e.BufferReader)}B4()});var gi=b((NS,C4)=>{"use strict";C4.exports=I4()});var N0=b((OS,P4)=>{"use strict";var Vr=gi(),L0=Vr.Reader,T4=Vr.Writer,De=Vr.util,tt=Vr.roots["libp2p-crypto-keys"]||(Vr.roots["libp2p-crypto-keys"]={});tt.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();tt.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=De.newBuffer([]),t.encode=function(r,n){return n||(n=T4.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof L0||(r=L0.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new tt.PublicKey;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw De.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw De.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof tt.PublicKey)return r;var n=new tt.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?De.base64.decode(r.Data,n.Data=De.newBuffer(De.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=De.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?tt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?De.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Vr.util.toJSONOptions)},t}();tt.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=De.newBuffer([]),t.encode=function(r,n){return n||(n=T4.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof L0||(r=L0.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new tt.PrivateKey;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw De.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw De.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof tt.PrivateKey)return r;var n=new tt.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?De.base64.decode(r.Data,n.Data=De.newBuffer(De.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=De.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?tt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?De.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Vr.util.toJSONOptions)},t}();P4.exports=tt});var O0=b((FS,R4)=>{var vi=J();vi.pki=vi.pki||{};var no=R4.exports=vi.pki.oids=vi.oids=vi.oids||{};function I(t,e){no[t]=e,no[e]=t}function Z(t,e){no[t]=e}I("1.2.840.113549.1.1.1","rsaEncryption");I("1.2.840.113549.1.1.4","md5WithRSAEncryption");I("1.2.840.113549.1.1.5","sha1WithRSAEncryption");I("1.2.840.113549.1.1.7","RSAES-OAEP");I("1.2.840.113549.1.1.8","mgf1");I("1.2.840.113549.1.1.9","pSpecified");I("1.2.840.113549.1.1.10","RSASSA-PSS");I("1.2.840.113549.1.1.11","sha256WithRSAEncryption");I("1.2.840.113549.1.1.12","sha384WithRSAEncryption");I("1.2.840.113549.1.1.13","sha512WithRSAEncryption");I("1.3.101.112","EdDSA25519");I("1.2.840.10040.4.3","dsa-with-sha1");I("1.3.14.3.2.7","desCBC");I("1.3.14.3.2.26","sha1");I("2.16.840.1.101.3.4.2.1","sha256");I("2.16.840.1.101.3.4.2.2","sha384");I("2.16.840.1.101.3.4.2.3","sha512");I("1.2.840.113549.2.5","md5");I("1.2.840.113549.1.7.1","data");I("1.2.840.113549.1.7.2","signedData");I("1.2.840.113549.1.7.3","envelopedData");I("1.2.840.113549.1.7.4","signedAndEnvelopedData");I("1.2.840.113549.1.7.5","digestedData");I("1.2.840.113549.1.7.6","encryptedData");I("1.2.840.113549.1.9.1","emailAddress");I("1.2.840.113549.1.9.2","unstructuredName");I("1.2.840.113549.1.9.3","contentType");I("1.2.840.113549.1.9.4","messageDigest");I("1.2.840.113549.1.9.5","signingTime");I("1.2.840.113549.1.9.6","counterSignature");I("1.2.840.113549.1.9.7","challengePassword");I("1.2.840.113549.1.9.8","unstructuredAddress");I("1.2.840.113549.1.9.14","extensionRequest");I("1.2.840.113549.1.9.20","friendlyName");I("1.2.840.113549.1.9.21","localKeyId");I("1.2.840.113549.1.9.22.1","x509Certificate");I("1.2.840.113549.1.12.10.1.1","keyBag");I("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");I("1.2.840.113549.1.12.10.1.3","certBag");I("1.2.840.113549.1.12.10.1.4","crlBag");I("1.2.840.113549.1.12.10.1.5","secretBag");I("1.2.840.113549.1.12.10.1.6","safeContentsBag");I("1.2.840.113549.1.5.13","pkcs5PBES2");I("1.2.840.113549.1.5.12","pkcs5PBKDF2");I("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");I("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");I("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");I("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");I("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");I("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");I("1.2.840.113549.2.7","hmacWithSHA1");I("1.2.840.113549.2.8","hmacWithSHA224");I("1.2.840.113549.2.9","hmacWithSHA256");I("1.2.840.113549.2.10","hmacWithSHA384");I("1.2.840.113549.2.11","hmacWithSHA512");I("1.2.840.113549.3.7","des-EDE3-CBC");I("2.16.840.1.101.3.4.1.2","aes128-CBC");I("2.16.840.1.101.3.4.1.22","aes192-CBC");I("2.16.840.1.101.3.4.1.42","aes256-CBC");I("2.5.4.3","commonName");I("2.5.4.5","serialName");I("2.5.4.6","countryName");I("2.5.4.7","localityName");I("2.5.4.8","stateOrProvinceName");I("2.5.4.9","streetAddress");I("2.5.4.10","organizationName");I("2.5.4.11","organizationalUnitName");I("2.5.4.13","description");I("2.5.4.15","businessCategory");I("2.5.4.17","postalCode");I("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");I("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");I("2.16.840.1.113730.1.1","nsCertType");I("2.16.840.1.113730.1.13","nsComment");Z("2.5.29.1","authorityKeyIdentifier");Z("2.5.29.2","keyAttributes");Z("2.5.29.3","certificatePolicies");Z("2.5.29.4","keyUsageRestriction");Z("2.5.29.5","policyMapping");Z("2.5.29.6","subtreesConstraint");Z("2.5.29.7","subjectAltName");Z("2.5.29.8","issuerAltName");Z("2.5.29.9","subjectDirectoryAttributes");Z("2.5.29.10","basicConstraints");Z("2.5.29.11","nameConstraints");Z("2.5.29.12","policyConstraints");Z("2.5.29.13","basicConstraints");I("2.5.29.14","subjectKeyIdentifier");I("2.5.29.15","keyUsage");Z("2.5.29.16","privateKeyUsagePeriod");I("2.5.29.17","subjectAltName");I("2.5.29.18","issuerAltName");I("2.5.29.19","basicConstraints");Z("2.5.29.20","cRLNumber");Z("2.5.29.21","cRLReason");Z("2.5.29.22","expirationDate");Z("2.5.29.23","instructionCode");Z("2.5.29.24","invalidityDate");Z("2.5.29.25","cRLDistributionPoints");Z("2.5.29.26","issuingDistributionPoint");Z("2.5.29.27","deltaCRLIndicator");Z("2.5.29.28","issuingDistributionPoint");Z("2.5.29.29","certificateIssuer");Z("2.5.29.30","nameConstraints");I("2.5.29.31","cRLDistributionPoints");I("2.5.29.32","certificatePolicies");Z("2.5.29.33","policyMappings");Z("2.5.29.34","policyConstraints");I("2.5.29.35","authorityKeyIdentifier");Z("2.5.29.36","policyConstraints");I("2.5.29.37","extKeyUsage");Z("2.5.29.46","freshestCRL");Z("2.5.29.54","inhibitAnyPolicy");I("1.3.6.1.4.1.11129.2.4.2","timestampList");I("1.3.6.1.5.5.7.1.1","authorityInfoAccess");I("1.3.6.1.5.5.7.3.1","serverAuth");I("1.3.6.1.5.5.7.3.2","clientAuth");I("1.3.6.1.5.5.7.3.3","codeSigning");I("1.3.6.1.5.5.7.3.4","emailProtection");I("1.3.6.1.5.5.7.3.8","timeStamping")});var bi=b((qS,D4)=>{var ue=J();be();O0();var P=D4.exports=ue.asn1=ue.asn1||{};P.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};P.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};P.create=function(t,e,r,n,i){if(ue.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:t,type:e,constructed:r,composed:r||ue.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=P.copy(a)),a};P.copy=function(t,e){var r;if(ue.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(P.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:P.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};P.equals=function(t,e,r){if(ue.util.isArray(t)){if(!ue.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!P.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&P.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};P.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function mi(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var cd=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;mi(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};P.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ue.util.createBuffer(t)),F0(t,t.length(),0,e)};function F0(t,e,r,n){var i;mi(t,e,2);var s=t.getByte();e--;var o=s&192,a=s&31;i=t.length();var c=cd(t,e);if(e-=i-t.length(),c!==void 0&&c>e){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=c,u}c=e}var f,l,d=(s&32)==32;if(d)if(f=[],c===void 0)for(;;){if(mi(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),f.push(F0(t,e,r+1,n)),e-=i-t.length()}else for(;c>0;)i=t.length(),f.push(F0(t,c,r+1,n)),e-=i-t.length(),c-=i-t.length();if(f===void 0&&o===P.Class.UNIVERSAL&&a===P.Type.BITSTRING&&(l=t.bytes(c)),f===void 0&&n.decodeBitStrings&&o===P.Class.UNIVERSAL&&a===P.Type.BITSTRING&&c>1){var p=t.read,h=e,y=0;if(a===P.Type.BITSTRING&&(mi(t,e,1),y=t.getByte(),e--),y===0)try{i=t.length();var g={verbose:n.verbose,strict:!0,decodeBitStrings:!0},v=F0(t,e,r+1,g),x=i-t.length();e-=x,a==P.Type.BITSTRING&&x++;var S=v.tagClass;x===c&&(S===P.Class.UNIVERSAL||S===P.Class.CONTEXT_SPECIFIC)&&(f=[v])}catch(T){}f===void 0&&(t.read=p,e=h)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=e}if(a===P.Type.BMPSTRING)for(f="";c>0;c-=2)mi(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(c)}var k=l===void 0?null:{bitStringContents:l};return P.create(o,a,d,f,k)}P.toDer=function(t){var e=ue.util.createBuffer(),r=t.tagClass|t.type,n=ue.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=P.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(P.toDer(t.value[s]))}else if(t.type===P.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===P.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(n),e};P.oidToDer=function(t){var e=t.split("."),r=ue.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,o,a=2;a<e.length;++a){n=!0,i=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};P.derToOid=function(t){var e;typeof t=="string"&&(t=ue.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};P.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var c=t.charAt(10),u=10;c!=="+"&&c!=="-"&&(a=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,0),u&&(c=t.charAt(u),c==="+"||c==="-")){var f=parseInt(t.substr(u+1,2),10),l=parseInt(t.substr(u+4,2),10),d=f*60+l;d*=6e4,c==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};P.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),c=0,u=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var l=t.length-5,d=t.charAt(l);if(d==="+"||d==="-"){var p=parseInt(t.substr(l+1,2),10),h=parseInt(t.substr(l+4,2),10);u=p*60+h,u*=6e4,d==="+"&&(u*=-1),f=!0}return t.charAt(14)==="."&&(c=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,a,c),e.setTime(+e+u)):(e.setFullYear(r,n,i),e.setHours(s,o,a,c)),e};P.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};P.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};P.integerToDer=function(t){var e=ue.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};P.derToInteger=function(t){typeof t=="string"&&(t=ue.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};P.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(i=!0,e.value&&ue.util.isArray(e.value))for(var s=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[s]&&(i=P.validate(t.value[s],e.value[o],r,n),i?++s:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var c=t.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var k4=/[^\\u0000-\\u00ff]/;P.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case P.Class.UNIVERSAL:n+="Universal:";break;case P.Class.APPLICATION:n+="Application:";break;case P.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case P.Class.PRIVATE:n+="Private:";break}if(t.tagClass===P.Class.UNIVERSAL)switch(n+=t.type,t.type){case P.Type.NONE:n+=" (None)";break;case P.Type.BOOLEAN:n+=" (Boolean)";break;case P.Type.INTEGER:n+=" (Integer)";break;case P.Type.BITSTRING:n+=" (Bit string)";break;case P.Type.OCTETSTRING:n+=" (Octet string)";break;case P.Type.NULL:n+=" (Null)";break;case P.Type.OID:n+=" (Object Identifier)";break;case P.Type.ODESC:n+=" (Object Descriptor)";break;case P.Type.EXTERNAL:n+=" (External or Instance of)";break;case P.Type.REAL:n+=" (Real)";break;case P.Type.ENUMERATED:n+=" (Enumerated)";break;case P.Type.EMBEDDED:n+=" (Embedded PDV)";break;case P.Type.UTF8:n+=" (UTF8)";break;case P.Type.ROID:n+=" (Relative Object Identifier)";break;case P.Type.SEQUENCE:n+=" (Sequence)";break;case P.Type.SET:n+=" (Set)";break;case P.Type.PRINTABLESTRING:n+=" (Printable String)";break;case P.Type.IA5String:n+=" (IA5String (ASCII))";break;case P.Type.UTCTIME:n+=" (UTC time)";break;case P.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case P.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,a="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(o+=1,a+=P.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",t.type===P.Type.OID){var c=P.derToOid(t.value);n+=c,ue.pki&&ue.pki.oids&&c in ue.pki.oids&&(n+=" ("+ue.pki.oids[c]+") ")}if(t.type===P.Type.INTEGER)try{n+=P.derToInteger(t.value)}catch(f){n+="0x"+ue.util.bytesToHex(t.value)}else if(t.type===P.Type.BITSTRING){if(t.value.length>1?n+="0x"+ue.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else t.type===P.Type.OCTETSTRING?(k4.test(t.value)||(n+="("+t.value+") "),n+="0x"+ue.util.bytesToHex(t.value)):t.type===P.Type.UTF8?n+=ue.util.decodeUtf8(t.value):t.type===P.Type.PRINTABLESTRING||t.type===P.Type.IA5String?n+=t.value:k4.test(t.value)?n+="0x"+ue.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var O4=b((KS,N4)=>{var fe=J();Ss();As();be();N4.exports=fe.des=fe.des||{};fe.des.startEncrypting=function(t,e,r,n){var i=q0({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};fe.des.createEncryptionCipher=function(t,e){return q0({key:t,output:null,decrypt:!1,mode:e})};fe.des.startDecrypting=function(t,e,r,n){var i=q0({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};fe.des.createDecryptionCipher=function(t,e){return q0({key:t,output:null,decrypt:!0,mode:e})};fe.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return L4(r._keys,n,i,!1)},decrypt:function(n,i){return L4(r._keys,n,i,!0)}}}),r._init=!1};fe.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=fe.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=vd(e),this._init=!0}};It("DES-ECB",fe.cipher.modes.ecb);It("DES-CBC",fe.cipher.modes.cbc);It("DES-CFB",fe.cipher.modes.cfb);It("DES-OFB",fe.cipher.modes.ofb);It("DES-CTR",fe.cipher.modes.ctr);It("3DES-ECB",fe.cipher.modes.ecb);It("3DES-CBC",fe.cipher.modes.cbc);It("3DES-CFB",fe.cipher.modes.cfb);It("3DES-OFB",fe.cipher.modes.ofb);It("3DES-CTR",fe.cipher.modes.ctr);function It(t,e){var r=function(){return new fe.des.Algorithm(t,e)};fe.cipher.registerAlgorithm(t,r)}var ud=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],fd=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],ld=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],hd=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],dd=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],pd=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],yd=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],gd=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function vd(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],h=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=t.length()>8?3:1,g=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],x=0,S,k=0;k<y;k++){var T=t.getInt32(),C=t.getInt32();S=(T>>>4^C)&252645135,C^=S,T^=S<<4,S=(C>>>-16^T)&65535,T^=S,C^=S<<-16,S=(T>>>2^C)&858993459,C^=S,T^=S<<2,S=(C>>>-16^T)&65535,T^=S,C^=S<<-16,S=(T>>>1^C)&1431655765,C^=S,T^=S<<1,S=(C>>>8^T)&16711935,T^=S,C^=S<<8,S=(T>>>1^C)&1431655765,C^=S,T^=S<<1,S=T<<8|C>>>20&240,T=C<<24|C<<8&16711680|C>>>8&65280|C>>>24&240,C=S;for(var q=0;q<v.length;++q){v[q]?(T=T<<2|T>>>26,C=C<<2|C>>>26):(T=T<<1|T>>>27,C=C<<1|C>>>27),T&=-15,C&=-15;var V=e[T>>>28]|r[T>>>24&15]|n[T>>>20&15]|i[T>>>16&15]|s[T>>>12&15]|o[T>>>8&15]|a[T>>>4&15],Ee=c[C>>>28]|u[C>>>24&15]|f[C>>>20&15]|l[C>>>16&15]|d[C>>>12&15]|p[C>>>8&15]|h[C>>>4&15];S=(Ee>>>16^V)&65535,g[x++]=V^S,g[x++]=Ee^S<<16}}return g}function L4(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],c=e[1];o=(a>>>4^c)&252645135,c^=o,a^=o<<4,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,a=a<<1|a>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],l=s[u+2],d=s[u];d!=f;d+=l){var p=c^t[d],h=(c>>>4|c<<28)^t[d+1];o=a,a=c,c=o^(fd[p>>>24&63]|hd[p>>>16&63]|pd[p>>>8&63]|gd[p&63]|ud[h>>>24&63]|ld[h>>>16&63]|dd[h>>>8&63]|yd[h&63])}o=a,a=c,c=o}a=a>>>1|a<<31,c=c>>>1|c<<31,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(a>>>4^c)&252645135,c^=o,a^=o<<4,r[0]=a,r[1]=c}function q0(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=fe.cipher.createDecipher(r,t.key):n=fe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof fe.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var zr=b((US,F4)=>{var K0=J();F4.exports=K0.md=K0.md||{};K0.md.algorithms=K0.md.algorithms||{}});var K4=b((MS,q4)=>{var Gt=J();zr();be();var md=q4.exports=Gt.hmac=Gt.hmac||{};md.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Gt.md.algorithms)e=Gt.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=t;else{if(typeof o=="string")o=Gt.util.createBuffer(o);else if(Gt.util.isArray(o)){var a=o;o=Gt.util.createBuffer();for(var c=0;c<a.length;++c)o.putByte(a[c])}var u=o.length();u>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=Gt.util.createBuffer(),n=Gt.util.createBuffer(),u=o.length();for(var c=0;c<u;++c){var a=o.at(c);r.putByte(54^a),n.putByte(92^a)}if(u<e.blockLength)for(var a=e.blockLength-u,c=0;c<a;++c)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var xn=b(()=>{});var io=b(($S,U4)=>{var Ke=J();K4();zr();be();var bd=Ke.pkcs5=Ke.pkcs5||{},Yt;Ke.util.isNodejs&&!Ke.options.usePureJavaScript&&(Yt=xn());U4.exports=Ke.pbkdf2=bd.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),Ke.util.isNodejs&&!Ke.options.usePureJavaScript&&Yt.pbkdf2&&(i===null||typeof i!="object")&&(Yt.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?Yt.pbkdf2Sync.length===4?Yt.pbkdf2(t,e,r,n,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):Yt.pbkdf2(t,e,r,n,i,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):Yt.pbkdf2Sync.length===4?Yt.pbkdf2Sync(t,e,r,n).toString("binary"):Yt.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Ke.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Ke.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var c=Math.ceil(n/o),u=n-(c-1)*o,f=Ke.hmac.create();f.start(i,t);var l="",d,p,h;if(!s){for(var y=1;y<=c;++y){f.start(null,null),f.update(e),f.update(Ke.util.int32ToBytes(y)),d=h=f.digest().getBytes();for(var g=2;g<=r;++g)f.start(null,null),f.update(h),p=f.digest().getBytes(),d=Ke.util.xorBytes(d,p,o),h=p;l+=y<c?d:d.substr(0,u)}return l}var y=1,g;function v(){if(y>c)return s(null,l);f.start(null,null),f.update(e),f.update(Ke.util.int32ToBytes(y)),d=h=f.digest().getBytes(),g=2,x()}function x(){if(g<=r)return f.start(null,null),f.update(h),p=f.digest().getBytes(),d=Ke.util.xorBytes(d,p,o),h=p,++g,Ke.util.setImmediate(x);l+=y<c?d:d.substr(0,u),++y,v()}v()}});var z4=b((jS,V4)=>{var U0=J();be();var M4=V4.exports=U0.pem=U0.pem||{};M4.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=M0(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=M0(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=M0(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=M0(t.headers[i]);return t.procType&&(r+=`\r
`),r+=U0.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};M4.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var o={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:U0.util.decode64(s[3])};if(e.push(o),!!s[2]){for(var a=s[2].split(i),c=0;s&&c<a.length;){for(var u=a[c].replace(/\s+$/,""),f=c+1;f<a.length;++f){var l=a[f];if(!/\s/.test(l[0]))break;u+=l,c=f}if(s=u.match(n),s){for(var d={name:s[1],values:[]},p=s[2].split(","),h=0;h<p.length;++h)d.values.push(xd(p[h]));if(o.procType)if(!o.contentDomain&&d.name==="Content-Domain")o.contentDomain=p[0]||"";else if(!o.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:p[0],parameters:p[1]||null}}else o.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:p[0],type:p[1]}}}++c}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function M0(t){for(var e=t.name+": ",r=[],n=function(c,u){return" "+u},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<e.length;++i,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}function xd(t){return t.replace(/^\s+/,"")}});var W4=b((HS,Y4)=>{var Ct=J();zr();be();var $4=Y4.exports=Ct.sha256=Ct.sha256||{};Ct.md.sha256=Ct.md.algorithms.sha256=$4;$4.create=function(){j4||wd();var t=null,e=Ct.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Ct.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Ct.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),G4(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ct.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(so.substr(0,n.blockLength-o));for(var a,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,c=a/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=a>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};G4(l,r,i);var d=Ct.util.createBuffer();return d.putInt32(l.h0),d.putInt32(l.h1),d.putInt32(l.h2),d.putInt32(l.h3),d.putInt32(l.h4),d.putInt32(l.h5),d.putInt32(l.h6),d.putInt32(l.h7),d},n};var so=null,j4=!1,H4=null;function wd(){so=String.fromCharCode(128),so+=Ct.util.fillString(String.fromCharCode(0),64),H4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],j4=!0}function G4(t,e,r){for(var n,i,s,o,a,c,u,f,l,d,p,h,y,g,v,x=r.length();x>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=e[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(f=t.h0,l=t.h1,d=t.h2,p=t.h3,h=t.h4,y=t.h5,g=t.h6,v=t.h7,u=0;u<64;++u)o=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),a=g^h&(y^g),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&l|d&(f^l),n=v+o+a+H4[u]+e[u],i=s+c,v=g,g=y,y=h,h=p+n>>>0,p=d,d=l,l=f,f=n+i>>>0;t.h0=t.h0+f|0,t.h1=t.h1+l|0,t.h2=t.h2+d|0,t.h3=t.h3+p|0,t.h4=t.h4+h|0,t.h5=t.h5+y|0,t.h6=t.h6+g|0,t.h7=t.h7+v|0,x-=64}}});var Z4=b((GS,Q4)=>{var Tt=J();be();var V0=null;Tt.util.isNodejs&&!Tt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(V0=xn());var Ed=Q4.exports=Tt.prng=Tt.prng||{};Ed.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(u,f){if(!f)return e.generateSync(u);var l=e.plugin.cipher,d=e.plugin.increment,p=e.plugin.formatKey,h=e.plugin.formatSeed,y=Tt.util.createBuffer();e.key=null,g();function g(v){if(v)return f(v);if(y.length()>=u)return f(null,y.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return Tt.util.nextTick(function(){s(g)});var x=l(e.key,e.seed);e.generated+=x.length,y.putBytes(x),e.key=p(l(e.key,d(e.seed))),e.seed=h(l(e.key,e.seed)),Tt.util.setImmediate(g)}},e.generateSync=function(u){var f=e.plugin.cipher,l=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed;e.key=null;for(var h=Tt.util.createBuffer();h.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&o();var y=f(e.key,e.seed);e.generated+=y.length,h.putBytes(y),e.key=d(f(e.key,l(e.seed))),e.seed=p(f(e.key,e.seed))}return h.getBytes(u)};function s(u){if(e.pools[0].messageLength>=32)return a(),u();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(l,d){if(l)return u(l);e.collect(d),a(),u()})}function o(){if(e.pools[0].messageLength>=32)return a();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var f=1,l=0;l<32;++l)e.reseeds%f==0&&(u.update(e.pools[l].digest().getBytes()),e.pools[l].start()),f=f<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var d=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function c(u){var f=null,l=Tt.util.globalScope,d=l.crypto||l.msCrypto;d&&d.getRandomValues&&(f=function(T){return d.getRandomValues(T)});var p=Tt.util.createBuffer();if(f)for(;p.length()<u;){var h=Math.max(1,Math.min(u-p.length(),65536)/4),y=new Uint32Array(Math.floor(h));try{f(y);for(var g=0;g<y.length;++g)p.putInt32(y[g])}catch(T){if(!(typeof QuotaExceededError!="undefined"&&T instanceof QuotaExceededError))throw T}}if(p.length()<u)for(var v,x,S,k=Math.floor(Math.random()*65536);p.length()<u;){x=16807*(k&65535),v=16807*(k>>16),x+=(v&32767)<<16,x+=v>>15,x=(x&2147483647)+(x>>31),k=x&4294967295;for(var g=0;g<3;++g)S=k>>>(g<<3),S^=Math.floor(Math.random()*256),p.putByte(String.fromCharCode(S&255))}return p.getBytes(u)}return V0?(e.seedFile=function(u,f){V0.randomBytes(u,function(l,d){if(l)return f(l);f(null,d.toString())})},e.seedFileSync=function(u){return V0.randomBytes(u).toString()}):(e.seedFile=function(u,f){try{f(null,c(u))}catch(l){f(l)}},e.seedFileSync=c),e.collect=function(u){for(var f=u.length,l=0;l<f;++l)e.pools[e.pool].update(u.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,f){for(var l="",d=0;d<f;d+=8)l+=String.fromCharCode(u>>d&255);e.collect(l)},e.registerWorker=function(u){if(u===self)e.seedFile=function(l,d){function p(h){var y=h.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",p),d(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var d=l.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(p,h){u.postMessage({forge:{prng:{err:p,bytes:h}}})})};u.addEventListener("message",f)}},e}});var xi=b((YS,oo)=>{var Re=J();b0();W4();Z4();be();(function(){if(Re.random&&Re.random.getBytes){oo.exports=Re.random;return}(function(t){var e={},r=new Array(4),n=Re.util.createBuffer();e.formatKey=function(l){var d=Re.util.createBuffer(l);return l=new Array(4),l[0]=d.getInt32(),l[1]=d.getInt32(),l[2]=d.getInt32(),l[3]=d.getInt32(),Re.aes._expandKey(l,!1)},e.formatSeed=function(l){var d=Re.util.createBuffer(l);return l=new Array(4),l[0]=d.getInt32(),l[1]=d.getInt32(),l[2]=d.getInt32(),l[3]=d.getInt32(),l},e.cipher=function(l,d){return Re.aes._updateBlock(l,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Re.md.sha256;function i(){var l=Re.prng.create(e);return l.getBytes=function(d,p){return l.generate(d,p)},l.getBytesSync=function(d){return l.generate(d)},l}var s=i(),o=null,a=Re.util.globalScope,c=a.crypto||a.msCrypto;if(c&&c.getRandomValues&&(o=function(l){return c.getRandomValues(l)}),Re.options.usePureJavaScript||!Re.util.isNodejs&&!o){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch(l){}s.collect(u),u=null}t&&(t().mousemove(function(l){s.collectInt(l.clientX,16),s.collectInt(l.clientY,16)}),t().keypress(function(l){s.collectInt(l.charCode,8)}))}if(!Re.random)Re.random=s;else for(var f in s)Re.random[f]=s[f];Re.random.createInstance=i,oo.exports=Re.random})(typeof jQuery!="undefined"?jQuery:null)})()});var tc=b((WS,ec)=>{var je=J();be();var ao=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],X4=[1,2,3,5],_d=function(t,e){return t<<e&65535|(t&65535)>>16-e},Sd=function(t,e){return(t&65535)>>e|t<<16-e&65535};ec.exports=je.rc2=je.rc2||{};je.rc2.expandKey=function(t,e){typeof t=="string"&&(t=je.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(ao[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,ao[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,ao[r.at(a+1)^r.at(a+s)]);return r};var J4=function(t,e,r){var n=!1,i=null,s=null,o=null,a,c,u,f,l=[];for(t=je.rc2.expandKey(t,e),u=0;u<64;u++)l.push(t.getInt16Le());r?(a=function(h){for(u=0;u<4;u++)h[u]+=l[f]+(h[(u+3)%4]&h[(u+2)%4])+(~h[(u+3)%4]&h[(u+1)%4]),h[u]=_d(h[u],X4[u]),f++},c=function(h){for(u=0;u<4;u++)h[u]+=l[h[(u+3)%4]&63]}):(a=function(h){for(u=3;u>=0;u--)h[u]=Sd(h[u],X4[u]),h[u]-=l[f]+(h[(u+3)%4]&h[(u+2)%4])+(~h[(u+3)%4]&h[(u+1)%4]),f--},c=function(h){for(u=3;u>=0;u--)h[u]-=l[h[(u+3)%4]&63]});var d=function(h){var y=[];for(u=0;u<4;u++){var g=i.getInt16Le();o!==null&&(r?g^=o.getInt16Le():o.putInt16Le(g)),y.push(g&65535)}f=r?0:63;for(var v=0;v<h.length;v++)for(var x=0;x<h[v][0];x++)h[v][1](y);for(u=0;u<4;u++)o!==null&&(r?o.putInt16Le(y[u]):y[u]^=o.getInt16Le()),s.putInt16Le(y[u])},p=null;return p={start:function(h,y){h&&typeof h=="string"&&(h=je.util.createBuffer(h)),n=!1,i=je.util.createBuffer(),s=y||new je.util.createBuffer,o=h,p.output=s},update:function(h){for(n||i.putBuffer(h);i.length()>=8;)d([[5,a],[1,c],[6,a],[1,c],[5,a]])},finish:function(h){var y=!0;if(r)if(h)y=h(8,i,!r);else{var g=i.length()===8?8:8-i.length();i.fillWithByte(g,g)}if(y&&(n=!0,p.update()),!r&&(y=i.length()===0,y))if(h)y=h(8,s,!r);else{var v=s.length(),x=s.at(v-1);x>v?y=!1:s.truncate(x)}return y}},p};je.rc2.startEncrypting=function(t,e,r){var n=je.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};je.rc2.createEncryptionCipher=function(t,e){return J4(t,e,!0)};je.rc2.startDecrypting=function(t,e,r){var n=je.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};je.rc2.createDecryptionCipher=function(t,e){return J4(t,e,!1)}});var j0=b((QS,uc)=>{var co=J();uc.exports=co.jsbn=co.jsbn||{};var Wt,Bd=244837814094590,rc=(Bd&16777215)==15715070;function B(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}co.jsbn.BigInteger=B;function Y(){return new B(null)}function Ad(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function Id(t,e,r,n,i,s){for(var o=e&32767,a=e>>15;--s>=0;){var c=this.data[t]&32767,u=this.data[t++]>>15,f=a*c+u*o;c=o*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+a*u+(i>>>30),r.data[n++]=c&1073741823}return i}function nc(t,e,r,n,i,s){for(var o=e&16383,a=e>>14;--s>=0;){var c=this.data[t]&16383,u=this.data[t++]>>14,f=a*c+u*o;c=o*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+a*u,r.data[n++]=c&268435455}return i}typeof navigator=="undefined"?(B.prototype.am=nc,Wt=28):rc&&navigator.appName=="Microsoft Internet Explorer"?(B.prototype.am=Id,Wt=30):rc&&navigator.appName!="Netscape"?(B.prototype.am=Ad,Wt=26):(B.prototype.am=nc,Wt=28);B.prototype.DB=Wt;B.prototype.DM=(1<<Wt)-1;B.prototype.DV=1<<Wt;var uo=52;B.prototype.FV=Math.pow(2,uo);B.prototype.F1=uo-Wt;B.prototype.F2=2*Wt-uo;var Cd="0123456789abcdefghijklmnopqrstuvwxyz",z0=new Array,wn,rt;wn="0".charCodeAt(0);for(rt=0;rt<=9;++rt)z0[wn++]=rt;wn="a".charCodeAt(0);for(rt=10;rt<36;++rt)z0[wn++]=rt;wn="A".charCodeAt(0);for(rt=10;rt<36;++rt)z0[wn++]=rt;function ic(t){return Cd.charAt(t)}function sc(t,e){var r=z0[t.charCodeAt(e)];return r??-1}function Td(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Pd(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function dr(t){var e=Y();return e.fromInt(t),e}function Rd(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=r==8?t[n]&255:sc(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&B.ZERO.subTo(this,this)}function kd(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Dd(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=ic(n));o>=0;)a<e?(n=(this.data[o]&(1<<a)-1)<<e-a,n|=this.data[--o]>>(a+=this.DB-e)):(n=this.data[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=ic(n));return i?s:"0"}function Ld(){var t=Y();return B.ZERO.subTo(this,t),t}function Nd(){return this.s<0?this.negate():this}function Od(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function $0(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Fd(){return this.t<=0?0:this.DB*(this.t-1)+$0(this.data[this.t-1]^this.s&this.DM)}function qd(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Kd(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Ud(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function Md(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function Vd(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function zd(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&B.ZERO.subTo(e,e)}function $d(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function jd(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Y());var s=Y(),o=this.s,a=t.s,c=this.DB-$0(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),d=this.FV/l,p=(1<<this.F1)/l,h=1<<this.F2,y=r.t,g=y-u,v=e??Y();for(s.dlShiftTo(g,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),B.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--g>=0;){var x=r.data[--y]==f?this.DM:Math.floor(r.data[y]*d+(r.data[y-1]+h)*p);if((r.data[y]+=s.am(0,x,r,g,0,u))<x)for(s.dlShiftTo(g,v),r.subTo(v,r);r.data[y]<--x;)r.subTo(v,r)}e!=null&&(r.drShiftTo(u,e),o!=a&&B.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),o<0&&B.ZERO.subTo(r,r)}}}function Hd(t){var e=Y();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(B.ZERO)>0&&t.subTo(e,e),e}function $r(t){this.m=t}function Gd(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Yd(t){return t}function Wd(t){t.divRemTo(this.m,null,t)}function Qd(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Zd(t,e){t.squareTo(e),this.reduce(e)}$r.prototype.convert=Gd;$r.prototype.revert=Yd;$r.prototype.reduce=Wd;$r.prototype.mulTo=Qd;$r.prototype.sqrTo=Zd;function Xd(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function jr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Jd(t){var e=Y();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(B.ZERO)>0&&this.m.subTo(e,e),e}function ep(t){var e=Y();return t.copyTo(e),this.reduce(e),e}function tp(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function rp(t,e){t.squareTo(e),this.reduce(e)}function np(t,e,r){t.multiplyTo(e,r),this.reduce(r)}jr.prototype.convert=Jd;jr.prototype.revert=ep;jr.prototype.reduce=tp;jr.prototype.mulTo=np;jr.prototype.sqrTo=rp;function ip(){return(this.t>0?this.data[0]&1:this.s)==0}function sp(t,e){if(t>4294967295||t<1)return B.ONE;var r=Y(),n=Y(),i=e.convert(this),s=$0(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function op(t,e){var r;return t<256||e.isEven()?r=new $r(e):r=new jr(e),this.exp(t,r)}B.prototype.copyTo=Td;B.prototype.fromInt=Pd;B.prototype.fromString=Rd;B.prototype.clamp=kd;B.prototype.dlShiftTo=qd;B.prototype.drShiftTo=Kd;B.prototype.lShiftTo=Ud;B.prototype.rShiftTo=Md;B.prototype.subTo=Vd;B.prototype.multiplyTo=zd;B.prototype.squareTo=$d;B.prototype.divRemTo=jd;B.prototype.invDigit=Xd;B.prototype.isEven=ip;B.prototype.exp=sp;B.prototype.toString=Dd;B.prototype.negate=Ld;B.prototype.abs=Nd;B.prototype.compareTo=Od;B.prototype.bitLength=Fd;B.prototype.mod=Hd;B.prototype.modPowInt=op;B.ZERO=dr(0);B.ONE=dr(1);function ap(){var t=Y();return this.copyTo(t),t}function cp(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function up(){return this.t==0?this.s:this.data[0]<<24>>24}function fp(){return this.t==0?this.s:this.data[0]<<16>>16}function lp(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function hp(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function dp(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=dr(r),i=Y(),s=Y(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function pp(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var c=sc(t,a);if(c<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&B.ZERO.subTo(this,this)}function yp(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(B.ONE.shiftLeft(t-1),fo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(B.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function gp(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function vp(t){return this.compareTo(t)==0}function mp(t){return this.compareTo(t)<0?this:t}function bp(t){return this.compareTo(t)>0?this:t}function xp(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function wp(t,e){return t&e}function Ep(t){var e=Y();return this.bitwiseTo(t,wp,e),e}function fo(t,e){return t|e}function _p(t){var e=Y();return this.bitwiseTo(t,fo,e),e}function oc(t,e){return t^e}function Sp(t){var e=Y();return this.bitwiseTo(t,oc,e),e}function ac(t,e){return t&~e}function Bp(t){var e=Y();return this.bitwiseTo(t,ac,e),e}function Ap(){for(var t=Y(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Ip(t){var e=Y();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Cp(t){var e=Y();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Tp(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function Pp(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Tp(this.data[t]);return this.s<0?this.t*this.DB:-1}function Rp(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function kp(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Rp(this.data[r]^e);return t}function Dp(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Lp(t,e){var r=B.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Np(t){return this.changeBit(t,fo)}function Op(t){return this.changeBit(t,ac)}function Fp(t){return this.changeBit(t,oc)}function qp(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Kp(t){var e=Y();return this.addTo(t,e),e}function Up(t){var e=Y();return this.subTo(t,e),e}function Mp(t){var e=Y();return this.multiplyTo(t,e),e}function Vp(t){var e=Y();return this.divRemTo(t,e,null),e}function zp(t){var e=Y();return this.divRemTo(t,null,e),e}function $p(t){var e=Y(),r=Y();return this.divRemTo(t,e,r),new Array(e,r)}function jp(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Hp(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function wi(){}function cc(t){return t}function Gp(t,e,r){t.multiplyTo(e,r)}function Yp(t,e){t.squareTo(e)}wi.prototype.convert=cc;wi.prototype.revert=cc;wi.prototype.mulTo=Gp;wi.prototype.sqrTo=Yp;function Wp(t){return this.exp(t,new wi)}function Qp(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Zp(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function En(t){this.r2=Y(),this.q3=Y(),B.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Xp(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Y();return t.copyTo(e),this.reduce(e),e}function Jp(t){return t}function ey(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function ty(t,e){t.squareTo(e),this.reduce(e)}function ry(t,e,r){t.multiplyTo(e,r),this.reduce(r)}En.prototype.convert=Xp;En.prototype.revert=Jp;En.prototype.reduce=ey;En.prototype.mulTo=ry;En.prototype.sqrTo=ty;function ny(t,e){var r=t.bitLength(),n,i=dr(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new $r(e):e.isEven()?s=new En(e):s=new jr(e);var o=new Array,a=3,c=n-1,u=(1<<n)-1;if(o[1]=s.convert(this),n>1){var f=Y();for(s.sqrTo(o[1],f);a<=u;)o[a]=Y(),s.mulTo(f,o[a-2],o[a]),a+=2}var l=t.t-1,d,p=!0,h=Y(),y;for(r=$0(t.data[l])-1;l>=0;){for(r>=c?d=t.data[l]>>r-c&u:(d=(t.data[l]&(1<<r+1)-1)<<c-r,l>0&&(d|=t.data[l-1]>>this.DB+r-c)),a=n;(d&1)==0;)d>>=1,--a;if((r-=a)<0&&(r+=this.DB,--l),p)o[d].copyTo(i),p=!1;else{for(;a>1;)s.sqrTo(i,h),s.sqrTo(h,i),a-=2;a>0?s.sqrTo(i,h):(y=i,i=h,h=y),s.mulTo(h,o[d],i)}for(;l>=0&&(t.data[l]&1<<r)==0;)s.sqrTo(i,h),y=i,i=h,h=y,--r<0&&(r=this.DB-1,--l)}return s.revert(i)}function iy(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function sy(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function oy(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return B.ZERO;for(var r=t.clone(),n=this.clone(),i=dr(1),s=dr(0),o=dr(0),a=dr(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(B.ONE)!=0)return B.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var gt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ay=(1<<26)/gt[gt.length-1];function cy(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=gt[gt.length-1]){for(e=0;e<gt.length;++e)if(r.data[0]==gt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<gt.length;){for(var n=gt[e],i=e+1;i<gt.length&&n<ay;)n*=gt[i++];for(n=r.modInt(n);e<i;)if(n%gt[e++]==0)return!1}return r.millerRabin(t)}function uy(t){var e=this.subtract(B.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=fy(),s,o=0;o<t;++o){do s=new B(this.bitLength(),i);while(s.compareTo(B.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(n,this);if(a.compareTo(B.ONE)!=0&&a.compareTo(e)!=0){for(var c=1;c++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(B.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function fy(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}B.prototype.chunkSize=lp;B.prototype.toRadix=dp;B.prototype.fromRadix=pp;B.prototype.fromNumber=yp;B.prototype.bitwiseTo=xp;B.prototype.changeBit=Lp;B.prototype.addTo=qp;B.prototype.dMultiply=jp;B.prototype.dAddOffset=Hp;B.prototype.multiplyLowerTo=Qp;B.prototype.multiplyUpperTo=Zp;B.prototype.modInt=sy;B.prototype.millerRabin=uy;B.prototype.clone=ap;B.prototype.intValue=cp;B.prototype.byteValue=up;B.prototype.shortValue=fp;B.prototype.signum=hp;B.prototype.toByteArray=gp;B.prototype.equals=vp;B.prototype.min=mp;B.prototype.max=bp;B.prototype.and=Ep;B.prototype.or=_p;B.prototype.xor=Sp;B.prototype.andNot=Bp;B.prototype.not=Ap;B.prototype.shiftLeft=Ip;B.prototype.shiftRight=Cp;B.prototype.getLowestSetBit=Pp;B.prototype.bitCount=kp;B.prototype.testBit=Dp;B.prototype.setBit=Np;B.prototype.clearBit=Op;B.prototype.flipBit=Fp;B.prototype.add=Kp;B.prototype.subtract=Up;B.prototype.multiply=Mp;B.prototype.divide=Vp;B.prototype.remainder=zp;B.prototype.divideAndRemainder=$p;B.prototype.modPow=ny;B.prototype.modInverse=oy;B.prototype.pow=Wp;B.prototype.gcd=iy;B.prototype.isProbablePrime=cy});var pc=b((ZS,dc)=>{var Pt=J();zr();be();var fc=dc.exports=Pt.sha1=Pt.sha1||{};Pt.md.sha1=Pt.md.algorithms.sha1=fc;fc.create=function(){lc||ly();var t=null,e=Pt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Pt.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Pt.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),hc(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Pt.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(lo.substr(0,n.blockLength-o));for(var a,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,c=a/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=a>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};hc(l,r,i);var d=Pt.util.createBuffer();return d.putInt32(l.h0),d.putInt32(l.h1),d.putInt32(l.h2),d.putInt32(l.h3),d.putInt32(l.h4),d},n};var lo=null,lc=!1;function ly(){lo=String.fromCharCode(128),lo+=Pt.util.fillString(String.fromCharCode(0),64),lc=!0}function hc(t,e,r){for(var n,i,s,o,a,c,u,f,l=r.length();l>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,c=t.h4,f=0;f<16;++f)n=r.getInt32(),e[f]=n,u=a^s&(o^a),n=(i<<5|i>>>27)+u+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,u=a^s&(o^a),n=(i<<5|i>>>27)+u+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,u=s^o^a,n=(i<<5|i>>>27)+u+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,u=s^o^a,n=(i<<5|i>>>27)+u+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,u=s&o|a&(s^o),n=(i<<5|i>>>27)+u+c+2400959708+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,u=s^o^a,n=(i<<5|i>>>27)+u+c+3395469782+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+c|0,l-=64}}});var vc=b((XS,gc)=>{var Rt=J();be();xi();pc();var yc=gc.exports=Rt.pkcs1=Rt.pkcs1||{};yc.encode_rsa_oaep=function(t,e,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=Rt.md.sha1.create(),o||(o=s);var a=Math.ceil(t.n.bitLength()/8),c=a-2*s.digestLength-2;if(e.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),l="",d=c-e.length,p=0;p<d;p++)l+="\0";var h=f.getBytes()+l+""+e;if(!i)i=Rt.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var y=H0(i,a-s.digestLength-1,o),g=Rt.util.xorBytes(h,y,h.length),v=H0(g,s.digestLength,o),x=Rt.util.xorBytes(i,v,i.length);return"\0"+x+g};yc.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=e.length,g.expectedLength=o,g}if(i===void 0?i=Rt.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),c=e.charAt(0),u=e.substring(1,i.digestLength+1),f=e.substring(1+i.digestLength),l=H0(f,i.digestLength,s),d=Rt.util.xorBytes(u,l,u.length),p=H0(d,o-i.digestLength-1,s),h=Rt.util.xorBytes(f,p,f.length),y=h.substring(0,i.digestLength),g=c!=="\0",v=0;v<i.digestLength;++v)g|=a.charAt(v)!==y.charAt(v);for(var x=1,S=i.digestLength,k=i.digestLength;k<h.length;k++){var T=h.charCodeAt(k),C=T&1^1,q=x?65534:0;g|=T&q,x=x&C,S+=x}if(g||h.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return h.substring(S+1)};function H0(t,e,r){r||(r=Rt.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}});var mc=b((JS,ho)=>{var pr=J();be();j0();xi();(function(){if(pr.prime){ho.exports=pr.prime;return}var t=ho.exports=pr.prime=pr.prime||{},e=pr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,d){return l|d};t.generateProbablePrime=function(l,d,p){typeof d=="function"&&(p=d,d={}),d=d||{};var h=d.algorithm||"PRIMEINC";typeof h=="string"&&(h={name:h}),h.options=h.options||{};var y=d.prng||pr.random,g={nextBytes:function(v){for(var x=y.getBytesSync(v.length),S=0;S<v.length;++S)v[S]=x.charCodeAt(S)}};if(h.name==="PRIMEINC")return s(l,g,h.options,p);throw new Error("Invalid prime generation algorithm: "+h.name)};function s(l,d,p,h){return"workers"in p?c(l,d,p,h):o(l,d,p,h)}function o(l,d,p,h){var y=u(l,d),g=0,v=f(y.bitLength());"millerRabinTests"in p&&(v=p.millerRabinTests);var x=10;"maxBlockTime"in p&&(x=p.maxBlockTime),a(y,l,d,g,v,x,h)}function a(l,d,p,h,y,g,v){var x=+new Date;do{if(l.bitLength()>d&&(l=u(d,p)),l.isProbablePrime(y))return v(null,l);l.dAddOffset(r[h++%8],0)}while(g<0||+new Date-x<g);pr.util.setImmediate(function(){a(l,d,p,h,y,g,v)})}function c(l,d,p,h){if(typeof Worker=="undefined")return o(l,d,p,h);var y=u(l,d),g=p.workers,v=p.workLoad||100,x=v*30/8,S=p.workerScript||"forge/prime.worker.js";if(g===-1)return pr.util.estimateCores(function(T,C){T&&(C=2),g=C-1,k()});k();function k(){g=Math.max(1,g);for(var T=[],C=0;C<g;++C)T[C]=new Worker(S);for(var q=g,C=0;C<g;++C)T[C].addEventListener("message",Ee);var V=!1;function Ee(lt){if(!V){--q;var Ye=lt.data;if(Ye.found){for(var Fe=0;Fe<T.length;++Fe)T[Fe].terminate();return V=!0,h(null,new e(Ye.prime,16))}y.bitLength()>l&&(y=u(l,d));var an=y.toString(16);lt.target.postMessage({hex:an,workLoad:v}),y.dAddOffset(x,0)}}}}function u(l,d){var p=new e(l,d),h=l-1;return p.testBit(h)||p.bitwiseTo(e.ONE.shiftLeft(h),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var Y0=b((eB,Bc)=>{var K=J();bi();j0();O0();vc();mc();xi();be();typeof $=="undefined"&&($=K.jsbn.BigInteger);var $,po=K.util.isNodejs?xn():null,w=K.asn1,nt=K.util;K.pki=K.pki||{};Bc.exports=K.pki.rsa=K.rsa=K.rsa||{};var U=K.pki,hy=[6,4,2,4,2,4,6,2],dy={name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},py={name:"RSAPrivateKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},yy={name:"RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},gy=K.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},vy=function(t){var e;if(t.algorithm in U.oids)e=U.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=w.oidToDer(e).getBytes(),i=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),s=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);s.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,n)),s.value.push(w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,""));var o=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(o),w.toDer(i).getBytes()},bc=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract($.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract($.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new $(K.util.bytesToHex(K.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals($.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var o=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o};U.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=xc(t,e,r)):(i=K.util.createBuffer(),i.putBytes(t));for(var o=new $(i.toHex(),16),a=bc(o,e,n),c=a.toString(16),u=K.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(K.util.hexToBytes(c)),u.getBytes()};U.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var o=new $(K.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=bc(o,e,r),c=a.toString(16),u=K.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(K.util.hexToBytes(c)),n!==!1?G0(u.getBytes(),e,r):u.getBytes()};U.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||K.random,i={nextBytes:function(a){for(var c=n.getBytesSync(a.length),u=0;u<a.length;++u)a[u]=c.charCodeAt(u)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new $(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};U.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new $(null);r.fromInt(30);for(var n=0,i=function(l,d){return l|d},s=+new Date,o,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var c=t.p===null?t.pBits:t.qBits,u=c-1;t.pqState===0?(t.num=new $(c,t.rng),t.num.testBit(u)||t.num.bitwiseTo($.ONE.shiftLeft(u),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>c?t.pqState=0:t.num.isProbablePrime(by(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(hy[n++%8],0):t.pqState===2?t.pqState=t.num.subtract($.ONE).gcd(t.e).compareTo($.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract($.ONE),t.q1=t.q.subtract($.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo($.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)}}o=+new Date,a+=o-s,s=o}return t.keys!==null};U.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!K.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(wc("generateKeyPair"))return po.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,c,u){if(a)return n(a);n(null,{privateKey:U.privateKeyFromPem(u),publicKey:U.publicKeyFromPem(c)})});if(Ec("generateKey")&&Ec("exportKey"))return nt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Sc(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return nt.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var c=U.privateKeyFromAsn1(w.fromDer(K.util.createBuffer(a)));n(null,{privateKey:c,publicKey:U.setRsaPublicKey(c.n,c.e)})}});if(_c("generateKey")&&_c("exportKey")){var i=nt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Sc(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var c=a.target.result,u=nt.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var l=f.target.result,d=U.privateKeyFromAsn1(w.fromDer(K.util.createBuffer(l)));n(null,{privateKey:d,publicKey:U.setRsaPublicKey(d.n,d.e)})},u.onerror=function(f){n(f)}},i.onerror=function(a){n(a)};return}}else if(wc("generateKeyPairSync")){var s=po.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:U.privateKeyFromPem(s.privateKey),publicKey:U.publicKeyFromPem(s.publicKey)}}}var o=U.rsa.createKeyPairGenerationState(t,e,r);if(!n)return U.rsa.stepKeyPairGenerationState(o,0),o.keys;my(o,r,n)};U.setRsaPublicKey=U.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,c,u){return xc(a,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,c){return K.pkcs1.encode_rsa_oaep(c,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return U.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(a,c){c=G0(c,r,!0);var u=w.fromDer(c);return a===u.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(a,c){return c=G0(c,r,!0),a===c}});var o=U.rsa.decrypt(i,r,!0,!1);return s.verify(n,o,r.n.bitLength())},r};U.setRsaPrivateKey=U.rsa.setPrivateKey=function(t,e,r,n,i,s,o,a){var c={n:t,e,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return c.decrypt=function(u,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var d=U.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:G0};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(p,h){return K.pkcs1.decode_rsa_oaep(h,p,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(d,c,!1)},c.sign=function(u,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:vy},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return u}},l=1);var d=f.encode(u,c.n.bitLength());return U.rsa.encrypt(d,c,l)},c};U.wrapRsaPrivateKey=function(t){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(U.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,w.toDer(t).getBytes())])};U.privateKeyFromAsn1=function(t){var e={},r=[];if(w.validate(t,dy,e,r)&&(t=w.fromDer(K.util.createBuffer(e.privateKey))),e={},r=[],!w.validate(t,py,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,c,u,f,l;return i=K.util.createBuffer(e.privateKeyModulus).toHex(),s=K.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=K.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=K.util.createBuffer(e.privateKeyPrime1).toHex(),c=K.util.createBuffer(e.privateKeyPrime2).toHex(),u=K.util.createBuffer(e.privateKeyExponent1).toHex(),f=K.util.createBuffer(e.privateKeyExponent2).toHex(),l=K.util.createBuffer(e.privateKeyCoefficient).toHex(),U.setRsaPrivateKey(new $(i,16),new $(s,16),new $(o,16),new $(a,16),new $(c,16),new $(u,16),new $(f,16),new $(l,16))};U.privateKeyToAsn1=U.privateKeyToRSAPrivateKey=function(t){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.e)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.d)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.p)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.q)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.dP)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.dQ)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.qInv))])};U.publicKeyFromAsn1=function(t){var e={},r=[];if(w.validate(t,gy,e,r)){var n=w.derToOid(e.publicKeyOid);if(n!==U.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!w.validate(t,yy,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=K.util.createBuffer(e.publicKeyModulus).toHex(),o=K.util.createBuffer(e.publicKeyExponent).toHex();return U.setRsaPublicKey(new $(s,16),new $(o,16))};U.publicKeyToAsn1=U.publicKeyToSubjectPublicKeyInfo=function(t){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(U.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,[U.publicKeyToRSAPublicKey(t)])])};U.publicKeyToRSAPublicKey=function(t){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,kt(t.e))])};function xc(t,e,r){var n=K.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var c=0;c<o;++c)n.putByte(a)}else for(;o>0;){for(var u=0,f=K.random.getBytes(o),c=0;c<o;++c)a=f.charCodeAt(c),a===0?++u:n.putByte(a);o=u}return n.putByte(0),n.putBytes(t),n}function G0(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=K.util.createBuffer(t),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(a===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(a===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function my(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(a,c){if(a)return r(a);if(t.p=c,t.q!==null)return o(a,t.q);s(t.qBits,o)})}function s(a,c){K.prime.generateProbablePrime(a,n,c)}function o(a,c){if(a)return r(a);if(t.q=c,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract($.ONE).gcd(t.e).compareTo($.ONE)!==0){t.p=null,i();return}if(t.q.subtract($.ONE).gcd(t.e).compareTo($.ONE)!==0){t.q=null,s(t.qBits,o);return}if(t.p1=t.p.subtract($.ONE),t.q1=t.q.subtract($.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo($.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,o);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function kt(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=K.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function by(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function wc(t){return K.util.isNodejs&&typeof po[t]=="function"}function Ec(t){return typeof nt.globalScope!="undefined"&&typeof nt.globalScope.crypto=="object"&&typeof nt.globalScope.crypto.subtle=="object"&&typeof nt.globalScope.crypto.subtle[t]=="function"}function _c(t){return typeof nt.globalScope!="undefined"&&typeof nt.globalScope.msCrypto=="object"&&typeof nt.globalScope.msCrypto.subtle=="object"&&typeof nt.globalScope.msCrypto.subtle[t]=="function"}function Sc(t){for(var e=K.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var Rc=b((tB,Pc)=>{var R=J();b0();bi();O4();zr();O0();io();z4();xi();tc();Y0();be();typeof Ac=="undefined"&&(Ac=R.jsbn.BigInteger);var Ac,E=R.asn1,M=R.pki=R.pki||{};Pc.exports=M.pbe=R.pbe=R.pbe||{};var Hr=M.oids,xy={name:"EncryptedPrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},wy={name:"PBES2Algorithms",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Ey={name:"pkcs-12PbeParams",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"iterations"}]};M.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=R.random.getBytesSync(r.saltSize),i=r.count,s=E.integerToDer(i),o,a,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,l;switch(r.algorithm){case"aes128":o=16,u=16,f=Hr["aes128-CBC"],l=R.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,f=Hr["aes192-CBC"],l=R.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,f=Hr["aes256-CBC"],l=R.aes.createEncryptionCipher;break;case"des":o=8,u=8,f=Hr.desCBC,l=R.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),h=Tc(p),y=R.pkcs5.pbkdf2(e,n,i,o,h),g=R.random.getBytesSync(u),v=l(y);v.start(g),v.update(E.toDer(t)),v.finish(),c=v.output.getBytes();var x=_y(n,s,o,p);a=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(Hr.pkcs5PBES2).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(Hr.pkcs5PBKDF2).getBytes()),x]),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(f).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,g)])])])}else if(r.algorithm==="3des"){o=24;var S=new R.util.ByteBuffer(n),y=M.pbe.generatePkcs12Key(e,S,1,i,o),g=M.pbe.generatePkcs12Key(e,S,2,i,o),v=R.des.createEncryptionCipher(y);v.start(g),v.update(E.toDer(t)),v.finish(),c=v.output.getBytes(),a=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(Hr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,n),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var k=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[a,E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,c)]);return k};M.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!E.validate(t,xy,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=E.derToOid(n.encryptionOid),a=M.pbe.getCipher(o,n.encryptionParams,e),c=R.util.createBuffer(n.encryptedData);return a.update(c),a.finish()&&(r=E.fromDer(a.output)),r};M.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:E.toDer(t).getBytes()};return R.pem.encode(r,{maxline:e})};M.encryptedPrivateKeyFromPem=function(t){var e=R.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return E.fromDer(e.body)};M.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=M.wrapRsaPrivateKey(M.privateKeyToAsn1(t));return n=M.encryptPrivateKeyInfo(n,e,r),M.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=R.random.getBytesSync(16),a=R.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=R.random.getBytesSync(16),a=R.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=R.random.getBytesSync(16),a=R.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=R.random.getBytesSync(8),a=R.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=R.random.getBytesSync(8),a=R.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=R.pbe.opensslDeriveBytes(e,s.substr(0,8),o),f=a(u);f.start(s),f.update(E.toDer(M.privateKeyToAsn1(t))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:R.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return R.pem.encode(l)};M.decryptRsaPrivateKey=function(t,e){var r=null,n=R.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=R.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=R.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=R.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=R.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=R.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(l){return R.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":s=8,o=function(l){return R.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":s=16,o=function(l){return R.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=R.util.hexToBytes(n.dekInfo.parameters),c=R.pbe.opensslDeriveBytes(e,a.substr(0,8),s),u=o(c);if(u.start(a),u.update(R.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=M.decryptPrivateKeyInfo(E.fromDer(r),e):r=E.fromDer(r),r!==null&&(r=M.privateKeyFromAsn1(r)),r};M.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var o,a;if(typeof s=="undefined"||s===null){if(!("sha1"in R.md))throw new Error('"sha1" hash algorithm unavailable.');s=R.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new R.util.ByteBuffer,l=new R.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)l.putInt16(t.charCodeAt(a));l.putInt16(0)}var d=l.length(),p=e.length(),h=new R.util.ByteBuffer;h.fillWithByte(r,u);var y=u*Math.ceil(p/u),g=new R.util.ByteBuffer;for(a=0;a<y;a++)g.putByte(e.at(a%p));var v=u*Math.ceil(d/u),x=new R.util.ByteBuffer;for(a=0;a<v;a++)x.putByte(l.at(a%d));var S=g;S.putBuffer(x);for(var k=Math.ceil(i/c),T=1;T<=k;T++){var C=new R.util.ByteBuffer;C.putBytes(h.bytes()),C.putBytes(S.bytes());for(var q=0;q<n;q++)s.start(),s.update(C.getBytes()),C=s.digest();var V=new R.util.ByteBuffer;for(a=0;a<u;a++)V.putByte(C.at(a%c));var Ee=Math.ceil(p/u)+Math.ceil(d/u),lt=new R.util.ByteBuffer;for(o=0;o<Ee;o++){var Ye=new R.util.ByteBuffer(S.getBytes(u)),Fe=511;for(a=V.length()-1;a>=0;a--)Fe=Fe>>8,Fe+=V.at(a)+Ye.at(a),Ye.setAt(a,Fe&255);lt.putBuffer(Ye)}S=lt,f.putBuffer(C)}return f.truncate(f.length()-i),f};M.pbe.getCipher=function(t,e,r){switch(t){case M.oids.pkcs5PBES2:return M.pbe.getCipherForPBES2(t,e,r);case M.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case M.oids["pbewithSHAAnd40BitRC2-CBC"]:return M.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};M.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!E.validate(e,wy,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=E.derToOid(n.kdfOid),t!==M.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=E.derToOid(n.encOid),t!==M.oids["aes128-CBC"]&&t!==M.oids["aes192-CBC"]&&t!==M.oids["aes256-CBC"]&&t!==M.oids["des-EDE3-CBC"]&&t!==M.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=R.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var c,u;switch(M.oids[t]){case"aes128-CBC":c=16,u=R.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=R.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=R.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=R.des.createDecryptionCipher;break;case"desCBC":c=8,u=R.des.createDecryptionCipher;break}var f=Cc(n.prfOid),l=R.pkcs5.pbkdf2(r,o,a,c,f),d=n.encIv,p=u(l);return p.start(d),p};M.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!E.validate(e,Ey,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=R.util.createBuffer(n.salt),a=R.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var c,u,f;switch(t){case M.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=R.des.startDecrypting;break;case M.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(y,g){var v=R.rc2.createDecryptionCipher(y,40);return v.start(g,null),v};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var l=Cc(n.prfOid),d=M.pbe.generatePkcs12Key(r,o,1,a,c,l);l.start();var p=M.pbe.generatePkcs12Key(r,o,2,a,u,l);return f(d,p)};M.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in R.md))throw new Error('"md5" hash algorithm unavailable.');n=R.md.md5.create()}e===null&&(e="");for(var i=[Ic(n,t+e)],s=16,o=1;s<r;++o,s+=16)i.push(Ic(n,i[o-1]+t+e));return i.join("").substr(0,r)};function Ic(t,e){return t.start().update(e).digest().getBytes()}function Cc(t){var e;if(!t)e="hmacWithSHA1";else if(e=M.oids[E.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Tc(e)}function Tc(t){var e=R.md;switch(t){case"hmacWithSHA224":e=R.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function _y(t,e,r,n){var i=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,t),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,R.util.hexToBytes(r.toString(16))),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(M.oids[n]).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")])),i}});var yr={};ce(yr,{concat:()=>Sy});function Sy(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var gr=F(()=>{});var yo=b((rB,Dc)=>{"use strict";var{concat:By}=(gr(),yr),{fromString:kc}=(Je(),dt),Ay=ni();function Iy({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:s=32767}={}){let o=Ay.get();r*=8;async function a(u,f){let l=o.getRandomValues(new Uint8Array(i)),d=o.getRandomValues(new Uint8Array(e)),p={name:t,iv:d},h={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},y=await o.subtle.importKey("raw",kc(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),g=await o.subtle.deriveKey(h,y,{name:t,length:r},!0,["encrypt"]),v=await o.subtle.encrypt(p,g,u);return By([l,p.iv,new Uint8Array(v)])}async function c(u,f){let l=u.slice(0,i),d=u.slice(i,i+e),p=u.slice(i+e),h={name:t,iv:d},y={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},g=await o.subtle.importKey("raw",kc(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),v=await o.subtle.deriveKey(y,g,{name:t,length:r},!0,["decrypt"]),x=await o.subtle.decrypt(h,v,p);return new Uint8Array(x)}return{encrypt:a,decrypt:c}}Dc.exports={create:Iy}});var Nc=b((nB,Lc)=>{"use strict";var{base64:Cy}=(si(),hn),Ty=yo();Lc.exports={import:async function(t,e){let r=Cy.decode(t);return await Ty.create().decrypt(r,e)}}});var Qt={};ce(Qt,{equals:()=>Py});function Py(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Zt=F(()=>{});var Uc=b((iB,Kc)=>{var oe=J();zr();be();var Ei=Kc.exports=oe.sha512=oe.sha512||{};oe.md.sha512=oe.md.algorithms.sha512=Ei;var Oc=oe.sha384=oe.sha512.sha384=oe.sha512.sha384||{};Oc.create=function(){return Ei.create("SHA-384")};oe.md.sha384=oe.md.algorithms.sha384=Oc;oe.sha512.sha256=oe.sha512.sha256||{create:function(){return Ei.create("SHA-512/256")}};oe.md["sha512/256"]=oe.md.algorithms["sha512/256"]=oe.sha512.sha256;oe.sha512.sha224=oe.sha512.sha224||{create:function(){return Ei.create("SHA-512/224")}};oe.md["sha512/224"]=oe.md.algorithms["sha512/224"]=oe.sha512.sha224;Ei.create=function(t){if(Fc||Ry(),typeof t=="undefined"&&(t="SHA-512"),!(t in Gr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Gr[t],r=null,n=oe.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var c=a.messageLengthSize/4,u=0;u<c;++u)a.fullMessageLength.push(0);n=oe.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return a},a.start(),a.update=function(c,u){u==="utf8"&&(c=oe.util.encodeUtf8(c));var f=c.length;a.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=f[1],f[1]=f[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),qc(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var c=oe.util.createBuffer();c.putBytes(n.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,f=u&a.blockLength-1;c.putBytes(go.substr(0,a.blockLength-f));for(var l,d,p=a.fullMessageLength[0]*8,h=0;h<a.fullMessageLength.length-1;++h)l=a.fullMessageLength[h+1]*8,d=l/4294967296>>>0,p+=d,c.putInt32(p>>>0),p=l>>>0;c.putInt32(p);for(var y=new Array(r.length),h=0;h<r.length;++h)y[h]=r[h].slice(0);qc(y,i,c);var g=oe.util.createBuffer(),v;t==="SHA-512"?v=y.length:t==="SHA-384"?v=y.length-2:v=y.length-4;for(var h=0;h<v;++h)g.putInt32(y[h][0]),(h!==v-1||t!=="SHA-512/224")&&g.putInt32(y[h][1]);return g},a};var go=null,Fc=!1,vo=null,Gr=null;function Ry(){go=String.fromCharCode(128),go+=oe.util.fillString(String.fromCharCode(0),128),vo=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Gr={},Gr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Gr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Gr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Gr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Fc=!0}function qc(t,e,r){for(var n,i,s,o,a,c,u,f,l,d,p,h,y,g,v,x,S,k,T,C,q,V,Ee,lt,Ye,Fe,an,f0,_e,ze,O,ds,ps,ys,gs,da=r.length();da>=128;){for(_e=0;_e<16;++_e)e[_e][0]=r.getInt32()>>>0,e[_e][1]=r.getInt32()>>>0;for(;_e<80;++_e)ds=e[_e-2],ze=ds[0],O=ds[1],n=((ze>>>19|O<<13)^(O>>>29|ze<<3)^ze>>>6)>>>0,i=((ze<<13|O>>>19)^(O<<3|ze>>>29)^(ze<<26|O>>>6))>>>0,ys=e[_e-15],ze=ys[0],O=ys[1],s=((ze>>>1|O<<31)^(ze>>>8|O<<24)^ze>>>7)>>>0,o=((ze<<31|O>>>1)^(ze<<24|O>>>8)^(ze<<25|O>>>7))>>>0,ps=e[_e-7],gs=e[_e-16],O=i+ps[1]+o+gs[1],e[_e][0]=n+ps[0]+s+gs[0]+(O/4294967296>>>0)>>>0,e[_e][1]=O>>>0;for(y=t[0][0],g=t[0][1],v=t[1][0],x=t[1][1],S=t[2][0],k=t[2][1],T=t[3][0],C=t[3][1],q=t[4][0],V=t[4][1],Ee=t[5][0],lt=t[5][1],Ye=t[6][0],Fe=t[6][1],an=t[7][0],f0=t[7][1],_e=0;_e<80;++_e)u=((q>>>14|V<<18)^(q>>>18|V<<14)^(V>>>9|q<<23))>>>0,f=((q<<18|V>>>14)^(q<<14|V>>>18)^(V<<23|q>>>9))>>>0,l=(Ye^q&(Ee^Ye))>>>0,d=(Fe^V&(lt^Fe))>>>0,a=((y>>>28|g<<4)^(g>>>2|y<<30)^(g>>>7|y<<25))>>>0,c=((y<<4|g>>>28)^(g<<30|y>>>2)^(g<<25|y>>>7))>>>0,p=(y&v|S&(y^v))>>>0,h=(g&x|k&(g^x))>>>0,O=f0+f+d+vo[_e][1]+e[_e][1],n=an+u+l+vo[_e][0]+e[_e][0]+(O/4294967296>>>0)>>>0,i=O>>>0,O=c+h,s=a+p+(O/4294967296>>>0)>>>0,o=O>>>0,an=Ye,f0=Fe,Ye=Ee,Fe=lt,Ee=q,lt=V,O=C+i,q=T+n+(O/4294967296>>>0)>>>0,V=O>>>0,T=S,C=k,S=v,k=x,v=y,x=g,O=i+o,y=n+s+(O/4294967296>>>0)>>>0,g=O>>>0;O=t[0][1]+g,t[0][0]=t[0][0]+y+(O/4294967296>>>0)>>>0,t[0][1]=O>>>0,O=t[1][1]+x,t[1][0]=t[1][0]+v+(O/4294967296>>>0)>>>0,t[1][1]=O>>>0,O=t[2][1]+k,t[2][0]=t[2][0]+S+(O/4294967296>>>0)>>>0,t[2][1]=O>>>0,O=t[3][1]+C,t[3][0]=t[3][0]+T+(O/4294967296>>>0)>>>0,t[3][1]=O>>>0,O=t[4][1]+V,t[4][0]=t[4][0]+q+(O/4294967296>>>0)>>>0,t[4][1]=O>>>0,O=t[5][1]+lt,t[5][0]=t[5][0]+Ee+(O/4294967296>>>0)>>>0,t[5][1]=O>>>0,O=t[6][1]+Fe,t[6][0]=t[6][0]+Ye+(O/4294967296>>>0)>>>0,t[6][1]=O>>>0,O=t[7][1]+f0,t[7][0]=t[7][0]+an+(O/4294967296>>>0)>>>0,t[7][1]=O>>>0,da-=128}}});var Vc=b((sB,Mc)=>{"use strict";var W0=65536;function ky(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>W0)for(;r<t;)r+W0>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+W0)),r+=W0);else crypto.getRandomValues(e);return e}Mc.exports=ky});var Q0=b((oB,zc)=>{"use strict";var Dy=Vc(),Ly=ie();zc.exports=function(t){if(isNaN(t)||t<=0)throw Ly(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Dy(t)}});var Z0=b(_i=>{"use strict";be();j0();var Ny=J(),{fromString:Oy}=(Je(),dt),{toString:$c}=(de(),ge),{concat:jc}=(gr(),yr);_i.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=jc([new Uint8Array(e-r.length),r])}return $c(r,"base64url")};_i.base64urlToBigInteger=t=>{let e=_i.base64urlToBuffer(t);return new Ny.jsbn.BigInteger($c(e,"base16"),16)};_i.base64urlToBuffer=(t,e)=>{let r=Oy(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=jc([new Uint8Array(e-r.length),r])}return r}});var Yc=b(Si=>{"use strict";bi();Y0();var vr=J(),{bigIntegerToUintBase64url:Dt,base64urlToBigInteger:Lt}=Z0(),{fromString:Hc}=(Je(),dt),{toString:Gc}=(de(),ge);Si.pkcs1ToJwk=function(t){let e=vr.asn1.fromDer(Gc(t,"ascii")),r=vr.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Dt(r.n),e:Dt(r.e),d:Dt(r.d),p:Dt(r.p),q:Dt(r.q),dp:Dt(r.dP),dq:Dt(r.dQ),qi:Dt(r.qInv),alg:"RS256",kid:"2011-04-29"}};Si.jwkToPkcs1=function(t){let e=vr.pki.privateKeyToAsn1({n:Lt(t.n),e:Lt(t.e),d:Lt(t.d),p:Lt(t.p),q:Lt(t.q),dP:Lt(t.dp),dQ:Lt(t.dq),qInv:Lt(t.qi)});return Hc(vr.asn1.toDer(e).getBytes(),"ascii")};Si.pkixToJwk=function(t){let e=vr.asn1.fromDer(Gc(t,"ascii")),r=vr.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Dt(r.n),e:Dt(r.e),alg:"RS256",kid:"2011-04-29"}};Si.jwkToPkix=function(t){let e=vr.pki.publicKeyToAsn1({n:Lt(t.n),e:Lt(t.e)});return Hc(vr.asn1.toDer(e).getBytes(),"ascii")}});var Xc=b((uB,Zc)=>{"use strict";Y0();var Wc=J(),{base64urlToBigInteger:Fy}=Z0();function Qc(t,e){return e.map(r=>Fy(t[r]))}function qy(t){return Wc.pki.setRsaPrivateKey(...Qc(t,["n","e","d","p","q","dp","dq","qi"]))}function Ky(t){return Wc.pki.setRsaPublicKey(...Qc(t,["n","e"]))}Zc.exports={jwk2pub:Ky,jwk2priv:qy}});var tu=b(Jt=>{"use strict";var Xt=ni(),Uy=Q0(),{toString:My}=(de(),ge),{fromString:Vy}=(Je(),dt);Jt.utils=Yc();Jt.generateKey=async function(t){let e=await Xt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Jc(e);return{privateKey:r[0],publicKey:r[1]}};Jt.unmarshalPrivateKey=async function(t){let r=[await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await zy(t)],n=await Jc({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};Jt.getRandomValues=Uy;Jt.hashAndSign=async function(t,e){let r=await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Xt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,n.byteOffset,n.byteLength)};Jt.hashAndVerify=async function(t,e,r){let n=await Xt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Xt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)};function Jc(t){return Promise.all([Xt.get().subtle.exportKey("jwk",t.privateKey),Xt.get().subtle.exportKey("jwk",t.publicKey)])}function zy(t){return Xt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:$y,jwk2priv:jy}=Xc();function eu(t,e,r,n){let i=e?$y(t):jy(t),s=My(Uint8Array.from(r),"ascii"),o=n(s,i);return Vy(o,"ascii")}Jt.encrypt=function(t,e){return eu(t,!0,e,(r,n)=>n.encrypt(r))};Jt.decrypt=function(t,e){return eu(t,!1,e,(r,n)=>n.decrypt(r))}});var X0=b((lB,ru)=>{"use strict";var{base64:Hy}=(si(),hn),Gy=yo();ru.exports={export:async function(t,e){let n=await Gy.create().encrypt(t,e);return Hy.encode(n)}}});var au=b((hB,ou)=>{"use strict";var{sha256:nu}=(Ht(),St),iu=ie(),{equals:su}=(Zt(),Qt),{toString:Yy}=(de(),ge);Uc();var J0=J(),it=tu(),e1=N0(),Wy=X0(),t1=class{constructor(e){this._key=e}async verify(e,r){return it.hashAndVerify(this._key,r,e)}marshal(){return it.utils.jwkToPkix(this._key)}get bytes(){return e1.PublicKey.encode({Type:e1.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return it.encrypt(this._key,e)}equals(e){return su(this.bytes,e.bytes)}async hash(){let{bytes:e}=await nu.digest(this.bytes);return e}},Bi=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return it.getRandomValues(16)}async sign(e){return it.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw iu(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new t1(this._publicKey)}decrypt(e){return it.decrypt(this._key,e)}marshal(){return it.utils.jwkToPkcs1(this._key)}get bytes(){return e1.PrivateKey.encode({Type:e1.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return su(this.bytes,e.bytes)}async hash(){let{bytes:e}=await nu.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Yy(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new J0.util.ByteBuffer(this.marshal()),i=J0.asn1.fromDer(n),s=J0.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return J0.pki.encryptRsaPrivateKey(s,e,o)}else{if(r==="libp2p-key")return Wy.export(this.bytes,e);throw iu(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function Qy(t){let e=it.utils.pkcs1ToJwk(t),r=await it.unmarshalPrivateKey(e);return new Bi(r.privateKey,r.publicKey)}function Zy(t){let e=it.utils.pkixToJwk(t);return new t1(e)}async function Xy(t){let e=await it.unmarshalPrivateKey(t);return new Bi(e.privateKey,e.publicKey)}async function Jy(t){let e=await it.generateKey(t);return new Bi(e.privateKey,e.publicKey)}ou.exports={RsaPublicKey:t1,RsaPrivateKey:Bi,unmarshalRsaPublicKey:Zy,unmarshalRsaPrivateKey:Qy,generateKeyPair:Jy,fromJwk:Xy}});var yu=b((he,pu)=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.utils=he.verify=he.sign=he.getPublicKey=he.SignResult=he.Signature=he.Point=he.ExtendedPoint=he.CURVE=void 0;var pe={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};he.CURVE=pe;var Ue=32,Ai=19681161376707505956807079304988542015446066515923890162744021073123829784752n,eg=25063068953384623474111414158702152701244531502492656460079210482610430750235n,tg=54469307008909316920995813868745141605393597292927456921205312896311721017578n,rg=1159843021668779879193775521855586647937357759715417654439879720876111806838n,ng=40440834346308536858101042469323190826248399146238708352240133220865137265952n,re=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof le))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(le.ZERO)?re.ZERO:new re(e.x,e.y,1n,A(e.x*e.y))}static toAffineBatch(e){let r=sg(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){let r=xo(e.slice(0,Ue)),n=this.calcElligatorRistrettoMap(r),i=xo(e.slice(Ue,Ue*2)),s=this.calcElligatorRistrettoMap(i);return n.add(s)}static calcElligatorRistrettoMap(e){let{d:r}=pe,n=A(Ai*e*e),i=A((n+1n)*rg),s=-1n,o=A((s-r*n)*A(n+r)),{isValid:a,value:c}=Eo(i,o),u=A(c*e);br(u)||(u=A(-u)),a||(c=u),a||(s=n);let f=A(s*(n-1n)*ng-o),l=c*c,d=A((c+c)*o),p=A(f*eg),h=A(1n-l),y=A(1n+l);return new re(A(d*y),A(h*p),A(p*y),A(d*h))}static fromRistrettoBytes(e){let{a:r,d:n}=pe,i="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",s=xo(e);if(!cg(uu(s,Ue),e)||br(s))throw new Error(i);let o=A(s*s),a=A(1n+r*o),c=A(1n-r*o),u=A(a*a),f=A(c*c),l=A(r*n*u-f),{isValid:d,value:p}=lu(A(l*f)),h=A(p*c),y=A(p*h*l),g=A((s+s)*h);br(g)&&(g=A(-g));let v=A(a*y),x=A(g*v);if(!d||br(x)||v===0n)throw new Error(i);return new re(g,v,1n,x)}toRistrettoBytes(){let{x:e,y:r,z:n,t:i}=this,s=A((n+r)*(n-r)),o=A(e*r),{value:a}=lu(A(s*o**2n)),c=A(a*s),u=A(a*o),f=A(c*u*i),l;br(i*f)?([e,r]=[A(r*Ai),A(e*Ai)],l=A(c*tg)):l=u,br(e*f)&&(r=A(-r));let d=A((n-r)*l);return br(d)&&(d=A(-d)),uu(d,Ue)}equals(e){let r=this,n=e,[i,s,o,a]=[r.t,n.t,r.z,n.z];return A(i*a)===A(s*o)}negate(){return new re(A(-this.x),this.y,this.z,A(-this.t))}double(){let e=this.x,r=this.y,n=this.z,{a:i}=pe,s=A(e**2n),o=A(r**2n),a=A(2n*n**2n),c=A(i*s),u=A((e+r)**2n-s-o),f=A(c+o),l=A(f-a),d=A(c-o),p=A(u*l),h=A(f*d),y=A(u*d),g=A(l*f);return new re(p,h,g,y)}add(e){let r=this.x,n=this.y,i=this.z,s=this.t,o=e.x,a=e.y,c=e.z,u=e.t,f=A((n-r)*(a+o)),l=A((n+r)*(a-o)),d=A(l-f);if(d===0n)return this.double();let p=A(i*2n*u),h=A(s*2n*c),y=A(h+p),g=A(l+f),v=A(h-p),x=A(y*d),S=A(g*v),k=A(y*v),T=A(d*g);return new re(x,S,T,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!fu(e))throw new TypeError("Point#multiply: expected number or bigint");let r=A(BigInt(e),pe.n);if(r===1n)return this;let n=re.ZERO,i=this;for(;r>0n;)r&1n&&(n=n.add(i)),i=i.double(),r>>=1n;return n}precomputeWindow(e){let r=256/e+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(re.BASE)&&(r=le.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&mo.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=re.normalizeZ(i),mo.set(r,i)));let s=re.ZERO,o=re.ZERO,a=256/n+1,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let d=0;d<a;d++){let p=d*c,h=Number(e&u);if(e>>=l,h>c&&(h-=f,e+=1n),h===0)o=o.add(d%2?i[p].negate():i[p]);else{let y=i[p+Math.abs(h)-1];s=s.add(h<0?y.negate():y)}}return[s,o]}multiply(e,r){if(!fu(e))throw new TypeError("Point#multiply: expected number or bigint");let n=A(BigInt(e),pe.n);return re.normalizeZ(this.wNAF(n,r))[0]}toAffine(e=wo(this.z)){let r=A(this.x*e),n=A(this.y*e);return new le(r,n)}};he.ExtendedPoint=re;re.BASE=new re(pe.Gx,pe.Gy,1n,A(pe.Gx*pe.Gy));re.ZERO=new re(0n,1n,1n,0n);var mo=new WeakMap,le=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,mo.delete(this)}static fromHex(e){let{d:r,P:n}=pe,i=e instanceof Uint8Array?e:Ii(e);if(i.length!==32)throw new Error("Point.fromHex: expected 32 bytes");let s=i[31],o=s&~128,a=(s&128)!=0,c=Uint8Array.from(Array.from(i.slice(0,31)).concat(o)),u=_n(c);if(u>=n)throw new Error("Point.fromHex expects hex <= Fp");let f=A(u*u),l=A(f-1n),d=A(r*f+1n),{isValid:p,value:h}=Eo(l,d);if(!p)throw new Error("Point.fromHex: invalid y coordinate");let y=(h&1n)===1n;return a!==y&&(h=A(-h)),new le(h,u)}static async fromPrivateKey(e){let r=await he.utils.sha512(du(e));return le.BASE.multiply(hu(r))}toRawBytes(){let e=bo(this.y),r=new Uint8Array(Ue);for(let i=e.length-2,s=0;s<Ue&&i>=0;i-=2,s++)r[s]=Number.parseInt(e[i]+e[i+1],16);let n=this.x&1n?128:0;return r[Ue-1]|=n,r}toHex(){return cu(this.toRawBytes())}toX25519(){return A((1n+this.y)*wo(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new le(A(-this.x),this.y)}add(e){return re.fromAffine(this).add(re.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return re.fromAffine(this).multiply(e,this).toAffine()}};he.Point=le;le.BASE=new le(pe.Gx,pe.Gy);le.ZERO=new le(0n,1n);var mr=class{constructor(e,r){this.r=e,this.s=r}static fromHex(e){e=So(e);let r=le.fromHex(e.slice(0,32)),n=_n(e.slice(32));if(!ug(n))throw new Error("Signature.fromHex expects s <= CURVE.n");return new mr(r,n)}toRawBytes(){let e=Ii(bo(this.s)).reverse(),r=new Uint8Array(Ue);r.set(e);let n=new Uint8Array(Ue*2);return n.set(this.r.toRawBytes()),n.set(r,32),n}toHex(){return cu(this.toRawBytes())}};he.Signature=mr;he.SignResult=mr;function ig(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function cu(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function Ii(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=Number.parseInt(t.slice(n,n+2),16)}return e}function bo(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function uu(t,e=Ue){let r=bo(t).padStart(e*2,"0");return Ii(r).reverse()}function br(t){return(A(t)&1n)===1n}function fu(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function _n(t){let e=0n;for(let r=0;r<t.length;r++)e+=BigInt(t[r])<<8n*BigInt(r);return e}function xo(t){return A(_n(t)&2n**255n-1n)}function A(t,e=pe.P){let r=t%e;return r>=0n?r:e+r}function wo(t,e=pe.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=A(t,e),n=e,[i,s,o,a]=[0n,1n,1n,0n];for(;r!==0n;){let u=n/r,f=n%r,l=i-o*u,d=s-a*u;[n,r]=[r,f],[i,s]=[o,a],[o,a]=[l,d]}if(n!==1n)throw new Error("invert: does not exist");return A(i,e)}function sg(t,e=pe.P){let r=t.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)t[s]!==0n&&(n[s]=i,i=A(i*t[s],e));i=wo(i,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let o=A(i*t[s],e);t[s]=A(i*n[s],e),i=o}return t}function Nt(t,e){let{P:r}=pe,n=t;for(;e-- >0n;)n*=n,n%=r;return n}function og(t){let{P:e}=pe,n=t*t%e*t%e,i=Nt(n,2n)*n%e,s=Nt(i,1n)*t%e,o=Nt(s,5n)*s%e,a=Nt(o,10n)*o%e,c=Nt(a,20n)*a%e,u=Nt(c,40n)*c%e,f=Nt(u,80n)*u%e,l=Nt(f,80n)*u%e,d=Nt(l,10n)*o%e;return Nt(d,2n)*t%e}function Eo(t,e){let r=A(e*e*e),n=A(r*r*e),i=A(t*r*og(t*n)),s=A(e*i*i),o=i,a=A(i*Ai),c=s===t,u=s===A(-t),f=s===A(-t*Ai);return c&&(i=o),(u||f)&&(i=a),br(i)&&(i=A(-i)),{isValid:c||u,value:i}}function lu(t){return Eo(1n,t)}async function _o(...t){let e=ig(...t),r=await he.utils.sha512(e),n=_n(r);return A(n,pe.n)}function ag(t){return t.slice(Ue)}function hu(t){let e=Ue-1,r=t.slice(0,Ue);return r[0]&=248,r[e]&=127,r[e]|=64,A(_n(r),pe.n)}function cg(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function So(t){return t instanceof Uint8Array?t:Ii(t)}function ug(t){return 0<t&&t<pe.n}function du(t){let e;if(typeof t=="bigint"||typeof t=="number"&&Number.isSafeInteger(t)){if(e=BigInt(t),e<0n||e>2n**256n)throw new Error("Expected 32 bytes of private key");t=e.toString(16).padStart(Ue*2,"0")}if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");return Ii(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");return t}else throw new TypeError("Expected valid private key")}async function fg(t){let e=await le.fromPrivateKey(t);return typeof t=="string"?e.toHex():e.toRawBytes()}he.getPublicKey=fg;async function lg(t,e){let r=await he.utils.sha512(du(e)),n=hu(r),i=le.BASE.multiply(n),s=So(t),o=await _o(ag(r),s),a=le.BASE.multiply(o),c=await _o(a.toRawBytes(),i.toRawBytes(),s),u=A(o+c*n,pe.n),f=new mr(a,u);return typeof t=="string"?f.toHex():f.toRawBytes()}he.sign=lg;async function hg(t,e,r){e=So(e),r instanceof le||(r=le.fromHex(r)),t instanceof mr||(t=mr.fromHex(t));let n=await _o(t.r.toRawBytes(),r.toRawBytes(),e),i=re.fromAffine(r).multiplyUnsafe(n),s=re.BASE.multiply(t.s);return re.fromAffine(t.r).add(i).subtract(s).multiplyUnsafe(8n).equals(re.ZERO)}he.verify=hg;le.BASE._setWindowSize(8);var xr=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof pu!="undefined"&&typeof ya=="function"&&!t?xn():void 0,web:t}})();he.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(t=32)=>{if(xr.web)return xr.web.getRandomValues(new Uint8Array(t));if(xr.node){let{randomBytes:e}=xr.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=1024;for(;t--;){let e=he.utils.randomBytes(32),r=_n(e);if(r>1n&&r<pe.n)return e}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async t=>{if(xr.web){let e=await xr.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(xr.node)return Uint8Array.from(xr.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=le.BASE){let r=e.equals(le.BASE)?e:new le(e.x,e.y);return r._setWindowSize(t),r.multiply(1n),r}}});var vu=b(wr=>{"use strict";var Ci=yu(),dg=32,pg=64,r1=32;wr.publicKeyLength=dg;wr.privateKeyLength=pg;wr.generateKey=async function(){let t=Ci.utils.randomPrivateKey(),e=await Ci.getPublicKey(t);return{privateKey:gu(t,e),publicKey:e}};wr.generateKeyFromSeed=async function(t){if(t.length!==r1)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Ci.getPublicKey(e);return{privateKey:gu(e,r),publicKey:r}};wr.hashAndSign=function(t,e){let r=t.slice(0,r1);return Ci.sign(e,r)};wr.hashAndVerify=function(t,e,r){return Ci.verify(e,r,t)};function gu(t,e){let r=new Uint8Array(wr.privateKeyLength);for(let n=0;n<r1;n++)r[n]=t[n],r[r1+n]=e[n];return r}});var Eu=b((pB,wu)=>{"use strict";var mu=ie(),{equals:bu}=(Zt(),Qt),{sha256:xu}=(Ht(),St),{base58btc:yg}=(jt(),$t),{identity:gg}=(B0(),li),Le=vu(),n1=N0(),vg=X0(),i1=class{constructor(e){this._key=Bn(e,Le.publicKeyLength)}async verify(e,r){return Le.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return n1.PublicKey.encode({Type:n1.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return bu(this.bytes,e.bytes)}async hash(){let{bytes:e}=await xu.digest(this.bytes);return e}},Sn=class{constructor(e,r){this._key=Bn(e,Le.privateKeyLength),this._publicKey=Bn(r,Le.publicKeyLength)}async sign(e){return Le.hashAndSign(this._key,e)}get public(){return new i1(this._publicKey)}marshal(){return this._key}get bytes(){return n1.PrivateKey.encode({Type:n1.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return bu(this.bytes,e.bytes)}async hash(){let{bytes:e}=await xu.digest(this.bytes);return e}async id(){let e=await gg.digest(this.public.bytes);return yg.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return vg.export(this.bytes,e);throw mu(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function mg(t){if(t.length>Le.privateKeyLength){t=Bn(t,Le.privateKeyLength+Le.publicKeyLength);let n=t.slice(0,Le.privateKeyLength),i=t.slice(Le.privateKeyLength,t.length);return new Sn(n,i)}t=Bn(t,Le.privateKeyLength);let e=t.slice(0,Le.privateKeyLength),r=t.slice(Le.publicKeyLength);return new Sn(e,r)}function bg(t){return t=Bn(t,Le.publicKeyLength),new i1(t)}async function xg(){let{privateKey:t,publicKey:e}=await Le.generateKey();return new Sn(t,e)}async function wg(t){let{privateKey:e,publicKey:r}=await Le.generateKeyFromSeed(t);return new Sn(e,r)}function Bn(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw mu(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}wu.exports={Ed25519PublicKey:i1,Ed25519PrivateKey:Sn,unmarshalEd25519PrivateKey:mg,unmarshalEd25519PublicKey:bg,generateKeyPair:xg,generateKeyPairFromSeed:wg}});var Fu=b(H=>{"use strict";var Eg=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(H,"__esModule",{value:!0});H.utils=H.schnorr=H.verify=H.signSync=H.sign=H.getSharedSecret=H.recoverPublicKey=H.getPublicKey=H.SignResult=H.Signature=H.Point=H.CURVE=void 0;var _g=Eg(xn()),j=BigInt(0),ve=BigInt(1),we=BigInt(2),An=BigInt(3),Sg=BigInt(8),_u=we**BigInt(256),te={a:j,b:BigInt(7),P:_u-we**BigInt(32)-BigInt(977),n:_u-BigInt("432420386565659656852420866394968145599"),h:ve,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};H.CURVE=te;function Su(t){let{a:e,b:r}=te;return D(t**An+e*t+r)}var s1=te.a===j,W=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof X))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new W(e.x,e.y,ve)}static toAffineBatch(e){let r=Ag(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return W.toAffineBatch(e).map(W.fromAffine)}equals(e){let r=this,n=e,i=D(r.z*r.z),s=D(r.z*i),o=D(n.z*n.z),a=D(n.z*o);return D(r.x*o)===D(i*n.x)&&D(r.y*a)===D(s*n.y)}negate(){return new W(this.x,D(-this.y),this.z)}double(){let e=this.x,r=this.y,n=this.z,i=D(e**we),s=D(r**we),o=D(s**we),a=D(we*(D(D((e+s)**we))-i-o)),c=D(An*i),u=D(c**we),f=D(u-we*a),l=D(c*(a-f)-Sg*o),d=D(we*r*n);return new W(f,l,d)}add(e){if(!(e instanceof W))throw new TypeError("JacobianPoint#add: expected JacobianPoint");let r=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z;if(s===j||o===j)return this;if(r===j||n===j)return e;let c=D(i**we),u=D(a**we),f=D(r*u),l=D(s*c),d=D(n*a*u),p=D(D(o*i)*c),h=D(l-f),y=D(p-d);if(h===j)return y===j?this.double():W.ZERO;let g=D(h**we),v=D(h*g),x=D(f*g),S=D(y**we-v-we*x),k=D(y*(x-S)-d*v),T=D(i*a*h);return new W(S,k,T)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=Iu(e);if(!s1){let f=W.ZERO,l=this;for(;r>j;)r&ve&&(f=f.add(l)),l=l.double(),r>>=ve;return f}let{k1neg:n,k1:i,k2neg:s,k2:o}=Tu(r),a=W.ZERO,c=W.ZERO,u=this;for(;i>j||o>j;)i&ve&&(a=a.add(u)),o&ve&&(c=c.add(u)),u=u.double(),i>>=ve,o>>=ve;return n&&(a=a.negate()),s&&(c=c.negate()),c=new W(D(c.x*te.beta),c.y,c.z),a.add(c)}precomputeWindow(e){let r=s1?128/e+1:256/e+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(W.BASE)&&(r=X.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Bo.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=W.normalizeZ(i),Bo.set(r,i)));let s=W.ZERO,o=W.ZERO,a=s1?128/n+1:256/n+1,c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let d=0;d<a;d++){let p=d*c,h=Number(e&u);if(e>>=l,h>c&&(h-=f,e+=ve),h===0){let y=i[p];d%2&&(y=y.negate()),o=o.add(y)}else{let y=i[p+Math.abs(h)-1];h<0&&(y=y.negate()),s=s.add(y)}}return{p:s,f:o}}multiply(e,r){let n=Iu(e),i,s;if(s1){let{k1neg:o,k1:a,k2neg:c,k2:u}=Tu(n),{p:f,f:l}=this.wNAF(a,r),{p:d,f:p}=this.wNAF(u,r);o&&(f=f.negate()),c&&(d=d.negate()),d=new W(D(d.x*te.beta),d.y,d.z),i=f.add(d),s=l.add(p)}else{let{p:o,f:a}=this.wNAF(n,r);i=o,s=a}return W.normalizeZ([i,s])[0]}toAffine(e=Ri(this.z)){let r=e**we,n=D(this.x*r),i=D(this.y*r*e);return new X(n,i)}};W.BASE=new W(te.Gx,te.Gy,ve);W.ZERO=new W(j,ve,j);var Bo=new WeakMap,X=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Bo.delete(this)}static fromCompressedHex(e){let r=e.length===32,n=st(r?e:e.slice(1)),i=Su(n),s=Bg(i),o=(s&ve)===ve;r?o&&(s=D(-s)):(e[0]&1)==1!==o&&(s=D(-s));let a=new X(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){let r=st(e.slice(1,33)),n=st(e.slice(33)),i=new X(r,n);return i.assertValidity(),i}static fromHex(e){let r=c1(e),n=r[0];if(r.length===32||r.length===33&&(n===2||n===3))return this.fromCompressedHex(r);if(r.length===65&&n===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r.length}`)}static fromPrivateKey(e){return X.BASE.multiply(Cn(e))}static fromSignature(e,r,n){let i=e instanceof Uint8Array?st(e):tr(e),s=ku(r),{r:o,s:a}=s;if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid yParity bit");let c=2+(n&1),u=X.fromHex(`0${c}${Er(o)}`),f=W.fromAffine(u).multiplyUnsafe(a),l=W.BASE.multiply(i),d=Ri(o,te.n),h=f.subtract(l).multiplyUnsafe(d).toAffine();return h.assertValidity(),h}toRawBytes(e=!1){return _r(this.toHex(e))}toHex(e=!1){let r=Er(this.x);return e?`${this.y&ve?"03":"02"}${r}`:`04${r}${Er(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{P:r}=te,{x:n,y:i}=this;if(n===j||i===j||n>=r||i>=r)throw new Error(e);let s=D(i*i),o=Su(n);if((s-o)%r!==j)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new X(this.x,D(-this.y))}double(){return W.fromAffine(this).double().toAffine()}add(e){return W.fromAffine(this).add(W.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return W.fromAffine(this).multiply(e,this).toAffine()}};H.Point=X;X.BASE=new X(te.Gx,te.Gy);X.ZERO=new X(j,j);function Bu(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}var er=class{constructor(e,r){this.r=e,this.s=r}static fromCompact(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError("Signature.fromCompact: Expected string or Uint8Array");let r=e instanceof Uint8Array?o1(e):e;if(r.length!==128)throw new Error("Signature.fromCompact: Expected 64-byte hex");let n=new er(tr(r.slice(0,64)),tr(r.slice(64,128)));return n.assertValidity(),n}static fromDER(e){let r="Signature.fromDER";if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError(`${r}: Expected string or Uint8Array`);let n=e instanceof Uint8Array?o1(e):e,i=Pi(n.slice(2,4));if(n.slice(0,2)!=="30"||i!==n.length-4||n.slice(4,6)!=="02")throw new Error(`${r}: Invalid signature ${n}`);let s=Pi(n.slice(6,8)),o=8+s,a=n.slice(8,o);if(a.startsWith("00")&&Pi(a.slice(2,4))<=127)throw new Error(`${r}: Invalid r with trailing length`);let c=tr(a);if(n.slice(o,o+2)!=="02")throw new Error(`${r}: Invalid r-s separator`);let f=Pi(n.slice(o+2,o+4)),l=i-f-s-10;if(l>0||l===-4)throw new Error(`${r}: Invalid total length`);if(f>i-s-4)throw new Error(`${r}: Invalid s`);let d=o+4,p=n.slice(d,d+f);if(p.startsWith("00")&&Pi(p.slice(2,4))<=127)throw new Error(`${r}: Invalid s with trailing length`);let h=tr(p),y=new er(c,h);return y.assertValidity(),y}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!In(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!In(r))throw new Error("Invalid Signature: s must be 0 < s < n")}toDERRawBytes(e=!1){return _r(this.toDERHex(e))}toDERHex(e=!1){let r=Bu(Ti(this.s));if(e)return r;let n=Bu(Ti(this.r)),i=Ti(n.length/2),s=Ti(r.length/2);return`30${Ti(n.length/2+r.length/2+4)}02${i}${n}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return _r(this.toCompactHex())}toCompactHex(){return Er(this.r)+Er(this.s)}};H.Signature=er;H.SignResult=er;function Au(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function o1(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function Er(t){return t.toString(16).padStart(64,"0")}function a1(t){return _r(Er(t))}function Ti(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function tr(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function _r(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=Number.parseInt(t.slice(n,n+2),16)}return e}function c1(t){return t instanceof Uint8Array?t:_r(t)}function st(t){return tr(o1(t))}function Pi(t){return Number.parseInt(t,16)*2}function Iu(t){if(typeof t=="number"&&t>0&&Number.isSafeInteger(t))return BigInt(t);if(typeof t=="bigint"&&In(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(t,e=te.P){let r=t%e;return r>=0?r:e+r}function ot(t,e){let{P:r}=te,n=t;for(;e-- >j;)n*=n,n%=r;return n}function Bg(t){let{P:e}=te,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=ot(u,An)*u%e,l=ot(f,An)*u%e,d=ot(l,we)*c%e,p=ot(d,n)*d%e,h=ot(p,i)*p%e,y=ot(h,o)*h%e,g=ot(y,a)*y%e,v=ot(g,o)*h%e,x=ot(v,An)*u%e,S=ot(x,s)*p%e,k=ot(S,r)*c%e;return ot(k,we)}function Ri(t,e=te.P){if(t===j||e<=j)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=D(t,e),n=e,i=j,s=ve,o=ve,a=j;for(;r!==j;){let u=n/r,f=n%r,l=i-o*u,d=s-a*u;n=r,r=f,i=o,s=a,o=l,a=d}if(n!==ve)throw new Error("invert: does not exist");return D(i,e)}function Ag(t,e=te.P){let r=t.length,n=new Array(r),i=ve;for(let s=0;s<r;s++)t[s]!==j&&(n[s]=i,i=D(i*t[s],e));i=Ri(i,e);for(let s=r-1;s>=0;s--){if(t[s]===j)continue;let o=D(i*t[s],e);t[s]=D(i*n[s],e),i=o}return t}var Cu=(t,e)=>(t+e/we)/e,u1=we**BigInt(128);function Tu(t){let{n:e}=te,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ve*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=Cu(s*t,e),a=Cu(-n*t,e),c=D(t-o*r-a*i,e),u=D(-o*n-a*s,e),f=c>u1,l=u>u1;if(f&&(c=e-c),l&&(u=e-u),c>u1||u>u1)throw new Error("splitScalarEndo: Endomorphism failed");return{k1neg:f,k1:c,k2neg:l,k2:u}}function Ig(t){typeof t!="string"&&(t=o1(t));let e=tr(t||"0"),n=t.length/2*8-256;return n>0&&(e=e>>BigInt(n)),e>=te.n&&(e-=te.n),e}function Pu(t,e){if(t==null)throw new Error(`sign: expected valid msgHash, not "${t}"`);let r=typeof t=="string"?tr(t):st(t),n=a1(r),i=st(n),s=a1(e),o=new Uint8Array(32).fill(1),a=new Uint8Array(32).fill(0),c=Uint8Array.from([0]),u=Uint8Array.from([1]);return{h1:n,h1n:i,x:s,v:o,k:a,b0:c,b1:u}}async function Cg(t,e){let r=Cn(e),{h1:n,h1n:i,x:s,v:o,k:a,b0:c,b1:u}=Pu(t,r),f=H.utils.hmacSha256;a=await f(a,o,c,s,n),o=await f(a,o),a=await f(a,o,u,s,n),o=await f(a,o);for(let l=0;l<1e3;l++){o=await f(a,o);let d=Ru(o,i,r);if(d)return d;a=await f(a,o,c),o=await f(a,o)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function Tg(t,e){let r=Cn(e),{h1:n,h1n:i,x:s,v:o,k:a,b0:c,b1:u}=Pu(t,r),f=H.utils.hmacSha256Sync;if(!f)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");if(a=f(a,o,c,s,n),a instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");o=f(a,o),a=f(a,o,u,s,n),o=f(a,o);for(let l=0;l<1e3;l++){o=f(a,o);let d=Ru(o,i,r);if(d)return d;a=f(a,o,c),o=f(a,o)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function In(t){return 0<t&&t<te.n}function Ru(t,e,r){let n=st(t);if(!In(n))return;let i=te.n,s=X.BASE.multiply(n),o=D(s.x,i),a=D(Ri(n,i)*(e+o*r),i);if(!(o===j||a===j))return[s,o,a]}function Cn(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=tr(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=st(t)}else throw new TypeError("Expected valid private key");if(!In(e))throw new Error("Expected private key: 0 < key < n");return e}function Ao(t){return t instanceof X?(t.assertValidity(),t):X.fromHex(t)}function ku(t){return t instanceof er?(t.assertValidity(),t):er.fromDER(t)}function Pg(t,e=!1){let r=X.fromPrivateKey(t);return typeof t=="string"?r.toHex(e):r.toRawBytes(e)}H.getPublicKey=Pg;function Rg(t,e,r){let n=X.fromSignature(t,e,r);return typeof t=="string"?n.toHex():n.toRawBytes()}H.recoverPublicKey=Rg;function Du(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===33||n===65:r?n===66||n===130:t instanceof X}function kg(t,e,r=!1){if(Du(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Du(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Ao(e);n.assertValidity();let i=n.multiply(Cn(t));return typeof t=="string"?i.toHex(r):i.toRawBytes(r)}H.getSharedSecret=kg;function Lu(t,e,r=!1){let[n,i,s]=t,{canonical:o,der:a,recovered:c}=e,u=(n.x===i?0:2)|Number(n.y&ve),f=s,l=te.n>>ve;s>l&&o&&(f=te.n-s,u^=1);let d=new er(i,f);d.assertValidity();let p=a===!1?d.toCompactHex():d.toDERHex(),h=r?p:_r(p);return c?[h,u]:h}async function Dg(t,e,r={}){return Lu(await Cg(t,e),r,typeof t=="string")}H.sign=Dg;function Lg(t,e,r={}){return Lu(Tg(t,e),r,typeof t=="string")}H.signSync=Lg;function Ng(t,e,r){let{n}=te,i;try{i=ku(t)}catch(g){return!1}let{r:s,s:o}=i,a=Ig(e);if(a===j)return!1;let c=W.fromAffine(Ao(r)),u=Ri(o,n),f=D(a*u,n),l=D(s*u,n),d=W.BASE.multiply(f),p=c.multiplyUnsafe(l),h=d.add(p).toAffine();return D(h.x,n)===s}H.verify=Ng;async function Io(t,...e){let r=new Uint8Array(t.split("").map(s=>s.charCodeAt(0))),n=await H.utils.sha256(r),i=await H.utils.sha256(Au(n,n,...e));return st(i)}async function Nu(t,e,r){let n=a1(t),i=await Io("BIP0340/challenge",n,e.toRawX(),r);return D(i,te.n)}function Co(t){return D(t.y,we)===j}var Yr=class{constructor(e,r){if(this.r=e,this.s=r,e<=j||r<=j||e>=te.P||r>=te.n)throw new Error("Invalid signature")}static fromHex(e){let r=c1(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=st(r.slice(0,32)),i=st(r.slice(32));return new Yr(n,i)}toHex(){return Er(this.r)+Er(this.s)}toRawBytes(){return _r(this.toHex())}};function Og(t){let e=X.fromPrivateKey(t);return typeof t=="string"?e.toHexX():e.toRawX()}async function Fg(t,e,r=H.utils.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);e||(e=j);let{n}=te,i=c1(t),s=Cn(e),o=c1(r);if(o.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let a=X.fromPrivateKey(s),c=Co(a)?s:n-s,u=await Io("BIP0340/aux",o),f=c^u,l=await Io("BIP0340/nonce",a1(f),a.toRawX(),i),d=D(l,n);if(d===j)throw new Error("sign: Creation of signature failed. k is zero");let p=X.fromPrivateKey(d),h=Co(p)?d:n-d,y=await Nu(p.x,a,i),g=new Yr(p.x,D(h+y*c,n));if(!await Ou(g.toRawBytes(),i,a.toRawX()))throw new Error("sign: Invalid signature produced");return typeof t=="string"?g.toHex():g.toRawBytes()}async function Ou(t,e,r){let n=t instanceof Yr?t:Yr.fromHex(t),i=typeof e=="string"?_r(e):e,s=Ao(r),o=await Nu(n.r,s,i),a=X.fromPrivateKey(n.s),c=s.multiply(o),u=a.subtract(c);return!(u.equals(X.BASE)||!Co(u)||u.x!==n.r)}H.schnorr={Signature:Yr,getPublicKey:Og,sign:Fg,verify:Ou};X.BASE._setWindowSize(8);var Qe={node:_g.default,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};H.utils={isValidPrivateKey(t){try{return Cn(t),!0}catch(e){return!1}},randomBytes:(t=32)=>{if(Qe.web)return Qe.web.getRandomValues(new Uint8Array(t));if(Qe.node){let{randomBytes:e}=Qe.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=8;for(;t--;){let e=H.utils.randomBytes(32),r=st(e);if(In(r)&&r!==ve)return e}throw new Error("Valid private key was not found in 8 iterations. PRNG is broken")},sha256:async t=>{if(Qe.web){let e=await Qe.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}else if(Qe.node){let{createHash:e}=Qe.node;return Uint8Array.from(e("sha256").update(t).digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Qe.web){let r=await Qe.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Au(...e),i=await Qe.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Qe.node){let{createHmac:r}=Qe.node,n=r("sha256",t);for(let i of e)n.update(i);return Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=X.BASE){let r=e===X.BASE?e:new X(e.x,e.y);return r._setWindowSize(t),r.multiply(An),r}}});var Uu=b((gB,Ku)=>{"use strict";var ki=ie(),Sr=Fu(),{sha256:qu}=(Ht(),St);Ku.exports=()=>{let t=32;function e(){return Sr.utils.randomPrivateKey()}async function r(u,f){let{digest:l}=await qu.digest(f);try{return await Sr.sign(l,u)}catch(d){throw ki(d,"ERR_INVALID_INPUT")}}async function n(u,f,l){try{let{digest:d}=await qu.digest(l);return Sr.verify(f,d,u)}catch(d){throw ki(d,"ERR_INVALID_INPUT")}}function i(u){return Sr.Point.fromHex(u).toRawBytes(!0)}function s(u){return Sr.Point.fromHex(u).toRawBytes(!1)}function o(u){try{Sr.getPublicKey(u,!0)}catch(f){throw ki(f,"ERR_INVALID_PRIVATE_KEY")}}function a(u){try{Sr.Point.fromHex(u)}catch(f){throw ki(f,"ERR_INVALID_PUBLIC_KEY")}}function c(u){try{return Sr.getPublicKey(u,!0)}catch(f){throw ki(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:e,privateKeyLength:t,hashAndSign:r,hashAndVerify:n,compressPublicKey:i,decompressPublicKey:s,validatePrivateKey:o,validatePublicKey:a,computePublicKey:c}}});var $u=b((vB,zu)=>{"use strict";var{sha256:Mu}=(Ht(),St),qg=ie(),{equals:Vu}=(Zt(),Qt),{toString:Kg}=(de(),ge),Ug=X0();zu.exports=(t,e,r)=>{r=r||Uu()();class n{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,f){return r.hashAndVerify(this._key,f,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Vu(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Mu.digest(this.bytes);return u}}class i{constructor(u,f){this._key=u,this._publicKey=f||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Vu(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Mu.digest(this.bytes);return u}async id(){let u=await this.public.hash();return Kg(u,"base58btc")}async export(u,f="libp2p-key"){if(f==="libp2p-key")return Ug.export(this.bytes,u);throw qg(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(c){return new i(c)}function o(c){return new n(c)}async function a(){let c=await r.generateKey();return new i(c)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:o,generateKeyPair:a}}});var Wu=b((mB,Yu)=>{"use strict";var ju=ie(),{concat:Hu}=(gr(),yr),{fromString:Mg}=(Je(),dt),Vg=ms(),Gu={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Yu.exports=async(t,e,r)=>{let n=Gu[t];if(!n){let x=Object.keys(Gu).join(" / ");throw ju(new Error(`unknown cipher type '${t}'. Must be ${x}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw ju(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,s=n.ivSize,o=20,a=Mg("key expansion"),c=2*(s+i+o),u=await Vg.create(e,r),f=await u.digest(a),l=[],d=0;for(;d<c;){let x=await u.digest(Hu([f,a])),S=x.length;d+S>c&&(S=c-d),l.push(x),d+=S,f=await u.digest(f)}let p=c/2,h=Hu(l),y=h.slice(0,p),g=h.slice(p,c),v=x=>({iv:x.slice(0,s),cipherKey:x.slice(s,s+i),macKey:x.slice(s+i)});return{k1:v(y),k2:v(g)}}});var Zu=b((bB,Qu)=>{"use strict";var zg=ie();Qu.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw zg(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var n5=b(r5=>{"use strict";var $g=ie(),Di=ni(),{base64urlToBuffer:Xu}=Z0(),jg=Zu(),{toString:To}=(de(),ge),{concat:Hg}=(gr(),yr),{equals:Gg}=(Zt(),Qt),Ju={"P-256":256,"P-384":384,"P-521":521};r5.generateEphmeralKeyPair=async function(t){jg(Object.keys(Ju),t);let e=await Di.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(i,s)=>{let o;s?o=await Di.get().subtle.importKey("jwk",Wg(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):o=e.privateKey;let a=[await Di.get().subtle.importKey("jwk",t5(t,i),{name:"ECDH",namedCurve:t},!1,[]),o],c=await Di.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:a[0]},a[1],Ju[t]);return new Uint8Array(c,c.byteOffset,c.byteLength)},n=await Di.get().subtle.exportKey("jwk",e.publicKey);return{key:Yg(n),genSharedKey:r}};var e5={"P-256":32,"P-384":48,"P-521":66};function Yg(t){let e=e5[t.crv];return Hg([Uint8Array.from([4]),Xu(t.x,e),Xu(t.y,e)],1+e*2)}function t5(t,e){let r=e5[t];if(Gg(!e.slice(0,1),Uint8Array.from([4])))throw $g(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:To(e.slice(1,r+1),"base64url"),y:To(e.slice(1+r),"base64url"),ext:!0}}var Wg=(t,e)=>({...t5(t,e.public),d:To(e.private,"base64url")})});var s5=b((wB,i5)=>{"use strict";var Qg=n5();i5.exports=async t=>Qg.generateEphmeralKeyPair(t)});var Ro=b((EB,a5)=>{"use strict";var Ot=N0();bi();Rc();var Po=J(),Li=ie(),{fromString:Zg}=(Je(),dt),Xg=Nc(),at={rsa:au(),ed25519:Eu(),secp256k1:$u()(Ot,Q0())},f1={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Tn(t){let e=at[t.toLowerCase()];if(!e){let r=Object.keys(at).join(" / ");throw Li(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var Jg=async(t,e)=>Tn(t).generateKeyPair(e),ev=async(t,e,r)=>{let n=Tn(t);if(t.toLowerCase()!=="ed25519")throw Li(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(e,r)},tv=t=>{let e=Ot.PublicKey.decode(t),r=e.Data;switch(e.Type){case Ot.KeyType.RSA:return at.rsa.unmarshalRsaPublicKey(r);case Ot.KeyType.Ed25519:return at.ed25519.unmarshalEd25519PublicKey(r);case Ot.KeyType.Secp256k1:if(at.secp256k1)return at.secp256k1.unmarshalSecp256k1PublicKey(r);throw Li(new Error(f1.message),f1.code);default:Tn(e.Type)}},rv=(t,e)=>(e=(e||"rsa").toLowerCase(),Tn(e),t.bytes),o5=async t=>{let e=Ot.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Ot.KeyType.RSA:return at.rsa.unmarshalRsaPrivateKey(r);case Ot.KeyType.Ed25519:return at.ed25519.unmarshalEd25519PrivateKey(r);case Ot.KeyType.Secp256k1:if(at.secp256k1)return at.secp256k1.unmarshalSecp256k1PrivateKey(r);throw Li(new Error(f1.message),f1.code);default:Tn(e.Type)}},nv=(t,e)=>(e=(e||"rsa").toLowerCase(),Tn(e),t.bytes),iv=async(t,e)=>{try{let i=await Xg.import(t,e);return o5(i)}catch(i){}let r=Po.pki.decryptRsaPrivateKey(t,e);if(r===null)throw Li(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=Po.asn1.toDer(Po.pki.privateKeyToAsn1(r));return n=Zg(n.getBytes(),"ascii"),at.rsa.unmarshalRsaPrivateKey(n)};a5.exports={supportedKeys:at,keysPBM:Ot,keyStretcher:Wu(),generateEphemeralKeyPair:s5(),generateKeyPair:Jg,generateKeyPairFromSeed:ev,unmarshalPublicKey:tv,marshalPublicKey:rv,unmarshalPrivateKey:o5,marshalPrivateKey:nv,import:iv}});var f5=b((_B,u5)=>{"use strict";var sv=io(),ov=be(),av=ie(),c5={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function cv(t,e,r,n,i){let s=c5[i];if(!s){let a=Object.keys(c5).join(" / ");throw av(new Error(`Hash '${i}' is unknown or not supported. Must be ${a}`),"ERR_UNSUPPORTED_HASH_TYPE")}let o=sv(t,e,r,n,s);return ov.encode64(o)}u5.exports=cv});var ko=b(Pn=>{"use strict";var uv=ms(),fv=k3(),lv=Ro();Pn.aes=fv;Pn.hmac=uv;Pn.keys=lv;Pn.randomBytes=Q0();Pn.pbkdf2=f5()});var d5=b((BB,h5)=>{"use strict";var Rn=gi(),l5=Rn.Reader,hv=Rn.Writer,ct=Rn.util,Ni=Rn.roots["libp2p-record"]||(Rn.roots["libp2p-record"]={});Ni.Record=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.key=ct.newBuffer([]),t.prototype.value=ct.newBuffer([]),t.prototype.timeReceived="",t.encode=function(r,n){return n||(n=hv.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&n.uint32(10).bytes(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&n.uint32(18).bytes(r.value),r.timeReceived!=null&&Object.hasOwnProperty.call(r,"timeReceived")&&n.uint32(42).string(r.timeReceived),n},t.decode=function(r,n){r instanceof l5||(r=l5.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new Ni.Record;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.key=r.bytes();break;case 2:s.value=r.bytes();break;case 5:s.timeReceived=r.string();break;default:r.skipType(o&7);break}}return s},t.fromObject=function(r){if(r instanceof Ni.Record)return r;var n=new Ni.Record;return r.key!=null&&(typeof r.key=="string"?ct.base64.decode(r.key,n.key=ct.newBuffer(ct.base64.length(r.key)),0):r.key.length&&(n.key=r.key)),r.value!=null&&(typeof r.value=="string"?ct.base64.decode(r.value,n.value=ct.newBuffer(ct.base64.length(r.value)),0):r.value.length&&(n.value=r.value)),r.timeReceived!=null&&(n.timeReceived=String(r.timeReceived)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.key="":(i.key=[],n.bytes!==Array&&(i.key=ct.newBuffer(i.key))),n.bytes===String?i.value="":(i.value=[],n.bytes!==Array&&(i.value=ct.newBuffer(i.value))),i.timeReceived=""),r.key!=null&&r.hasOwnProperty("key")&&(i.key=n.bytes===String?ct.base64.encode(r.key,0,r.key.length):n.bytes===Array?Array.prototype.slice.call(r.key):r.key),r.value!=null&&r.hasOwnProperty("value")&&(i.value=n.bytes===String?ct.base64.encode(r.value,0,r.value.length):n.bytes===Array?Array.prototype.slice.call(r.value):r.value),r.timeReceived!=null&&r.hasOwnProperty("timeReceived")&&(i.timeReceived=r.timeReceived),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Rn.util.toJSONOptions)},t}();h5.exports=Ni});var p5=b((AB,Do)=>{"use strict";Do.exports.toRFC3339=t=>{let e=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),n=String(t.getUTCDate()).padStart(2,"0"),i=String(t.getUTCHours()).padStart(2,"0"),s=String(t.getUTCMinutes()).padStart(2,"0"),o=String(t.getUTCSeconds()).padStart(2,"0"),c=t.getUTCMilliseconds()*1e3*1e3;return`${e}-${r}-${n}T${i}:${s}:${o}.${c}Z`};Do.exports.parseRFC3339=t=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(t).trim().match(e);if(!r)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,s=parseInt(r[3],10),o=parseInt(r[4],10),a=parseInt(r[5],10),c=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,s,o,a,c,u))}});var v5=b((IB,g5)=>{"use strict";var{Record:Lo}=d5(),y5=p5(),Oi=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=r,this.timeReceived=n}serialize(){return Lo.encode(this.prepareSerialize()).finish()}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&y5.toRFC3339(this.timeReceived)}}static deserialize(e){let r=Lo.decode(e);return Oi.fromDeserialized(Lo.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}))}static fromDeserialized(e){let r;return e.timeReceived&&(r=y5.parseRFC3339(e.timeReceived)),new Oi(e.key,e.value,r)}};g5.exports=Oi});var b5=b((CB,m5)=>{"use strict";var{sha256:dv}=(Ht(),St),l1=ie(),{toString:pv}=(de(),ge),{equals:yv}=(Zt(),Qt),gv=async(t,e)=>{if(!(t instanceof Uint8Array))throw l1(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(t.byteLength<5)throw l1(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(pv(t.subarray(0,4))!=="/pk/")throw l1(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");let n=t.slice(4),i=await dv.digest(e);if(!yv(n,i.bytes))throw l1(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};m5.exports={func:gv,sign:!1}});var w5=b((TB,x5)=>{"use strict";x5.exports={pk:b5()}});var _5=b((PB,E5)=>{"use strict";var vv=ie(),{toString:mv}=(de(),ge),bv=(t,e)=>{let r=e.key,i=mv(r).split("/");if(i.length<3)return;let s=t[i[1].toString()];if(!s){let o="Invalid record keytype";throw vv(new Error(o),"ERR_INVALID_RECORD_KEY_TYPE")}return s.func(r,e.value)};E5.exports={verifyRecord:bv,validators:w5()}});var B5=b((RB,S5)=>{"use strict";var xv=(t,e)=>0;S5.exports=xv});var I5=b((kB,A5)=>{"use strict";A5.exports={pk:B5()}});var T5=b((DB,C5)=>{"use strict";var No=ie(),{toString:wv}=(de(),ge),Ev=(t,e,r)=>{if(r.length===0){let o="No records given";throw No(new Error(o),"ERR_NO_RECORDS_RECEIVED")}let i=wv(e).split("/");if(i.length<3){let o="Record key does not have a selector function";throw No(new Error(o),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}let s=t[i[1].toString()];if(!s){let o=`Unrecognized key prefix: ${i[1]}`;throw No(new Error(o),"ERR_UNRECOGNIZED_KEY_PREFIX")}return r.length===1?0:s(e,r)};C5.exports={bestRecord:Ev,selectors:I5()}});var rr=b((LB,P5)=>{"use strict";P5.exports={Record:v5(),validator:_5(),selection:T5()}});var k5=b((NB,R5)=>{"use strict";var _v=async t=>{let e=[];for await(let r of t)e.push(r);return e};R5.exports=_v});var D5,kn,h1,Oo=F(()=>{D5=We(k5()),kn=(t,e)=>async function*(){yield*(await(0,D5.default)(t)).sort(e)}(),h1=(t,e)=>{let r=new RegExp("^"+e);return t.replace(r,"")}});var d1=b((FB,L5)=>{"use strict";var Sv=async t=>{for await(let e of t);};L5.exports=Sv});var Fo=b((qB,N5)=>{"use strict";var Bv=async function*(t,e){for await(let r of t)await e(r)&&(yield r)};N5.exports=Bv});var p1=b((KB,O5)=>{"use strict";var Av=async function*(t,e){let r=0;if(!(e<1)){for await(let n of t)if(yield n,r++,r===e)return}};O5.exports=Av});var qo,Wr,Ko,Ze,Qr=F(()=>{Oo();qo=We(d1()),Wr=We(Fo()),Ko=We(p1()),Ze=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(let{key:n,value:i}of e)await this.put(n,i,r),yield{key:n,value:i}}async*getMany(e,r={}){for await(let n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(let n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,i){e.push({key:n,value:i})},delete(n){r.push(n)},commit:async n=>{await(0,qo.default)(this.putMany(e,n)),e=[],await(0,qo.default)(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=(0,Wr.default)(n,i=>i.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,s)=>(0,Wr.default)(i,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,s)=>kn(i,s),n)),e.offset!=null){let i=0;n=(0,Wr.default)(n,()=>i++>=e.offset)}return e.limit!=null&&(n=(0,Ko.default)(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=(0,Wr.default)(n,i=>i.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,s)=>(0,Wr.default)(i,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,s)=>kn(i,s),n)),e.offset!=null){let i=0;n=(0,Wr.default)(n,()=>i++>=e.offset)}return e.limit!=null&&(n=(0,Ko.default)(n,e.limit)),n}}});var F5=F(()=>{});var q5,K5=F(()=>{F5();q5=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e}});var g1={};ce(g1,{Key:()=>Q});function Iv(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function Cv(t){let e=t.split(":");return e[e.length-1]}function Tv(t){return[].concat(...t)}var nr,U5,y1,Q,Br=F(()=>{K5();de();Je();nr="/",U5=new TextEncoder().encode(nr),y1=U5[0],Q=class{constructor(e,r){if(typeof e=="string")this._buf=zs(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==y1)throw new Error("Invalid key")}toString(e="utf8"){return Vs(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Q(e.join(nr))}static random(){return new Q(q5().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new Q(e):e.uint8Array?new Q(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=U5),this._buf[0]!==y1){let e=new Uint8Array(this._buf.byteLength+1);e.fill(y1,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===y1;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let s=r[i],o=n[i];if(s<o)return!0;if(s>o)return!1}return r.length<n.length}reverse(){return Q.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(nr).slice(1)}type(){return Iv(this.baseNamespace())}name(){return Cv(this.baseNamespace())}instance(e){return new Q(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(nr)||(e+=nr),e+=this.type(),new Q(e)}parent(){let e=this.list();return e.length===1?new Q(nr):new Q(e.slice(0,-1).join(nr))}child(e){return this.toString()===nr?e:e.toString()===nr?this:new Q(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Q.withNamespaces([...this.namespaces(),...Tv(e.map(r=>r.namespaces()))])}}});var Uo={};ce(Uo,{abortedError:()=>Pv,dbDeleteFailedError:()=>qi,dbOpenFailedError:()=>Fi,dbWriteFailedError:()=>Ki,notFoundError:()=>Zr});function Fi(t){return t=t||new Error("Cannot open database"),(0,Dn.default)(t,"ERR_DB_OPEN_FAILED")}function qi(t){return t=t||new Error("Delete failed"),(0,Dn.default)(t,"ERR_DB_DELETE_FAILED")}function Ki(t){return t=t||new Error("Write failed"),(0,Dn.default)(t,"ERR_DB_WRITE_FAILED")}function Zr(t){return t=t||new Error("Not Found"),(0,Dn.default)(t,"ERR_NOT_FOUND")}function Pv(t){return t=t||new Error("Aborted"),(0,Dn.default)(t,"ERR_ABORTED")}var Dn,Ln=F(()=>{Dn=We(ie())});var M5={};ce(M5,{MemoryDatastore:()=>v1});var v1,Mo=F(()=>{Qr();Br();Ln();v1=class extends Ze{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,r){this.data[e.toString()]=r}async get(e){if(!await this.has(e))throw Zr();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,r])=>({key:new Q(e),value:r}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new Q(e))}}});var $5=b(m1=>{"use strict";m1.byteLength=kv;m1.toByteArray=Lv;m1.fromByteArray=Fv;var Ft=[],ut=[],Rv=typeof Uint8Array!="undefined"?Uint8Array:Array,Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Xr=0,V5=Vo.length;Xr<V5;++Xr)Ft[Xr]=Vo[Xr],ut[Vo.charCodeAt(Xr)]=Xr;var Xr,V5;ut["-".charCodeAt(0)]=62;ut["_".charCodeAt(0)]=63;function z5(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function kv(t){var e=z5(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Dv(t,e,r){return(e+r)*3/4-r}function Lv(t){var e,r=z5(t),n=r[0],i=r[1],s=new Rv(Dv(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=ut[t.charCodeAt(c)]<<18|ut[t.charCodeAt(c+1)]<<12|ut[t.charCodeAt(c+2)]<<6|ut[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ut[t.charCodeAt(c)]<<2|ut[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=ut[t.charCodeAt(c)]<<10|ut[t.charCodeAt(c+1)]<<4|ut[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Nv(t){return Ft[t>>18&63]+Ft[t>>12&63]+Ft[t>>6&63]+Ft[t&63]}function Ov(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Nv(n));return i.join("")}function Fv(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Ov(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Ft[e>>2]+Ft[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ft[e>>10]+Ft[e>>4&63]+Ft[e<<2&63]+"=")),i.join("")}});var j5=b(zo=>{zo.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,f=-7,l=r?i-1:0,d=r?-1:1,p=t[e+l];for(l+=d,s=p&(1<<-f)-1,p>>=-f,f+=a;f>0;s=s*256+t[e+l],l+=d,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+l],l+=d,f-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(p?-1:1)*o*Math.pow(2,s-n)};zo.write=function(t,e,r,n,i,s){var o,a,c,u=s*8-i-1,f=(1<<u)-1,l=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,h=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+l>=1?e+=d/c:e+=d*Math.pow(2,1-l),e*c>=2&&(o++,c/=2),o+l>=f?(a=0,o=f):o+l>=1?(a=(e*c-1)*Math.pow(2,i),o=o+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=a&255,p+=h,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+p]=o&255,p+=h,o/=256,u-=8);t[r+p-h]|=y*128}});var Ir=b(qn=>{"use strict";var $o=$5(),Nn=j5(),H5=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;qn.Buffer=_;qn.SlowBuffer=zv;qn.INSPECT_MAX_BYTES=50;var b1=2147483647;qn.kMaxLength=b1;_.TYPED_ARRAY_SUPPORT=qv();!_.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qv(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(!!_.isBuffer(this))return this.buffer}});Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(!!_.isBuffer(this))return this.byteOffset}});function ir(t){if(t>b1)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,_.prototype),e}function _(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return jo(t)}return G5(t,e,r)}_.poolSize=8192;function G5(t,e,r){if(typeof t=="string")return Uv(t,e);if(ArrayBuffer.isView(t))return Mv(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(qt(t,ArrayBuffer)||t&&qt(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(qt(t,SharedArrayBuffer)||t&&qt(t.buffer,SharedArrayBuffer)))return Go(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return _.from(n,e,r);let i=Vv(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return _.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}_.from=function(t,e,r){return G5(t,e,r)};Object.setPrototypeOf(_.prototype,Uint8Array.prototype);Object.setPrototypeOf(_,Uint8Array);function Y5(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Kv(t,e,r){return Y5(t),t<=0?ir(t):e!==void 0?typeof r=="string"?ir(t).fill(e,r):ir(t).fill(e):ir(t)}_.alloc=function(t,e,r){return Kv(t,e,r)};function jo(t){return Y5(t),ir(t<0?0:Yo(t)|0)}_.allocUnsafe=function(t){return jo(t)};_.allocUnsafeSlow=function(t){return jo(t)};function Uv(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!_.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=W5(t,e)|0,n=ir(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Ho(t){let e=t.length<0?0:Yo(t.length)|0,r=ir(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Mv(t){if(qt(t,Uint8Array)){let e=new Uint8Array(t);return Go(e.buffer,e.byteOffset,e.byteLength)}return Ho(t)}function Go(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,_.prototype),n}function Vv(t){if(_.isBuffer(t)){let e=Yo(t.length)|0,r=ir(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Zo(t.length)?ir(0):Ho(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ho(t.data)}function Yo(t){if(t>=b1)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b1.toString(16)+" bytes");return t|0}function zv(t){return+t!=t&&(t=0),_.alloc(+t)}_.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==_.prototype};_.compare=function(e,r){if(qt(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),qt(r,Uint8Array)&&(r=_.from(r,r.offset,r.byteLength)),!_.isBuffer(e)||!_.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};_.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=_.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(qt(o,Uint8Array))s+o.length>i.length?(_.isBuffer(o)||(o=_.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(_.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function W5(t,e){if(_.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||qt(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Qo(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return a6(t).length;default:if(i)return n?-1:Qo(t).length;e=(""+e).toLowerCase(),i=!0}}_.byteLength=W5;function $v(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return em(this,e,r);case"utf8":case"utf-8":return X5(this,e,r);case"ascii":return Xv(this,e,r);case"latin1":case"binary":return Jv(this,e,r);case"base64":return Qv(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tm(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}_.prototype._isBuffer=!0;function Jr(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}_.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Jr(this,r,r+1);return this};_.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Jr(this,r,r+3),Jr(this,r+1,r+2);return this};_.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Jr(this,r,r+7),Jr(this,r+1,r+6),Jr(this,r+2,r+5),Jr(this,r+3,r+4);return this};_.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?X5(this,0,e):$v.apply(this,arguments)};_.prototype.toLocaleString=_.prototype.toString;_.prototype.equals=function(e){if(!_.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_.compare(this,e)===0};_.prototype.inspect=function(){let e="",r=qn.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};H5&&(_.prototype[H5]=_.prototype.inspect);_.prototype.compare=function(e,r,n,i,s){if(qt(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),!_.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,c=Math.min(o,a),u=this.slice(i,s),f=e.slice(r,n);for(let l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function Q5(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Zo(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=_.from(e,n)),_.isBuffer(e))return e.length===0?-1:Z5(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Z5(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Z5(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function c(f,l){return s===1?f[l]:f.readUInt16BE(l*s)}let u;if(i){let f=-1;for(u=r;u<o;u++)if(c(t,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){let f=!0;for(let l=0;l<a;l++)if(c(t,u+l)!==c(e,l)){f=!1;break}if(f)return u}return-1}_.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};_.prototype.indexOf=function(e,r,n){return Q5(this,e,r,n,!0)};_.prototype.lastIndexOf=function(e,r,n){return Q5(this,e,r,n,!1)};function jv(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Zo(a))return o;t[r+o]=a}return o}function Hv(t,e,r,n){return x1(Qo(e,t.length-r),t,r,n)}function Gv(t,e,r,n){return x1(sm(e),t,r,n)}function Yv(t,e,r,n){return x1(a6(e),t,r,n)}function Wv(t,e,r,n){return x1(om(e,t.length-r),t,r,n)}_.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return jv(this,e,r,n);case"utf8":case"utf-8":return Hv(this,e,r,n);case"ascii":case"latin1":case"binary":return Gv(this,e,r,n);case"base64":return Yv(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wv(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qv(t,e,r){return e===0&&r===t.length?$o.fromByteArray(t):$o.fromByteArray(t.slice(e,r))}function X5(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=t[i+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=t[i+1],u=t[i+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=t[i+1],u=t[i+2],f=t[i+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return Zv(n)}var J5=4096;function Zv(t){let e=t.length;if(e<=J5)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=J5));return r}function Xv(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Jv(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function em(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=am[t[s]];return i}function tm(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}_.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,_.prototype),i};function ke(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ke(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};_.prototype.readUintBE=_.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ke(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};_.prototype.readUint8=_.prototype.readUInt8=function(e,r){return e=e>>>0,r||ke(e,1,this.length),this[e]};_.prototype.readUint16LE=_.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||ke(e,2,this.length),this[e]|this[e+1]<<8};_.prototype.readUint16BE=_.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||ke(e,2,this.length),this[e]<<8|this[e+1]};_.prototype.readUint32LE=_.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_.prototype.readUint32BE=_.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_.prototype.readBigUInt64LE=Ar(function(e){e=e>>>0,Fn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ui(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});_.prototype.readBigUInt64BE=Ar(function(e){e=e>>>0,Fn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ui(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});_.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ke(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};_.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ke(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};_.prototype.readInt8=function(e,r){return e=e>>>0,r||ke(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_.prototype.readInt16LE=function(e,r){e=e>>>0,r||ke(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};_.prototype.readInt16BE=function(e,r){e=e>>>0,r||ke(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};_.prototype.readInt32LE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_.prototype.readInt32BE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_.prototype.readBigInt64LE=Ar(function(e){e=e>>>0,Fn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ui(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});_.prototype.readBigInt64BE=Ar(function(e){e=e>>>0,Fn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ui(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});_.prototype.readFloatLE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),Nn.read(this,e,!0,23,4)};_.prototype.readFloatBE=function(e,r){return e=e>>>0,r||ke(e,4,this.length),Nn.read(this,e,!1,23,4)};_.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||ke(e,8,this.length),Nn.read(this,e,!0,52,8)};_.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||ke(e,8,this.length),Nn.read(this,e,!1,52,8)};function He(t,e,r,n,i,s){if(!_.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;He(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};_.prototype.writeUintBE=_.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;He(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};_.prototype.writeUint8=_.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,1,255,0),this[r]=e&255,r+1};_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function e6(t,e,r,n,i){o6(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function t6(t,e,r,n,i){o6(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}_.prototype.writeBigUInt64LE=Ar(function(e,r=0){return e6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeBigUInt64BE=Ar(function(e,r=0){return t6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);He(this,e,r,n,c-1,-c)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};_.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);He(this,e,r,n,c-1,-c)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};_.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};_.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};_.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};_.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};_.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||He(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};_.prototype.writeBigInt64LE=Ar(function(e,r=0){return e6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});_.prototype.writeBigInt64BE=Ar(function(e,r=0){return t6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function r6(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function n6(t,e,r,n,i){return e=+e,r=r>>>0,i||r6(t,e,r,4,34028234663852886e22,-34028234663852886e22),Nn.write(t,e,r,n,23,4),r+4}_.prototype.writeFloatLE=function(e,r,n){return n6(this,e,r,!0,n)};_.prototype.writeFloatBE=function(e,r,n){return n6(this,e,r,!1,n)};function i6(t,e,r,n,i){return e=+e,r=r>>>0,i||r6(t,e,r,8,17976931348623157e292,-17976931348623157e292),Nn.write(t,e,r,n,52,8),r+8}_.prototype.writeDoubleLE=function(e,r,n){return i6(this,e,r,!0,n)};_.prototype.writeDoubleBE=function(e,r,n){return i6(this,e,r,!1,n)};_.prototype.copy=function(e,r,n,i){if(!_.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};_.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!_.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=_.isBuffer(e)?e:_.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var On={};function Wo(t,e,r){On[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Wo("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Wo("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Wo("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=s6(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=s6(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function s6(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function rm(t,e,r){Fn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Ui(e,t.length-(r+1))}function o6(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new On.ERR_OUT_OF_RANGE("value",a,t)}rm(n,i,s)}function Fn(t,e){if(typeof t!="number")throw new On.ERR_INVALID_ARG_TYPE(e,"number",t)}function Ui(t,e,r){throw Math.floor(t)!==t?(Fn(t,r),new On.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new On.ERR_BUFFER_OUT_OF_BOUNDS:new On.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var nm=/[^+/0-9A-Za-z-_]/g;function im(t){if(t=t.split("=")[0],t=t.trim().replace(nm,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function Qo(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function sm(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function om(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function a6(t){return $o.toByteArray(im(t))}function x1(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function qt(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Zo(t){return t!==t}var am=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ar(t){return typeof BigInt=="undefined"?cm:t}function cm(){throw new Error("BigInt not supported")}});var f6=b((Xo,u6)=>{var w1=Ir(),sr=w1.Buffer;function c6(t,e){for(var r in t)e[r]=t[r]}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?u6.exports=w1:(c6(w1,Xo),Xo.Buffer=Kn);function Kn(t,e,r){return sr(t,e,r)}c6(sr,Kn);Kn.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return sr(t,e,r)};Kn.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=sr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Kn.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return sr(t)};Kn.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return w1.SlowBuffer(t)}});var l6=b((rA,e2)=>{"use strict";var Jo=65536,um=4294967295;function fm(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var lm=f6().Buffer,E1=globalThis.crypto||globalThis.msCrypto;E1&&E1.getRandomValues?e2.exports=hm:e2.exports=fm;function hm(t,e){if(t>um)throw new RangeError("requested too many random bytes");var r=lm.allocUnsafe(t);if(t>0)if(t>Jo)for(var n=0;n<t;n+=Jo)E1.getRandomValues(r.slice(n,n+Jo));else E1.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var p6=b((nA,d6)=>{"use strict";var dm=l6(),{EventEmitter:pm}=wt();function h6(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0}function t2(){return{contacts:[],dontSplit:!1,left:null,right:null}}function Mi(t,e){if(!(e instanceof Uint8Array))throw new TypeError(t+" is not a Uint8Array")}var Vi=class extends pm{constructor(e={}){super();this.localNodeId=e.localNodeId||dm(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||Vi.distance,this.arbiter=e.arbiter||Vi.arbiter,this.metadata=Object.assign({},e.metadata),Mi("option.localNodeId as parameter 1",this.localNodeId),this.root=t2()}static arbiter(e,r){return e.vectorClock>r.vectorClock?e:r}static distance(e,r){let n=0,i=0,s=Math.min(e.length,r.length),o=Math.max(e.length,r.length);for(;i<s;++i)n=n*256+(e[i]^r[i]);for(;i<o;++i)n=n*256+255;return n}add(e){Mi("contact.id",(e||{}).id);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e.id,r++);let i=this._indexOf(n,e.id);return i>=0?(this._update(n,i,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,r),this.add(e))}closest(e,r=1/0){if(Mi("id",e),!Number.isInteger(r)&&r!==1/0||r<=0)throw new TypeError("n is not positive number");let n=[];for(let i=[this.root],s=0;i.length>0&&n.length<r;){let o=i.pop();if(o.contacts===null){let a=this._determineNode(o,e,s++);i.push(o.left===a?o.right:o.left),i.push(a)}else n=n.concat(o.contacts)}return n.map(i=>[this.distance(i.id,e),i]).sort((i,s)=>i[0]-s[0]).slice(0,r).map(i=>i[1])}count(){let e=0;for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,r,n){let i=n>>3,s=n%8;return r.length<=i&&s!==0?e.left:r[i]&1<<7-s?e.right:e.left}get(e){Mi("id",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);return i>=0?n.contacts[i]:null}_indexOf(e,r){for(let n=0;n<e.contacts.length;++n)if(h6(e.contacts[n].id,r))return n;return-1}remove(e){Mi("the id as parameter 1",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);if(i>=0){let s=n.contacts.splice(i,1)[0];this.emit("removed",s)}return this}_split(e,r){e.left=t2(),e.right=t2();for(let s of e.contacts)this._determineNode(e,s.id,r).contacts.push(s);e.contacts=null;let n=this._determineNode(e,this.localNodeId,r),i=e.left===n?e.right:e.left;i.dontSplit=!0}toArray(){let e=[];for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e=e.concat(n.contacts)}return e}*toIterable(){for(let e=[this.root];e.length>0;){let r=e.pop();r.contacts===null?e.push(r.right,r.left):yield*r.contacts}}_update(e,r,n){if(!h6(e.contacts[r].id,n.id))throw new Error("wrong index for _update");let i=e.contacts[r],s=this.arbiter(i,n);s===i&&i!==n||(e.contacts.splice(r,1),e.contacts.push(s),this.emit("updated",i,s))}};d6.exports=Vi});var g6=b((iA,y6)=>{var Un=1e3,Mn=Un*60,Vn=Mn*60,en=Vn*24,ym=en*7,gm=en*365.25;y6.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return vm(t);if(r==="number"&&isFinite(t))return e.long?bm(t):mm(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function vm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*gm;case"weeks":case"week":case"w":return r*ym;case"days":case"day":case"d":return r*en;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Vn;case"minutes":case"minute":case"mins":case"min":case"m":return r*Mn;case"seconds":case"second":case"secs":case"sec":case"s":return r*Un;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function mm(t){var e=Math.abs(t);return e>=en?Math.round(t/en)+"d":e>=Vn?Math.round(t/Vn)+"h":e>=Mn?Math.round(t/Mn)+"m":e>=Un?Math.round(t/Un)+"s":t+"ms"}function bm(t){var e=Math.abs(t);return e>=en?_1(t,e,en,"day"):e>=Vn?_1(t,e,Vn,"hour"):e>=Mn?_1(t,e,Mn,"minute"):e>=Un?_1(t,e,Un,"second"):t+" ms"}function _1(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var m6=b((sA,v6)=>{function xm(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=g6(),r.destroy=u,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let l=0;for(let d=0;d<f.length;d++)l=(l<<5)-l+f.charCodeAt(d),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(f){let l,d=null,p,h;function y(...g){if(!y.enabled)return;let v=y,x=Number(new Date),S=x-(l||x);v.diff=S,v.prev=l,v.curr=x,l=x,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let k=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(C,q)=>{if(C==="%%")return"%";k++;let V=r.formatters[q];if(typeof V=="function"){let Ee=g[k];C=V.call(v,Ee),g.splice(k,1),k--}return C}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==r.namespaces&&(p=r.namespaces,h=r.enabled(f)),h),set:g=>{d=g}}),typeof r.init=="function"&&r.init(y),y}function n(f,l){let d=r(this.namespace+(typeof l=="undefined"?":":l)+f);return d.log=this.log,d}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,d=(typeof f=="string"?f:"").split(/[\s,]+/),p=d.length;for(l=0;l<p;l++)!d[l]||(f=d[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let l,d;for(l=0,d=r.skips.length;l<d;l++)if(r.skips[l].test(f))return!1;for(l=0,d=r.names.length;l<d;l++)if(r.names[l].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}v6.exports=xm});var r2=b((Xe,S1)=>{Xe.formatArgs=Em;Xe.save=_m;Xe.load=Sm;Xe.useColors=wm;Xe.storage=Bm();Xe.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Xe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function wm(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Em(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+S1.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Xe.log=console.debug||console.log||(()=>{});function _m(t){try{t?Xe.storage.setItem("debug",t):Xe.storage.removeItem("debug")}catch(e){}}function Sm(){let t;try{t=Xe.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Bm(){try{return localStorage}catch(t){}}S1.exports=m6()(Xe);var{formatters:Am}=S1.exports;Am.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var b6=b((oA,n2)=>{"use strict";function Im(t,{className:e,symbolName:r}){let n=Symbol.for(r),i={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=s=>!!(s&&s[n]),i}function Cm(t,{className:e,symbolName:r,withoutNew:n}){let i=Symbol.for(r),s={[e]:function(...o){if(n&&!(this instanceof s))return new s(...o);let a=t.call(this,...o)||this;return a&&!a[i]&&Object.defineProperty(a,i,{value:!0}),a}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=o=>!!(o&&o[i]),s}n2.exports=Im;n2.exports.proto=Cm});var E6=b((aA,w6)=>{"use strict";var zn=gi(),x6=zn.Reader,Tm=zn.Writer,Ie=zn.util,zi=zn.roots["libp2p-peer-id"]||(zn.roots["libp2p-peer-id"]={});zi.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.id=Ie.newBuffer([]),t.prototype.pubKey=Ie.newBuffer([]),t.prototype.privKey=Ie.newBuffer([]),t.encode=function(r,n){return n||(n=Tm.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},t.decode=function(r,n){r instanceof x6||(r=x6.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new zi.PeerIdProto;r.pos<i;){var o=r.uint32();switch(o>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("id"))throw Ie.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof zi.PeerIdProto)return r;var n=new zi.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?Ie.base64.decode(r.id,n.id=Ie.newBuffer(Ie.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?Ie.base64.decode(r.pubKey,n.pubKey=Ie.newBuffer(Ie.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?Ie.base64.decode(r.privKey,n.privKey=Ie.newBuffer(Ie.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=Ie.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=Ie.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=Ie.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?Ie.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?Ie.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?Ie.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,zn.util.toJSONOptions)},t}();w6.exports=zi});var rn=b((Ne,P6)=>{"use strict";var{CID:i2}=(Kr(),vn),Pm=(qr(),Fr),Rm=(Ns(),E0),km=(jt(),$t),Dm=(si(),hn),{base58btc:s2}=(jt(),$t),{base32:Lm}=(qr(),Fr),{base16:_6}=(Ls(),w0),$i=(gn(),ui),Kt=Ro(),Nm=b6(),{PeerIdProto:S6}=E6(),{equals:tn}=(Zt(),Qt),{fromString:ji}=(Je(),dt),{toString:Om}=(de(),ge),{identity:B1}=(B0(),li),B6={...Pm,...Rm,...km,...Dm},Fm=Object.keys(B6).reduce((t,e)=>t.or(B6[e]),Lm.decoder),qm=112,A6=114,I6=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!tn(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=s2.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=$i.decode(this.id);e.code===B1.code&&(this._pubKey=Kt.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return Kt.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return Kt.marshalPrivateKey(this.privKey)}marshal(e){return S6.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:T6(this.marshalPrivKey()),pubKey:T6(this.marshalPubKey())}}toHexString(){return _6.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=i2.createV1(A6,$i.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return tn(this.id,e);if(e.id)return tn(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&tn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if($i.decode(this.id).code===B1.code)return!0}catch(e){}return!1}},Ut=Nm(I6,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ne=P6.exports=Ut;var Hi=t=>t.bytes.length<=42?$i.create(B1.code,t.bytes).bytes:t.hash(),o2=async(t,e)=>{let r=await Hi(e);return new Ut(r,t,e)};Ne.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await Kt.generateKeyPair(t.keyType,t.bits);return o2(e,e.public)};Ne.createFromHexString=t=>new Ut(_6.decode("f"+t));Ne.createFromBytes=t=>{try{let e=i2.decode(t);if(!C6(e))throw new Error("Supplied PeerID CID is invalid");return Ne.createFromCID(e)}catch{if($i.decode(t).code!==B1.code)throw new Error("Supplied PeerID CID is invalid");return new Ut(t)}};Ne.createFromB58String=t=>Ne.createFromBytes(s2.decode("z"+t));var C6=t=>t.code===A6||t.code===qm;Ne.createFromCID=t=>{if(t=i2.asCID(t),!t||!C6(t))throw new Error("Supplied PeerID CID is invalid");return new Ut(t.multihash.bytes)};Ne.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=ji(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await Kt.unmarshalPublicKey(e);return o2(void 0,r)};Ne.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=ji(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await Kt.unmarshalPrivateKey(t);return o2(e,e.public)};Ne.createFromJSON=async t=>{let e=s2.decode("z"+t.id),r=t.privKey&&ji(t.privKey,"base64pad"),n=t.pubKey&&ji(t.pubKey,"base64pad"),i=n&&await Kt.unmarshalPublicKey(n);if(!r)return new Ut(e,void 0,i);let s=await Kt.unmarshalPrivateKey(r),o=await Hi(s.public),a;if(i&&(a=await Hi(i)),i&&!tn(o,a))throw new Error("Public and private key do not match");if(e&&!tn(o,e))throw new Error("Id and private key do not match");return new Ut(e,s,i)};Ne.createFromProtobuf=async t=>{typeof t=="string"&&(t=ji(t,"base16"));let{id:e,privKey:r,pubKey:n}=S6.decode(t);r=r?await Kt.unmarshalPrivateKey(r):!1,n=n?await Kt.unmarshalPublicKey(n):!1;let i,s;if(r&&(s=await Hi(r.public)),n&&(i=await Hi(n)),r){if(n&&!tn(s,i))throw new Error("Public and private key do not match");return new Ut(s,r,r.public)}if(n)return new Ut(i,void 0,n);if(e)return new Ut(e);throw new Error("Protobuf did not contain any usable key material")};Ne.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),Ne.createFromBytes(Fm.decode(t)));Ne.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function T6(t){if(t)return Om(t,"base64pad")}});var R6=b(Gi=>{(function(){var t,e,r,n,i,s,o,a;a=function(c){var u,f,l,d;return u=(c&255<<24)>>>24,f=(c&255<<16)>>>16,l=(c&255<<8)>>>8,d=c&255,[u,f,l,d].join(".")},o=function(c){var u,f,l,d,p,h;for(u=[],l=d=0;d<=3&&c.length!==0;l=++d){if(l>0){if(c[0]!==".")throw new Error("Invalid IP");c=c.substring(1)}h=e(c),p=h[0],f=h[1],c=c.substring(f),u.push(p)}if(c.length!==0)throw new Error("Invalid IP");switch(u.length){case 1:if(u[0]>4294967295)throw new Error("Invalid IP");return u[0]>>>0;case 2:if(u[0]>255||u[1]>16777215)throw new Error("Invalid IP");return(u[0]<<24|u[1])>>>0;case 3:if(u[0]>255||u[1]>255||u[2]>65535)throw new Error("Invalid IP");return(u[0]<<24|u[1]<<16|u[2])>>>0;case 4:if(u[0]>255||u[1]>255||u[2]>255||u[3]>255)throw new Error("Invalid IP");return(u[0]<<24|u[1]<<16|u[2]<<8|u[3])>>>0;default:throw new Error("Invalid IP")}},r=function(c){return c.charCodeAt(0)},n=r("0"),s=r("a"),i=r("A"),e=function(c){var u,f,l,d,p;for(d=0,u=10,f="9",l=0,c.length>1&&c[l]==="0"&&(c[l+1]==="x"||c[l+1]==="X"?(l+=2,u=16):"0"<=c[l+1]&&c[l+1]<="9"&&(l++,u=8,f="7")),p=l;l<c.length;){if("0"<=c[l]&&c[l]<=f)d=d*u+(r(c[l])-n)>>>0;else if(u===16)if("a"<=c[l]&&c[l]<="f")d=d*u+(10+r(c[l])-s)>>>0;else if("A"<=c[l]&&c[l]<="F")d=d*u+(10+r(c[l])-i)>>>0;else break;else break;if(d>4294967295)throw new Error("too large");l++}if(l===p)throw new Error("empty octet");return[d,l]},t=function(){function c(u,f){var l,d,p,h;if(typeof u!="string")throw new Error("Missing `net' parameter");if(f||(h=u.split("/",2),u=h[0],f=h[1]),f||(f=32),typeof f=="string"&&f.indexOf(".")>-1){try{this.maskLong=o(f)}catch(y){throw l=y,new Error("Invalid mask: "+f)}for(d=p=32;p>=0;d=--p)if(this.maskLong===4294967295<<32-d>>>0){this.bitmask=d;break}}else if(f||f===0)this.bitmask=parseInt(f,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(o(u)&this.maskLong)>>>0}catch(y){throw l=y,new Error("Invalid net address: "+u)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+f);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return c.prototype.contains=function(u){return typeof u=="string"&&(u.indexOf("/")>0||u.split(".").length!==4)&&(u=new c(u)),u instanceof c?this.contains(u.base)&&this.contains(u.broadcast||u.last):(o(u)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},c.prototype.next=function(u){return u==null&&(u=1),new c(a(this.netLong+this.size*u),this.mask)},c.prototype.forEach=function(u){var f,l,d;for(d=o(this.first),l=o(this.last),f=0;d<=l;)u(a(d),d,f),f++,d++},c.prototype.toString=function(){return this.base+"/"+this.bitmask},c}(),Gi.ip2long=o,Gi.long2ip=a,Gi.Netmask=t}).call(Gi)});var c2=b((uA,D6)=>{"use strict";var k6="[a-fA-F\\d:]",Cr=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${k6})|(?<=${k6})(?=\\s|$))`:"",vt="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Se="[a-fA-F\\d]{1,4}",A1=`
(?:
(?:${Se}:){7}(?:${Se}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${Se}:){6}(?:${vt}|:${Se}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${Se}:){5}(?::${vt}|(?::${Se}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${Se}:){4}(?:(?::${Se}){0,1}:${vt}|(?::${Se}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${Se}:){3}(?:(?::${Se}){0,2}:${vt}|(?::${Se}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${Se}:){2}(?:(?::${Se}){0,3}:${vt}|(?::${Se}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${Se}:){1}(?:(?::${Se}){0,4}:${vt}|(?::${Se}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${Se}){0,5}:${vt}|(?::${Se}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Km=new RegExp(`(?:^${vt}$)|(?:^${A1}$)`),Um=new RegExp(`^${vt}$`),Mm=new RegExp(`^${A1}$`),a2=t=>t&&t.exact?Km:new RegExp(`(?:${Cr(t)}${vt}${Cr(t)})|(?:${Cr(t)}${A1}${Cr(t)})`,"g");a2.v4=t=>t&&t.exact?Um:new RegExp(`${Cr(t)}${vt}${Cr(t)}`,"g");a2.v6=t=>t&&t.exact?Mm:new RegExp(`${Cr(t)}${A1}${Cr(t)}`,"g");D6.exports=a2});var f2=b((fA,L6)=>{"use strict";var u2=c2(),$n=t=>u2({exact:!0}).test(t);$n.v4=t=>u2.v4({exact:!0}).test(t);$n.v6=t=>u2.v6({exact:!0}).test(t);$n.version=t=>$n(t)?$n.v4(t)?4:6:void 0;L6.exports=$n});var O6=b((N6,I1)=>{(function(t){"use strict";let e="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},n=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),s="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(s,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${s})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${s})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${e}\\.${e}\\.${e}\\.${e}(${s})?$`,"i")};function c(p,h){if(p.indexOf("::")!==p.lastIndexOf("::"))return null;let y=0,g=-1,v=(p.match(a.zoneIndex)||[])[0],x,S;for(v&&(v=v.substring(1),p=p.replace(/%.+$/,""));(g=p.indexOf(":",g+1))>=0;)y++;if(p.substr(0,2)==="::"&&y--,p.substr(-2,2)==="::"&&y--,y>h)return null;for(S=h-y,x=":";S--;)x+="0:";return p=p.replace("::",x),p[0]===":"&&(p=p.slice(1)),p[p.length-1]===":"&&(p=p.slice(0,-1)),h=function(){let k=p.split(":"),T=[];for(let C=0;C<k.length;C++)T.push(parseInt(k[C],16));return T}(),{parts:h,zoneId:v}}function u(p,h,y,g){if(p.length!==h.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let v=0,x;for(;g>0;){if(x=y-g,x<0&&(x=0),p[v]>>x!=h[v]>>x)return!1;g-=y,v+=1}return!0}function f(p){if(i.test(p))return parseInt(p,16);if(p[0]==="0"&&!isNaN(parseInt(p[1],10))){if(n.test(p))return parseInt(p,8);throw new Error(`ipaddr: cannot parse ${p} as octal`)}return parseInt(p,10)}function l(p,h){for(;p.length<h;)p=`0${p}`;return p}let d={};d.IPv4=function(){function p(h){if(h.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let y,g;for(y=0;y<h.length;y++)if(g=h[y],!(0<=g&&g<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=h}return p.prototype.SpecialRanges={unspecified:[[new p([0,0,0,0]),8]],broadcast:[[new p([255,255,255,255]),32]],multicast:[[new p([224,0,0,0]),4]],linkLocal:[[new p([169,254,0,0]),16]],loopback:[[new p([127,0,0,0]),8]],carrierGradeNat:[[new p([100,64,0,0]),10]],private:[[new p([10,0,0,0]),8],[new p([172,16,0,0]),12],[new p([192,168,0,0]),16]],reserved:[[new p([192,0,0,0]),24],[new p([192,0,2,0]),24],[new p([192,88,99,0]),24],[new p([198,51,100,0]),24],[new p([203,0,113,0]),24],[new p([240,0,0,0]),4]]},p.prototype.kind=function(){return"ipv4"},p.prototype.match=function(h,y){let g;if(y===void 0&&(g=h,h=g[0],y=g[1]),h.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return u(this.octets,h.octets,8,y)},p.prototype.prefixLengthFromSubnetMask=function(){let h=0,y=!1,g={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},v,x,S;for(v=3;v>=0;v-=1)if(x=this.octets[v],x in g){if(S=g[x],y&&S!==0)return null;S!==8&&(y=!0),h+=S}else return null;return 32-h},p.prototype.range=function(){return d.subnetMatch(this,this.SpecialRanges)},p.prototype.toByteArray=function(){return this.octets.slice(0)},p.prototype.toIPv4MappedAddress=function(){return d.IPv6.parse(`::ffff:${this.toString()}`)},p.prototype.toNormalizedString=function(){return this.toString()},p.prototype.toString=function(){return this.octets.join(".")},p}(),d.IPv4.broadcastAddressFromCIDR=function(p){try{let h=this.parseCIDR(p),y=h[0].toByteArray(),g=this.subnetMaskFromPrefixLength(h[1]).toByteArray(),v=[],x=0;for(;x<4;)v.push(parseInt(y[x],10)|parseInt(g[x],10)^255),x++;return new this(v)}catch(h){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},d.IPv4.isIPv4=function(p){return this.parser(p)!==null},d.IPv4.isValid=function(p){try{return new this(this.parser(p)),!0}catch(h){return!1}},d.IPv4.isValidFourPartDecimal=function(p){return!!(d.IPv4.isValid(p)&&p.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},d.IPv4.networkAddressFromCIDR=function(p){let h,y,g,v,x;try{for(h=this.parseCIDR(p),g=h[0].toByteArray(),x=this.subnetMaskFromPrefixLength(h[1]).toByteArray(),v=[],y=0;y<4;)v.push(parseInt(g[y],10)&parseInt(x[y],10)),y++;return new this(v)}catch(S){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},d.IPv4.parse=function(p){let h=this.parser(p);if(h===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(h)},d.IPv4.parseCIDR=function(p){let h;if(h=p.match(/^(.+)\/(\d+)$/)){let y=parseInt(h[2]);if(y>=0&&y<=32){let g=[this.parse(h[1]),y];return Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},d.IPv4.parser=function(p){let h,y,g;if(h=p.match(r.fourOctet))return function(){let v=h.slice(1,6),x=[];for(let S=0;S<v.length;S++)y=v[S],x.push(f(y));return x}();if(h=p.match(r.longValue)){if(g=f(h[1]),g>4294967295||g<0)throw new Error("ipaddr: address outside defined range");return function(){let v=[],x;for(x=0;x<=24;x+=8)v.push(g>>x&255);return v}().reverse()}else return(h=p.match(r.twoOctet))?function(){let v=h.slice(1,4),x=[];if(g=f(v[1]),g>16777215||g<0)throw new Error("ipaddr: address outside defined range");return x.push(f(v[0])),x.push(g>>16&255),x.push(g>>8&255),x.push(g&255),x}():(h=p.match(r.threeOctet))?function(){let v=h.slice(1,5),x=[];if(g=f(v[2]),g>65535||g<0)throw new Error("ipaddr: address outside defined range");return x.push(f(v[0])),x.push(f(v[1])),x.push(g>>8&255),x.push(g&255),x}():null},d.IPv4.subnetMaskFromPrefixLength=function(p){if(p=parseInt(p),p<0||p>32)throw new Error("ipaddr: invalid IPv4 prefix length");let h=[0,0,0,0],y=0,g=Math.floor(p/8);for(;y<g;)h[y]=255,y++;return g<4&&(h[g]=Math.pow(2,p%8)-1<<8-p%8),new this(h)},d.IPv6=function(){function p(h,y){let g,v;if(h.length===16)for(this.parts=[],g=0;g<=14;g+=2)this.parts.push(h[g]<<8|h[g+1]);else if(h.length===8)this.parts=h;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(g=0;g<this.parts.length;g++)if(v=this.parts[g],!(0<=v&&v<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");y&&(this.zoneId=y)}return p.prototype.SpecialRanges={unspecified:[new p([0,0,0,0,0,0,0,0]),128],linkLocal:[new p([65152,0,0,0,0,0,0,0]),10],multicast:[new p([65280,0,0,0,0,0,0,0]),8],loopback:[new p([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new p([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new p([0,0,0,0,0,65535,0,0]),96],rfc6145:[new p([0,0,0,0,65535,0,0,0]),96],rfc6052:[new p([100,65435,0,0,0,0,0,0]),96],"6to4":[new p([8194,0,0,0,0,0,0,0]),16],teredo:[new p([8193,0,0,0,0,0,0,0]),32],reserved:[[new p([8193,3512,0,0,0,0,0,0]),32]]},p.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},p.prototype.kind=function(){return"ipv6"},p.prototype.match=function(h,y){let g;if(y===void 0&&(g=h,h=g[0],y=g[1]),h.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return u(this.parts,h.parts,16,y)},p.prototype.prefixLengthFromSubnetMask=function(){let h=0,y=!1,g={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},v,x;for(let S=7;S>=0;S-=1)if(v=this.parts[S],v in g){if(x=g[v],y&&x!==0)return null;x!==16&&(y=!0),h+=x}else return null;return 128-h},p.prototype.range=function(){return d.subnetMatch(this,this.SpecialRanges)},p.prototype.toByteArray=function(){let h,y=[],g=this.parts;for(let v=0;v<g.length;v++)h=g[v],y.push(h>>8),y.push(h&255);return y},p.prototype.toFixedLengthString=function(){let h=function(){let g=[];for(let v=0;v<this.parts.length;v++)g.push(l(this.parts[v].toString(16),4));return g}.call(this).join(":"),y="";return this.zoneId&&(y=`%${this.zoneId}`),h+y},p.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let h=this.parts.slice(-2),y=h[0],g=h[1];return new d.IPv4([y>>8,y&255,g>>8,g&255])},p.prototype.toNormalizedString=function(){let h=function(){let g=[];for(let v=0;v<this.parts.length;v++)g.push(this.parts[v].toString(16));return g}.call(this).join(":"),y="";return this.zoneId&&(y=`%${this.zoneId}`),h+y},p.prototype.toRFC5952String=function(){let h=/((^|:)(0(:|$)){2,})/g,y=this.toNormalizedString(),g=0,v=-1,x;for(;x=h.exec(y);)x[0].length>v&&(g=x.index,v=x[0].length);return v<0?y:`${y.substring(0,g)}::${y.substring(g+v)}`},p.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},p}(),d.IPv6.broadcastAddressFromCIDR=function(p){try{let h=this.parseCIDR(p),y=h[0].toByteArray(),g=this.subnetMaskFromPrefixLength(h[1]).toByteArray(),v=[],x=0;for(;x<16;)v.push(parseInt(y[x],10)|parseInt(g[x],10)^255),x++;return new this(v)}catch(h){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${h})`)}},d.IPv6.isIPv6=function(p){return this.parser(p)!==null},d.IPv6.isValid=function(p){if(typeof p=="string"&&p.indexOf(":")===-1)return!1;try{let h=this.parser(p);return new this(h.parts,h.zoneId),!0}catch(h){return!1}},d.IPv6.networkAddressFromCIDR=function(p){let h,y,g,v,x;try{for(h=this.parseCIDR(p),g=h[0].toByteArray(),x=this.subnetMaskFromPrefixLength(h[1]).toByteArray(),v=[],y=0;y<16;)v.push(parseInt(g[y],10)&parseInt(x[y],10)),y++;return new this(v)}catch(S){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${S})`)}},d.IPv6.parse=function(p){let h=this.parser(p);if(h.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(h.parts,h.zoneId)},d.IPv6.parseCIDR=function(p){let h,y,g;if((y=p.match(/^(.+)\/(\d+)$/))&&(h=parseInt(y[2]),h>=0&&h<=128))return g=[this.parse(y[1]),h],Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},d.IPv6.parser=function(p){let h,y,g,v,x,S;if(g=p.match(a.deprecatedTransitional))return this.parser(`::ffff:${g[1]}`);if(a.native.test(p))return c(p,8);if((g=p.match(a.transitional))&&(S=g[6]||"",h=c(g[1].slice(0,-1)+S,6),h.parts)){for(x=[parseInt(g[2]),parseInt(g[3]),parseInt(g[4]),parseInt(g[5])],y=0;y<x.length;y++)if(v=x[y],!(0<=v&&v<=255))return null;return h.parts.push(x[0]<<8|x[1]),h.parts.push(x[2]<<8|x[3]),{parts:h.parts,zoneId:h.zoneId}}return null},d.IPv6.subnetMaskFromPrefixLength=function(p){if(p=parseInt(p),p<0||p>128)throw new Error("ipaddr: invalid IPv6 prefix length");let h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=0,g=Math.floor(p/8);for(;y<g;)h[y]=255,y++;return g<16&&(h[g]=Math.pow(2,p%8)-1<<8-p%8),new this(h)},d.fromByteArray=function(p){let h=p.length;if(h===4)return new d.IPv4(p);if(h===16)return new d.IPv6(p);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},d.isValid=function(p){return d.IPv6.isValid(p)||d.IPv4.isValid(p)},d.parse=function(p){if(d.IPv6.isValid(p))return d.IPv6.parse(p);if(d.IPv4.isValid(p))return d.IPv4.parse(p);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},d.parseCIDR=function(p){try{return d.IPv6.parseCIDR(p)}catch(h){try{return d.IPv4.parseCIDR(p)}catch(y){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},d.process=function(p){let h=this.parse(p);return h.kind()==="ipv6"&&h.isIPv4MappedAddress()?h.toIPv4Address():h},d.subnetMatch=function(p,h,y){let g,v,x,S;y==null&&(y="unicast");for(v in h)if(Object.prototype.hasOwnProperty.call(h,v)){for(x=h[v],x[0]&&!(x[0]instanceof Array)&&(x=[x]),g=0;g<x.length;g++)if(S=x[g],p.kind()===S[0].kind()&&p.match.apply(p,S))return v}return y},typeof I1!="undefined"&&I1.exports?I1.exports=d:t.ipaddr=d})(N6)});var U6=b(Yi=>{"use strict";var F6=Yi&&Yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});var Vm=R6(),zm=F6(c2()),$m=F6(f2()),q6=O6(),jm=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"],Hm=jm.map(t=>new Vm.Netmask(t));function Gm(t){for(let e of Hm)if(e.contains(t))return!0;return!1}function K6(t){return/^::$/.test(t)||/^::1$/.test(t)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(t)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(t)||/^ff([0-9a-fA-F]{2,2}):/i.test(t)}Yi.default=t=>{if(q6.isValid(t)){let e=q6.parse(t);if(e.kind()==="ipv4")return Gm(e.toNormalizedString());if(e.kind()==="ipv6")return K6(t)}else if($m.default(t)&&zm.default.v6().test(t))return K6(t)}});var V6=b((hA,M6)=>{"use strict";M6.exports=U6().default});var ae=b((dA,j6)=>{"use strict";var Wi=r2(),{sha256:z6}=(Ht(),St),{base58btc:Ym}=(jt(),$t),{base32:Wm}=(qr(),Fr),{Key:Qm}=(Br(),g1),{Record:Zm}=rr(),Xm=rn(),{fromString:Jm}=(Je(),dt),{toString:l2}=(de(),ge),{concat:eb}=(gr(),yr),$6=V6(),tb=Jm("/pk/");function rb({id:t,multiaddrs:e}){return{id:t,multiaddrs:e.filter(r=>{let[[n,i]]=r.stringTuples();return n!==4&&n!==6?!1:!$6(i)})}}function nb({id:t,multiaddrs:e}){return{id:t,multiaddrs:e.filter(r=>{let[[n,i]]=r.stringTuples();return n!==4&&n!==6?!1:$6(i)})}}var ib=async t=>(await z6.digest(t)).digest,sb=async t=>(await z6.digest(t.id)).digest,ob=t=>new Qm("/"+l2(t,"base32"),!1),ab=t=>eb([tb,t.id]),cb=t=>l2(t.slice(0,4))==="/pk/",ub=t=>l2(t.slice(0,4))==="/ipns/",fb=t=>new Xm(t.slice(4)),lb=(t,e)=>{let r=new Date;return new Zm(t,e,r).serialize()},hb=t=>(Wi.formatters.b=r=>Ym.baseEncode(r),Wi.formatters.t=r=>Wm.baseEncode(r),Wi.formatters.p=r=>r.toB58String(),Object.assign(Wi(t),{error:Wi(`${t}:error`)}));j6.exports={removePrivateAddresses:rb,removePublicAddresses:nb,convertBuffer:ib,convertPeerId:sb,bufferToKey:ob,keyForPublicKey:ab,isPublicKeyKey:cb,isIPNSKey:ub,fromPublicKeyKey:fb,createPutRecord:lb,logger:hb}});var G6=b((pA,h2)=>{"use strict";var db=Object.prototype.hasOwnProperty,Me="~";function Qi(){}Object.create&&(Qi.prototype=Object.create(null),new Qi().__proto__||(Me=!1));function pb(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function H6(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new pb(r,n||t,i),o=Me?Me+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function C1(t,e){--t._eventsCount==0?t._events=new Qi:delete t._events[e]}function Oe(){this._events=new Qi,this._eventsCount=0}Oe.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)db.call(r,n)&&e.push(Me?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Oe.prototype.listeners=function(e){var r=Me?Me+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Oe.prototype.listenerCount=function(e){var r=Me?Me+e:e,n=this._events[r];return n?n.fn?1:n.length:0};Oe.prototype.emit=function(e,r,n,i,s,o){var a=Me?Me+e:e;if(!this._events[a])return!1;var c=this._events[a],u=arguments.length,f,l;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,s),!0;case 6:return c.fn.call(c.context,r,n,i,s,o),!0}for(l=1,f=new Array(u-1);l<u;l++)f[l-1]=arguments[l];c.fn.apply(c.context,f)}else{var d=c.length,p;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,r);break;case 3:c[l].fn.call(c[l].context,r,n);break;case 4:c[l].fn.call(c[l].context,r,n,i);break;default:if(!f)for(p=1,f=new Array(u-1);p<u;p++)f[p-1]=arguments[p];c[l].fn.apply(c[l].context,f)}}return!0};Oe.prototype.on=function(e,r,n){return H6(this,e,r,n,!1)};Oe.prototype.once=function(e,r,n){return H6(this,e,r,n,!0)};Oe.prototype.removeListener=function(e,r,n,i){var s=Me?Me+e:e;if(!this._events[s])return this;if(!r)return C1(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&C1(this,s);else{for(var a=0,c=[],u=o.length;a<u;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&c.push(o[a]);c.length?this._events[s]=c.length===1?c[0]:c:C1(this,s)}return this};Oe.prototype.removeAllListeners=function(e){var r;return e?(r=Me?Me+e:e,this._events[r]&&C1(this,r)):(this._events=new Qi,this._eventsCount=0),this};Oe.prototype.off=Oe.prototype.removeListener;Oe.prototype.addListener=Oe.prototype.on;Oe.prefixed=Me;Oe.EventEmitter=Oe;typeof h2!="undefined"&&(h2.exports=Oe)});var W6=b((yA,Y6)=>{"use strict";Y6.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(n=>{n(e())}).then(()=>r),r=>new Promise(n=>{n(e())}).then(()=>{throw r})))});var Z6=b((gA,T1)=>{"use strict";var yb=W6(),d2=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},Q6=(t,e,r)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(t);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(c){i(c)}return}let o=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,a=r instanceof Error?r:new d2(o);typeof t.cancel=="function"&&t.cancel(),i(a)},e);yb(t.then(n,i),()=>{clearTimeout(s)})});T1.exports=Q6;T1.exports.default=Q6;T1.exports.TimeoutError=d2});var X6=b(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});function gb(t,e,r){let n=0,i=t.length;for(;i>0;){let s=i/2|0,o=n+s;r(t[o],e)<=0?(n=++o,i-=s+1):i=s}return n}p2.default=gb});var e8=b(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});var vb=X6(),J6=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=vb.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};y2.default=J6});var R1=b(g2=>{"use strict";Object.defineProperty(g2,"__esModule",{value:!0});var mb=G6(),t8=Z6(),bb=e8(),P1=()=>{},xb=new t8.TimeoutError,r8=class extends mb{constructor(e){var r,n,i,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=P1,this._resolveIdle=P1,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:bb.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=P1,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=P1,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?e():t8.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(xb)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};g2.default=r8});var Mt=b(Be=>{"use strict";var Zi=Be.second=1e3,v2=Be.minute=60*Zi,m2=Be.hour=60*v2;Be.MAX_RECORD_AGE=36*m2;Be.PROTOCOL_DHT="/kad/1.0.0";Be.RECORD_KEY_PREFIX="/dht/record";Be.PROVIDER_KEY_PREFIX="/dht/provider";Be.PROVIDERS_LRU_CACHE_SIZE=256;Be.PROVIDERS_VALIDITY=24*m2;Be.PROVIDERS_CLEANUP_INTERVAL=m2;Be.READ_MESSAGE_TIMEOUT=10*Zi;Be.GET_MANY_RECORD_COUNT=16;Be.K=20;Be.ALPHA=3;Be.QUERY_SELF_INTERVAL=Number(5*v2);Be.QUERY_SELF_TIMEOUT=Number(30*Zi);Be.TABLE_REFRESH_INTERVAL=Number(5*v2);Be.TABLE_REFRESH_QUERY_TIMEOUT=Number(30*Zi);Be.DEFAULT_QUERY_TIMEOUT=Number(30*Zi)});var i8=b((wA,k1)=>{"use strict";var{AbortController:n8,AbortSignal:wb}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;k1.exports=n8;k1.exports.AbortSignal=wb;k1.exports.default=n8});var L1=b((EA,b2)=>{"use strict";var D1;globalThis.AbortController&&globalThis.AbortSignal?D1=globalThis:D1=i8();b2.exports.AbortSignal=D1.AbortSignal;b2.exports.AbortController=D1.AbortController});var o8=b((_A,s8)=>{"use strict";s8.exports=function(){return Date.now()}});var u8=b((SA,c8)=>{"use strict";var N1=o8(),a8=class{constructor(e,r,n){let i=this;this._started=N1(),this._rescheduled=0,this._scheduled=r,this._args=n,this._triggered=!1,this._timerWrapper=()=>{i._rescheduled>0?(i._scheduled=i._rescheduled-(N1()-i._started),i._schedule(i._scheduled)):(i._triggered=!0,e.apply(null,i._args))},this._timer=setTimeout(this._timerWrapper,r)}reschedule(e){e||(e=this._scheduled);let r=N1();r+e-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(e)):this._triggered?this._schedule(e):(this._started=r,this._rescheduled=e)}_schedule(e){this._triggered=!1,this._started=N1(),this._rescheduled=0,this._scheduled=e,this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}};function Eb(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let t;if(arguments.length>0){t=new Array(arguments.length-2);for(var e=0;e<t.length;e++)t[e]=arguments[e+2]}return new a8(arguments[0],arguments[1],t)}c8.exports=Eb});var jn=b((BA,l8)=>{"use strict";var{AbortController:_b}=L1(),f8=u8(),O1=class extends _b{constructor(e){super();this._ms=e,this._timer=f8(()=>this.abort(),e),Object.setPrototypeOf(this,O1.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=f8(()=>this.abort(),this._ms)}};l8.exports={TimeoutController:O1}});var p8=b((AA,d8)=>{"use strict";var Sb=p6(),Xi=ae(),{default:Bb}=R1(),{PROTOCOL_DHT:Ab}=Mt(),{TimeoutController:Ib}=jn(),x2="routing-table-size",h8=class{constructor({peerId:e,dialer:r,kBucketSize:n,pingTimeout:i,lan:s,metrics:o}){this._log=Xi.logger(`libp2p:kad-dht:${s?"lan":"wan"}:routing-table`),this._peerId=e,this._dialer=r,this._kBucketSize=n||20,this._pingTimeout=i||1e4,this._lan=s,this._metrics=o,this.kb,this.commonPrefixLengthRefreshedAt=[],this._onPing=this._onPing.bind(this),this._pingQueue=new Bb({concurrency:1}),this._running=!1}async start(){this._running=!0,this.kb=new Sb({localNodeId:await Xi.convertPeerId(this._peerId),numberOfNodesPerKBucket:this._kBucketSize,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}async stop(){this._running=!1,this._pingQueue.clear()}_onPing(e,r){this._pingQueue.add(async()=>{if(!this._running)return;let n=0;try{await Promise.all(e.map(async i=>{let s;try{s=new Ib(this._pingTimeout),this._log(`pinging old contact ${i.peer}`);let{stream:o}=await this._dialer.dialProtocol(i.peer,Ab,{signal:s.signal});await o.close(),n++}catch(o){this._running&&(this._log.error("could not ping peer %p",i.peer,o),this._log(`evicting old contact after ping failed ${i.peer}`),this.kb.remove(i.id))}finally{s&&s.clear(),this._metrics&&this._metrics.updateComponentMetric(`kad-dht-${this._lan?"lan":"wan"}`,x2,this.size)}})),this._running&&n<e.length&&(this._log(`adding new contact ${r.peer}`),this.kb.add(r))}catch(i){this._log.error("could not process k-bucket ping event",i)}})}get size(){return this.kb.count()}async find(e){let r=await Xi.convertPeerId(e),n=this.closestPeer(r);if(n&&e.equals(n))return n}closestPeer(e){let r=this.closestPeers(e,1);if(r.length>0)return r[0]}closestPeers(e,r=this._kBucketSize){return this.kb.closest(e,r).map(i=>i.peer)}async add(e){let r=await Xi.convertPeerId(e);this.kb.add({id:r,peer:e}),this._log("added %p with kad id %b",e,r),this._metrics&&this._metrics.updateComponentMetric(`kad-dht-${this._lan?"lan":"wan"}`,x2,this.size)}async remove(e){let r=await Xi.convertPeerId(e);this.kb.remove(r),this._metrics&&this._metrics.updateComponentMetric(`kad-dht-${this._lan?"lan":"wan"}`,x2,this.size)}};d8.exports.RoutingTable=h8});var F1={};ce(F1,{xor:()=>Cb});function Cb(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}var q1=F(()=>{});var y8=b((IA,Tb)=>{Tb.exports=[77591,22417,43971,28421,740,29829,71467,228973,196661,78537,27689,36431,44415,14362,19456,106025,96308,2882,49509,21149,87173,131409,75844,23676,121838,30291,17492,2953,7564,110620,129477,127283,53113,72417,165166,109690,21200,102125,24049,71504,90342,25307,72039,26812,26715,32264,133800,71161,88956,171987,51779,24425,16671,30251,186294,247761,14202,2121,8465,35024,4876,85917,169730,3638,256836,96184,943,18678,6583,52907,35807,112254,214097,18796,11595,9243,23554,887,268203,382004,24590,111335,11625,16619,29039,102425,69006,97976,92362,32552,63717,41433,128974,137630,59943,10019,13986,35430,33665,108037,43799,43280,38195,29078,58629,18265,14425,46832,235538,40830,77881,110717,58937,3463,325358,51300,47623,117252,19007,10170,20540,91237,294813,4951,79841,56232,36270,128547,69209,66275,100156,32063,73531,34439,80937,28892,44466,88595,216307,32583,49620,16605,82127,45807,21630,78726,20235,40163,111007,96926,5567,72083,21665,58844,39419,179767,48328,42662,51550,5251,37811,49608,81056,50854,55513,20922,18891,197409,164656,32593,71449,220474,58919,85682,67854,13758,35066,3565,61905,214793,119572,141419,21504,10302,27354,67003,46131,32668,15165,64871,34450,17821,2757,11452,34189,5160,12257,85523,560,53385,65887,119549,135620,312353,115979,122356,10867,193231,124537,54783,90675,120791,4715,142253,50943,17271,43358,25331,4917,120566,34580,12878,33786,160528,32523,4869,301307,104817,81491,23276,8832,97911,31265,52065,7998,49622,9715,43998,34091,84587,20664,69041,29419,53205,10838,58288,116145,6185,5154,141795,35924,21307,144738,43730,12085,8279,10002,119,133779,199668,72938,31768,39176,67875,38453,9700,44144,4121,116048,41733,12868,82669,92308,128,34262,11332,7712,90764,36141,13553,71312,77470,117314,96549,49135,23602,54468,28605,6327,62308,17171,67531,21319,14105,894,107722,46157,8503,51069,100472,45138,15246,14577,35609,191464,1757,13364,161349,32067,91705,81144,52339,5408,91066,21983,14157,100545,4372,26630,129112,1423,29676,213626,4397,88436,99190,6877,49958,26122,114348,60661,29818,293118,50042,179738,16400,163423,89627,31040,43973,36638,45952,5153,1894,109322,1898,134021,12402,112077,68309,190269,69866,31938,107383,11522,105232,11248,14868,39852,71707,186525,16530,38162,106212,11700,5130,16608,26998,59586,108399,230033,43683,48135,82179,2073,5015,196684,189293,16378,23452,8301,35640,11632,214551,29240,57644,33137,91949,55157,52384,117313,5090,17717,89668,49363,82238,241035,66216,29066,184088,97206,62820,26595,4241,135635,173672,8202,459,71355,146294,29587,3008,135385,141203,14803,6634,45094,69362,50925,546,51884,62011,83296,234584,44515,56050,89476,87751,19373,12691,149923,19794,13833,35846,87557,58339,2884,19145,25647,12224,11024,77338,64608,122297,53025,7205,36189,36294,170779,21750,7739,173883,75192,35664,224240,113121,30181,26267,27036,117827,92015,106516,55628,203549,67949,60462,60844,35911,20457,1820,920,19773,8738,73173,181993,38521,98254,76257,46008,92796,5384,26868,151566,22124,2411,15919,186872,180021,28099,152961,78811,80237,62352,102653,74259,184890,16792,123702,224945,29940,19512,75283,14059,112691,92811,233329,20411,138569,53341,109802,50600,134528,66747,5529,166531,31578,64732,67189,1596,126357,967,167999,206598,109752,119431,207825,78791,91938,10301,27311,24233,252343,28831,32812,66002,112267,90895,8786,8095,16824,22866,21813,60507,174833,19549,130985,117051,52110,6938,81923,123864,38061,919,18680,53534,46739,112893,161529,85429,26761,11900,81121,91968,15390,217947,56524,1713,6654,37089,85630,138866,61850,16491,75577,16884,98296,73523,6140,44645,6062,36366,29844,57946,37932,42472,5266,20834,19309,33753,127182,134259,35810,41805,45878,312001,14881,47757,49251,120050,44252,3708,25856,107864,120347,1228,36550,41682,34496,47025,8393,173365,246526,12894,161607,35670,90785,126572,2095,124731,157033,58694,554,12786,9642,4817,16136,47864,174698,66992,4639,69284,10625,40710,27763,51738,30404,264105,137904,109882,52487,42824,57514,2740,10479,146799,107390,16586,88038,174951,9410,16185,44158,5568,40658,46108,12763,97385,26175,108859,664,230732,67470,46663,14395,50750,141320,93140,15361,47997,55784,6791,307840,118569,107326,18056,58281,260415,54691,8790,73332,45633,7511,45674,143373,14031,11799,94491,35646,96544,14560,26049,32983,25791,83814,42094,231370,63955,139212,2359,169908,3108,183486,105867,28197,32941,124968,26402,88267,149768,23053,3078,19091,52924,25383,19209,111548,97361,3959,24880,235061,9099,24921,161254,151405,20508,7159,34381,20133,11434,74036,19974,34769,36585,1076,22454,17354,38727,235160,111547,96454,117448,156940,91330,37299,7310,26915,117060,51369,22620,61861,322264,106850,111694,15091,2624,40345,300446,177064,1707,27389,54792,327783,132669,183543,59003,17744,20603,151134,106923,53084,71803,279424,319816,11579,21946,16728,38274,72711,5085,83391,88646,40159,25027,34680,10752,12988,54126,30365,18338,100445,230674,44874,84974,143877,123253,139372,28082,91477,144002,13096,219729,46016,50029,42377,14601,6660,58244,58978,23918,88206,113611,64452,17541,41032,10942,12021,49189,10978,40175,37156,10947,71709,106894,112538,57007,137486,150608,152719,40615,7746,279716,13101,19524,28708,40578,72320,1096,182051,94527,51275,22833,45164,81917,77519,48508,5421,140302,37845,149830,5587,27579,5357,428725,248187,6326,206760,39814,32585,89923,44341,288753,284443,96368,31201,94189,119504,20359,52073,103216,179,27934,32801,96035,34111,34309,101326,18198,20704,210266,37643,27880,141873,106e3,19414,56614,167714,66483,107885,86602,4379,20796,75467,4987,5017,118857,26003,34308,114428,29198,6686,29697,73632,3739,69795,16798,41504,7207,30722,21436,36735,28067,28545,3239,11221,36031,41889,100010,19247,317673,29495,174554,6424,129725,53845,94986,7955,59676,2604,191497,19735,102214,62954,23844,11872,179525,261436,34492,428,78404,142035,16747,17246,27578,37021,33672,57944,26056,135760,2369,61674,122066,31327,19374,157065,40553,130982,69619,71290,38855,72100,92903,95940,51422,165999,65713,57873,50726,7288,20272,2081,42326,22624,81120,57914,79352,19447,1684,72302,11774,302559,161481,96396,13692,414988,3721,79066,56627,46883,21150,11747,12184,5856,113458,176117,84416,52079,27933,3354,59765,141359,2212,216309,2555,23458,196722,142463,45701,44548,28798,19418,215,29916,9396,10574,114226,84475,13520,18694,34056,4524,90302,62930,13539,19407,77209,7728,38088,9535,2263,23875,183945,17750,26274,67172,10585,28042,22199,7478,51331,66030,26774,192929,31434,25850,50197,52926,178158,4679,181256,70184,229600,9959,105594,72158,73974,2726,35085,78087,23284,35568,51713,155676,5401,27254,11966,17569,223253,71993,103357,111477,55722,30504,26034,46774,35392,36285,214814,41143,163465,1051,16094,81044,6636,76489,179102,20712,39178,35683,125177,54219,30617,52994,25324,50123,2543,87529,58995,10688,125199,12388,60158,125481,131646,7642,133350,65874,3438,97277,101450,10075,56344,116821,50778,60547,98016,106135,13859,14255,16300,77373,173521,8285,45932,37426,4054,114295,55947,7703,39114,52,51119,128135,19714,60715,9554,50492,88180,2823,118271,52993,122625,97919,23859,37895,25040,33614,32102,20431,3577,9275,15686,43031,157741,110358,1884,40291,125391,13736,5008,64881,87336,77381,70711,43032,49155,118587,70494,4318,10168,30126,12580,10524,280104,104001,145413,2862,84140,6603,106005,13566,12780,11251,42830,571,179910,82443,13146,469,42714,32591,265217,424024,92553,54721,134100,6007,15242,114681,59030,16718,85465,200214,85982,55174,165013,23493,56964,82529,109150,32706,27568,82442,5350,14976,13165,44890,60021,21343,33978,17264,4655,22328,27819,75730,16567,55483,14510,17926,45827,150609,3704,7385,272531,161543,76904,122163,52405,2039,19165,41623,14423,228354,3369,176360,85491,7122,35789,303724,4465,13628,2233,55311,118771,20713,10006,221519,45115,71021,35650,29775,7337,10864,20665,21142,1746,15080,1624,32449,10905,105743,229797,7701,3940,22997,178467,57208,389057,39683,59403,63344,63125,54847,69691,18336,56448,3362,37202,18282,29648,138224,35867,10495,5911,28814,26653,31514,176702,26550,45621,11734,4525,40543,73944,121080,27858,155561,14887,44670,30742,8796,107455,113472,56369,75581,183777,240095,133699,153299,8768,160464,26058,49078,103971,21875,71486,44888,17156,9678,89541,123019,102337,3972,83930,21245,87852,109660,287918,183019,686,10100,39177,283941,11274,24736,26793,26214,25995,77011,141580,4070,23742,46285,46632,30700,26669,19056,35951,115575,174034,56097,35463,87425,24575,44245,38701,82317,85922,281616,100333,147697,61503,7730,84330,8530,59917,61597,17173,9092,32658,90288,193136,39023,20381,56654,31132,7779,1919,1375,117128,30819,11169,40938,23935,115201,101155,151034,4835,11231,74550,89388,59951,91704,107312,167882,115062,12732,72738,88703,464019,158267,57995,60496,737,14371,123867,4174,243339,159946,7568,16025,134556,110916,38103,191,80226,88794,29688,27230,10454,76308,57647,77409,113483,66864,14745,19808,12023,46583,84805,16015,17102,2231,20611,3547,95740,250131,34559,108894,8498,15853,159169,148920,20942,2813,93160,45188,210613,45531,52587,149062,39782,28194,57849,60965,84954,89766,84453,100927,16501,27658,165311,103841,54192,207341,19558,20084,319622,5672,205467,98462,61849,36279,13609,147177,24726,165015,209489,59591,31157,6551,117580,75060,141146,277310,21072,22023,106474,63041,137443,122965,68371,5383,42146,98961,113467,30863,23794,4843,99630,30392,82679,13699,241612,33601,93146,24319,18643,32155,95669,40440,15333,34089,67799,142144,58245,38633,114531,117400,77861,188726,5507,2568,8853,10987,107222,2663,2421,11530,13345,30075,41785,118661,104786,17459,12490,16281,71936,193555,17431,5944,71758,26485,77317,20803,367167,158,7362,93430,11735,172445,46002,11532,54482,930,62911,2235,23004,179236,4764,101859,208113,22477,55163,95579,14098,67320,162556,90709,156949,3826,57492,4025,34092,87442,104565,6718,186015,28214,14209,10039,107186,233912,58877,81637,55265,39828,6194,145813,50831,105849,4974,88319,122296,10272,197216,95714,51540,72418,23324,91555,8743,140452,250249,51666,34124,7229,38592,129641,78169,174242,22464,149964,51450,14034,10026,95376,26190,120062,14401,8700,265,31386,143573,7203,229889,61567,4227,140981,2466,72052,10787,10062,30958,6099,38471,30103,23202,208101,70847,467,58934,32271,32984,36637,24107,30771,17109,73353,13650,2098,157040,67366,66904,106018,265380,107238,18535,44025,32681,144983,62505,91295,56120,3082,77508,10322,63023,36700,81885,224127,16721,45023,239261,111272,13852,7866,149243,204199,32309,22084,42029,38316,126644,104973,14406,43454,67322,61310,15789,40285,24026,181047,6301,70927,23319,115823,27248,66693,115875,278566,63007,146844,56841,59007,87368,180001,22370,42114,80605,12022,10374,308,25079,14689,12618,63368,7936,264973,212291,136713,95999,105801,18965,32075,48700,52230,35119,96912,32992,8586,16606,101333,101812,14969,39930,759,193090,27387,42914,12937,5058,62646,64528,38624,25743,37502,3716,4435,30352,178687,26461,132611,42002,138442,35833,59582,16345,8048,60319,49349,309,47800,49739,90482,26405,34470,63786,32479,85028,39866,47846,11649,23934,29466,2816,42864,31828,7410,74885,49632,47629,111801,90749,19536,18767,105764,59606,21223,10746,76298,22220,39408,7190,79654,64856,11602,82156,272765,17079,70089,245473,51813,184407,384678,1576,122249,5064,27481,6188,25790,74361,27541,318284,45430,31488,620,93579,45723,192118,22670,51913,4162,70244,35966,26397,16199,50899,209613,121702,287507,2993,36101,132229,67345,33062,76295,118628,78705,52316,34375,107083,107454,44863,127561,33964,3073,154010,190914,55967,39074,6272,31047,5550,41123,26154,98638,47110,19998,148091,50229,31329,59900,195442,19106,61347,73497,70015,682,45850,25776,38022,148951,6288,37411,232526,109277,27286,32342,9262,5220,16651,23175,46740,129438,78614,121925,66914,88710,127952,5563,21500,34521,10739,14863,191006,62956,17359,16749,67027,56284,69134,43301,35039,58883,54466,60823,404451,75743,59856,86979,7923,34273,83785,32142,7693,268986,197428,282681,17049,22346,22990,92245,107180,3357,37104,96724,49153,7683,31197,43267,82231,164276,23696,20848,188364,22309,24821,158707,1018,22514,70922,27792,45589,59709,10765,736,35218,63479,51987,24275,63588,55361,92929,81964,4658,20122,12330,44058,13065,311456,72224,8337,211229,38979,22590,138478,52757,32595,133600,8838,31549,94412,43391,90056,1585,94802,127271,6223,31889,137038,132910,2165,57616,230152,6080,10748,36737,74579,134062,50525,180532,119270,34556,76155,82394,52595,29258,31435,87820,67996,26943,183878,38007,2410,13526,180297,69856,3503,187396,167700,7838,16701,9199,56267,3661,37407,65994,23767,5708,62508,221700,67088,86978,46776,84434,32088,5612,9149,88244,21685,95151,46750,189612,2979,506311,2594,3628,40074,105039,78243,28523,6651,38058,71999,30992,12764,68261,108991,6165,26450,61961,13400,22426,7490,60890,109623,2070,12958,50355,67979,257096,7213,42578,52121,35716,65461,7516,124758,39268,302,64712,14977,1467,219452,2840,34229,11121,21602,19270,63574,8024,1532,17331,79839,78885,52029,180767,57957,6069,91265,61380,55767,8927,32881,287603,22149,35029,68876,6428,199567,46926,13412,104132,21434,366616,45060,110046,81924,128910,45886,52821,130416,29416,77342,21762,67329,121432,79924,11724,38625,81006,102033,28338,13326,3250,82056,82526,38212,21112,12382,111495,3263,7414,86274,93490,40844,30224,45212,24019,48411,71367,24941,76729,57776,3769,38114,202019,197745,31953,237533,33270,201580,255648,100798,44741,32241,98468,106931,10085,15090,170358,33154,66787,18819,69760,25061,234005,82660,6295,131975,16874,9076,4094,25005,17740,40908,19533,220019,44330,99792,50040,19619,13950,55228,24423,31253,95308,103177,184795,28590,82285,5059,3210,75525,49894,70007,56178,10580,36051,139681,21617,98736,3555,106306,164189,37352,63915,47824,24883,145530,61904,28444,11483,19837,145446,30420,112972,85939,11835,191233,2262,20705,58630,1753,148334,1197,144714,6887,11223,107667,60879,77914,4151,57417,81594,96681,169430,1784,20444,95138,254041,27038,596,7117,72808,13759,3353,126776,21074,55322,27081,36942,39547,139830,179275,4453,713,8722,71399,19204,25785,22794,23923,104114,11291,25458,102309,88396,75288,230440,206396,104551,58447,130857,37247,94734,31548,176529,226077,65159,20104,10096,66881,94191,237909,27109,37404,1520,27421,25220,113003,23423,24884,50585,6286,231877,150800,11789,3226,90004,60642,5053,202400,61442,132531,175329,57138,30116,103847,9973,75367,16452,32360,59119,21246,10191,164804,23305,61051,37348,154530,13214,5468,50403,66754,130976,50559,80515,14436,155492,84017,5472,43107,41240,2890,90431,70188,382,76234,48040,50211,281038,237007,32115,142178,1536,22761,96429,1811,31243,1679,49143,55209,17402,235054,61494,7462,77030,34925,87609,78002,9499,9027,73289,201078,101379,63544,27666,5469,10642,30029,49816,132979,95620,58086,351930,116300,2110,2043,30845,6154,11279,16727,4122,2277,27281,4971,3650,39060,61970,65951,39674,75686,38151,11370,130809,177895,32665,63725,122267,7857,39618,118483,44792,157755,178624,136994,24260,41308,22471,12404,21707,12486,30473,52781,50246,20247,39065,909,56825,103158,128603,31542,1089,41935,32744,12428,37963,84420,33134,72921,208449,42622,168151,127335,147107,46699,38216,12591,94342,85814,31423,24944,2605,87542,67473,192551,4496,56321,91819,17630,6300,256183,114569,202090,33209,35289,34897,24967,40520,43470,5344,10199,34810,14283,10381,10017,62923,49924,23233,64539,13051,35686,19698,11570,135555,120868,44924,87065,52318,52335,47586,140906,245885,109834,78668,9065,46990,25258,72022,61243,40838,4545,146387,10537,11557,17470,36930,68104,46711,24264,79401,81043,18225,120488,24746,84338,81652,28266,13776,21878,46973,1047,230465,73357,95777,24973,210160,62210,58404,110633,169651,6937,41870,9909,26822,191062,76553,27519,96256,239070,2478,205678,67955,58532,20601,50120,19148,78501,195724,110740,8249,109665,27446,30568,57631,31425,49752,32820,65504,50079,3663,102256,219898,23849,211315,14645,4359,91767,9528,12449,49366,7941,49763,107848,8930,27086,50686,9744,10447,81935,39513,46514,1670,29229,6172,22312,137280,97759,9806,14445,22976,56458,73391,34983,93760,174219,52573,33149,59747,2429,136277,75123,165263,91040,7446,57632,48633,97140,246081,84766,151684,79918,93268,120346,54059,54875,77858,32996,103590,45276,11968,19600,25849,17159,132907,42828,16817,4913,99462,103303,27395,5737,74184,20749,21160,14377,77062,131403,158735,10999,27799,77785,9320,34366,51593,61070,33746,47048,29268,36675,30262,53297,9832,82e3,20188,122292,39917,7331,18160,68301,185935,134830,15031,4935,10004,165845,185534,46923,30109,44134,122631,18874,22903,112790,26561,18549,348902,82871,140345,255565,135390,63556,103747,145055,179600,145662,296111,61661,211987,23952,52342,126343,48450,32919,44277,82185,9591,62139,205363,376969,394874,108461,18040,120885,14798,39863,16571,16794,58271,81025,55206,14640,118656,6361,44092,85970,6262,153863,108244,180200,72264,79947,38044,10050,5735,61221,80712,5471,115689,11391,11661,184257,20010,60116,30320,19327,134598,45455,27542,18004,125092,452272,1549,91523,46567,180063,156026,2608,11174,58848,37788,65907,80194,30490,5786,40775,119519,106241,11323,156297,8425,61495,2617,29675,2425,59886,112582,49142,59618,4863,50597,86710,50650,168632,27693,85641,83643,18993,25768,84284,28090,93592,36627,312804,43381,9887,9402,100931,97165,3311,173330,66805,28935,4963,184460,3201,78102,19126,21607,37496,24938,22615,16153,32862,134792,153318,61120,6067,2812,12826,12792,23825,37559,64662,202250,102694,155488,85881,149193,46233,65383,15521,106982,11358,176786,25752,39717,34208,24510,32464,77742,39371,72028,138229,60688,71386,102834,132477,2208,11548,63670,271279,28351,30338,38620,32491,99845,143885,152266,13252,2825,178663,108097,1775,78201,14897,113573,163346,62292,171129,22183,96598,38733,64971,166776,117445,9968,146393,44677,74867,20908,97328,12761,25656,26785,9148,112344,26115,99176,110121,22437,49547,6180,79320,5835,31392,43328,33377,75870,119860,69497,80273,7325,155219,43167,111173,28347,20222,3763,71752,55041,47252,14618,28088,15012,97805,194698,54636,2036,41349,6173,96604,61530,51859,43782,13361,24334,22668,24792,7070,23441,16789,3209,36211,208475,26242,32880,122181,182407,21444,31060,88459,29929,77907,12716,10934,97005,20599,31690,8403,58445,30303,22700,10336,86731,103115,337709,72556,46788,112566,47684,67089,53548,36874,56487,41387,125985,26893,40071,106683,73712,18787,40105,72992,67246,137276,50802,36790,70328,138827,22466,39263,183295,29858,50975,9322,57397,10654,24364,30383,55799,41600,23584,127295,296610,129078,143558,244131,86397,36049,1085,80677,3820,108139,5476,34767,24683,7758,13060,7239,131671,250593,59556,103392,29810,4188,252323,39404,116877,7651,43600,40338,13554,157253,39196,25978,144387,61211,234,50104,6129,10449,93777,9240,356378,274148,4439,72970,3724,147770,78680,62570,115877,40027,40547,36817,224392,64609,34795,165027,67440,2477,37206,23431,50754,164797,46018,94995,170982,27051,7957,22767,3674,27900,56419,18930,60701,41302,2692,84749,339721,61996,111094,80221,50129,1045,8153,62945,19202,8250,37208,37418,32560,79477,41106,88569,33963,36693,5892,30570,1581,66471,49647,11922,160717,29442,5643,114865,82962,95982,132098,22633,22838,94726,54556,28566,205039,162340,33216,16849,35847,221339,94851,26533,71469,1805,3804,12935,45483,71020,36310,65381,192960,34240,35165,59773,1248,46954,155332,96864,4246,388800,16129,57133,74592,44807,442014,38203,42574,80818,91592,26377,36424,65760,977,77387,22628,147610,28018,30561,98454,6969,119628,63648,18170,36854,26601,64018,22027,37279,51395,152934,21153,9430,58760,194742,5330,55115,34158,28917,174111,13171,122326,1526,43896,66094,25325,4234,148354,11450,275,18999,112191,44365,22723,68409,8733,57746,96565,75007,14196,108844,29475,88599,177563,100792,106156,86323,93726,14248,135341,194131,40126,47099,14779,8272,39597,95983,171398,65882,28052,10393,47213,40689,22120,72212,106829,34964,109146,753,648,21660,30047,17527,181025,5619,145357,4085,216883,9359,186951,24779,53931,24545,36197,223296,62628,168101,4243,107313,30321,26642,13049,51059,31027,107912,807,73550,26551,84369,122422,165872,49754,74213,234264,33151,52014,33100,87183,22365,52500,40013,23302,5652,72723,21404,26107,48434,587,94049,168493,96418,32871,70860,31709,25128,443,71597,166253,15670,70994,26341,133675,28280,75491,54756,47955,56028,26182,11952,113272,472197,64640,110753,17919,337,50642,22576,142,87371,53391,93210,126694,15285,19642,85667,14148,1506,42092,52962,33243,11970,20734,135843,57044,58880,13002,219134,22876,64754,232519,4257,43120,321573,24799,64526,124728,52579,81472,70831,276848,17403,74359,23021,182101,74597,23744,148267,12055,7976,5349,11772,67540,167347,65318,18720,127832,108238,22828,90233,9987,259080,118185,73209,79270,13775,90100,137742,90799,70569,15699,19961,9087,67475,57872,39731,8810,134897,131868,146849,19898,3334,2281,167061,91073,60356,467742,74712,188,53179,137679,92769,29241,9537,132595,80119,1041,88962,5976,40171,44911,102859,139059,104558,98987,47761,19272,71472,113864,175377,73338,10857,23402,23758,1591,139864,5644,4076,118760,16427,134198,18853,20291,100849,37423,22038,36677,19071,195521,57445,11069,31869,55718,66882,148490,44,41296,75242,49704,166810,9906,20943,122258,49112,105667,15969,10344,6408,187694,21399,72742,58970,14867,14376,81889,41856,23225,15042,56993,16074,131389,74276,72407,53875,383108,53597,37363,68993,44854,122548,430927,198279,38430,80409,12245,2981,628,2818,17760,37437,238229,7968,46892,2200,3730,34190,65983,37959,112291,87850,70827,6522,20750,73913,111621,41652,19587,2780,58668,25916,85259,18200,168962,95781,42445,102050,7776,57662,103313,47742,96358,41964,66174,100396,29069,204735,19679,27978,7479,40264,22534,61183,36081,107436,58223,14680,23002,101311,24716,124108,12908,5646,31750,40380,14215,232799,102772,14122,96775,61398,50917,12096,149880,67833,598749,124194,155871,49216,790,14677,65319,56917,7440,145744,95701,12206,49405,129269,76199,45732,9767,11058,9047,210885,11051,7392,26307,2130,8132,147526,20802,232698,115660,50060,59789,57344,107623,80343,112676,23291,9866,160971,34032,118291,15719,59730,164911,28975,2659,58046,78480,21854,66209,53863,109085,116045,29021,46481,107552,22130,18764,70254,31272,11300,52460,43933,84738,20721,53869,190840,79673,105300,7561,321817,66924,13940,33281,101046,183181,32176,71878,5678,62924,79535,56646,40303,19559,27703,93042,73368,42187,3670,37376,46440,7023,36816,109628,20680,5940,276440,275233,170848,112093,136996,14984,20226,111441,77693,112960,48577,39370,55707,50314,123404,26570,54281,61372,123391,4857,35928,246740,132507,106646,44241,7196,92258,9825,37688,51197,303141,5590,15476,132986,10955,85782,34486,26696,7991,28813,18858,39546,11703,11365,38185,5716,93555,11925,40121,60002,6985,10976,171384,3887,43394,13337,56346,6381,252336,39573,75042,53711,1028,31781,44295,95925,131713,7214,68125,43571,70954,213234,1628,8760,13391,65485,17320,56038,1710,25248,60803,57399,19839,3870,326,281556,50945,72400,21460,316244,75619,56246,98775,481,13513,55765,50427,7388,123519,32929,57908,27124,61316,101097,57467,30228,48792,10788,20402,37318,50526,155730,34456,158065,145305,17832,43733,64052,4506,35072,205355,177028,184004,187081,68616,35938,83703,10367,36892,93186,260137,51934,89970,4985,23445,26755,21558,7948,78741,23376,124405,85594,68596,57536,49351,12619,56593,132668,99924,109728,71844,71935,196018,65464,17617,14987,89701,143773,33997,8687,22701,33258,2914,4436,72108,85610,9671,49067,2327,82988,1361,1672,44033,35777,30269,24057,10605,82236,616,15793,13919,47249,112086,116698,9484,80207,90574,33304,68624,93127,56101,42210,160929,4827,38995,38095,4701,125119,5027,33680,9236,231236,14135,87837,23318,70261,78893,30151,81482,14332,1084,74256,27532,46644,79185,3148,62615,6981,55672,31668,36825,1849,14536,37446,14738,23779,43058,162749,72199,1168,21346,5592,85932,85302,9668,18351,57135,150360,2080,228015,77953,34670,119302,151751,31009,106725,84265,45214,59289,74178,113071,263206,111009,4021,44449,188119,192629,123592,392506,292847,114487,12831,205858,9852,20780,79648,75767,357014,97721,18166,21005,67950,33226,204009,16536,2987,11335,66717,144910,47950,17262,55060,15063,2934,51038,26775,178497,66008,3427,49433,128592,20036,157553,63861,3089,23015,51210,28696,35933,49942,71135,231518,99620,17248,21835,176536,20676,16944,38700,165831,233253,295625,36723,13023,52745,10907,19423,67972,125868,95473,82875,1183,108455,52685,33417,64095,21433,52438,33191,127809,44505,211823,7810,2752,95548,162031,7185,91196,47563,61721,33359,17897,23682,42806,178101,22874,49707,199897,75419,82456,8618,11171,79712,116847,18783,44190,46564,5346,59046,95032,7893,14916,3214,26800,24172,121453,34362,10250,17408,18888,4840,68696,22831,13162,36005,32512,14800,62357,41723,45046,27247,37486,5372,2564,34261,298500,66509,133920,89138,31305,117697,19097,108304,81386,84106,23802,46411,63304,946,51417,41777,41041,19501,115864,60743,294354,37955,94165,18116,1156,17937,20645,57114,90804,58042,48643,92288,9861,2557,88546,61333,101008,12853,5148,87856,4152,144503,73841,18718,9789,147565,10846,42085,12789,30223,8993,56352,67203,2448,28215,6052,23540,126319,75933,36689,80235,23231,23561,21383,38800,77548,102798,21234,31468,158608,46188,63960,191679,8051,67014,11185,170078,42186,28827,34777,41930,212079,12421,34750,24111,110344,73918,45171,70826,141949,40063,23979,24254,37309,26724,27179,24718,83648,54938,14591,17425,29525,102675,48975,48654,12316,8929,60640,41709,50168,63264,89812,50716,48632,38755,138583,160123,55579,71829,24230,233277,46322,39650,166388,34718,24108,98252,7031,106695,62498,18258,35062,217827,78731,34824,33354,19520,60852,2432,60224,8587,2836,62955,702,20227,42285,40560,95592,62486,11094,53035,143291,18842,46177,77994,1770,9657,107422,172915,32655,128716,25886,25164,156740,119928,165875,85817,11007,89110,33956,12652,65156,180266,8494,36889,19958,20955,96,1264,118288,135769,44754,86671,5632,19026,168220,289120,33569,93821,66144,70635,7687,5642,2714,55445,56636,71545,184182,93133,7332,37389,12643,52315,22729,11014,158742,17050,152889,50178,34601,41945,52136,9948,26914,63548,95721,115951,40759,8960,158258,38938,49232,48325,42234,81523,253019,66128,40978,20048,238048,38760,62928,122560,118532,43687,137472,163689,26680,9878,17448,51035,16211,60834,36749,29178,14241,59868,150086,2305,26477,42422,34342,165341,83279,33894,14257,29928,12743,13957,125571,89134,66712,10952,16507,147839,30146,7249,16565,45399,39874,114565,215780,31990,230881,171477,102,196546,44538,10880,84948,281705,86651,10617,31395,2342,453658,43569,60561,132901,21845,17727,58556,258242,22262,58728,4008,77997,11806,37431,30599,81375,109137,185787,114085,217292,97453,169085,30593,60212,11544,102056,65580,2384,91655,4855,95725,7295,157994,16228,20669,53276,141590,105246,17334,25440,76067,17967,39321,38911,11362,28559,63807,21627,26468,85816,40120,1025,15234,58319,69516,66512,124548,75845,78873,22137,46681,51242,85683,32909,76747,35555,43396,101465,1765,73094,1077,2962,39028,66777,57831,42048,15828,13962,36041,63657,52412,5242,58846,2141,5506,219012,134451,3936,182230,17558,17153,152237,22621,49377,170216,35257,68233,65374,6510,11126,212151,7184,2480,22517,3437,33073,30156,16557,3768,55067,86829,91e3,12350,148650,66017,79424,70885,49066,28250,21369,51213,34533,11510,3258,18176,18465,84413,6315,36411,163765,4346,356,107618,598,13727,285026,162695,8749,14583,7132,63521,184253,32378,25991,5604,30961,53675,4874,84693,5086,34811,26978,56564,7904,33519,51221,113942,69253,6664,125563,22055,220680,102008,742,51930,19494,176108,44424,35123,13025,75685,11759,74335,22250,181453,131147,16984,132115,154311,11991,76452,52609,85351,196,30969,9198,74919,2529,56838,71779,29187,116304,3504,62330,41190,86153,28393,254926,104228,105189,13264,84359,3574,12415,8534,57147,10175,188174,59504,60932,66318,16407,107921,17638,99103,49278,28403,39786,145865,8462,3558,43406,142271,29139,21989,36552,93955,72365,7176,13556,106185,37957,321774,17782,129017,51154,27938,24952,1935,39366,2791,33489,41582,56078,24558,9311,5449,218786,27808,190429,68013,36020,86003,29735,3404,87348,119357,115714,2324,86796,81973,40992,43376,93621,28784,16808,36367,2517,2909,191926,24978,55303,53308,205724,60068,3098,21375,64784,23949,26579,63121,12319,80145,39967,97861,6757,70143,67642,37082,34698,69140,122883,46151,62187,80934,429,19437,135071,137885,222647,13331,154065,327,61778,74257,40116,37493,14855,85079,237641,42342,102164,199965,71204,4662,29368,5042,113914,122214,8955,13149,102503,43173,5659,163787,69003,307084,63392,171080,21390,81918,86666,36622,24126,28887,5736,28054,207170,163428,79891,346467,95363,38980,111806,80828,9200,19288,294896,114468,87405,111715,141705,7015,72754,68463,48738,243147,33397,101210,37051,98801,82847,20397,4940,185559,18716,54718,83491,11725,40803,1128,12128,23060,5174,7745,67007,46701,1571,27807,180186,256996,18975,16837,7877,212758,250379,15440,87954,57755,24719,124057,83461,258,50864,8874,29038,71289,31627,15429,9005,4061,113851,107716,82819,13651,79656,117851,17539,111446,12938,39724,190787,4352,15402,21070,62708,8539,23777,73853,13552,38810,86117,16285,56400,1718,75342,142863,29033,378,110113,180321,32586,23606,26393,160984,207987,23783,8406,16904,24596,47274,11693,46539,60524,78595,48423,31718,20170,9009,146268,15183,191060,172765,1349,138436,37365,10970,40509,225817,20021,70394,152138,21541,66559,66544,89352,2725,17258,91345,7313,3815,115868,8660,40362,4071,103524,39388,118275,21950,6549,38226,32754,209574,29201,43495,18028,20296,40597,18370,47520,202450,24134,2219,8195,69545,38041,136934,46374,19041,159811,84865,58620,846,98749,13569,30714,97246,32186,4479,27355,92973,35214,151491,75963,37631,1561,27200,238083,23182,60756,12291,25766,39355,102333,87362,65741,59906,19538,201575,48772,102938,24438,292580,39964,66366,9004,61379,50548,37622,38732,28379,68180,76622,17488,69849,5963,7219,48143,43413,55358,540,58691,29506,19245,52193,48621,5518,13048,118625,44755,191081,42061,89197,2259,60665,66994,71210,51232,3585,142096,55024,7892,8345,58653,463307,65658,64319,137941,136323,53499,12746,43492,6978,95163,29925,60175,5128,7352,41463,184756,121146,20473,18426,4598,5309,54580,14277,121151,10691,56711,43880,63409,76682,11830,172218,264898,32632,66536,81062,31649,25788,92774,60222,11100,63159,9432,224657,25240,53613,152,138620,163829,2397,85345,12501,37507,64932,38575,43522,65789,80198,78796,35226,3851,108891,73311,3060,28391,93671,39663,46142,30982,66041,37281,68157,26553,71872,81142,211527,39747,118119,22695,2859,11066,20232,168911,7933,197005,17066,111071,44434,133994,120798,12766,227798,45756,132852,29917,36076,55352,65281,129800,41958,18944,84678,18580,168093,132621,39997,54092,27740,32354,3770,114118,103242,43918,15899,18574,145944,3190,123469,219903,24169,100571,62403,16776,92779,14535,17168,16475,14304,37231,1712,28218,242754,61688,28980,1318,51359,222657,99200,67989,31772,23932,35351,201251,49041,27306,19128,40135,3986,77333,19649,120683,151927,21081,7076,78375,77501,101599,8011,89585,96715,58179,5378,102138,106793,26051,217276,4197,16297,27014,46721,13322,22806,5278,29629,70632,9647,71519,58818,40603,128530,8903,36770,56900,31483,26935,43845,34265,34920,87658,6114,84767,64250,47318,50720,19264,162514,33357,13117,6705,46696,75032,71054,87004,42035,69138,11903,99854,102328,19611,34525,69312,6431,49842,101600,133178,108751,41829,89939,225664,48916,99556,9195,130387,5960,36857,116724,53518,94002,39077,53996,6945,22261,64291,8314,152785,57588,16522,9091,5048,87671,35441,39509,1945,12423,158923,178413,37549,14095,1475,73188,62878,4819,24012,68534,42606,4010,120809,57497,59564,101758,103718,32701,80116,12345,95834,46918,21468,53213,15665,31200,3867,5140,96013,250744,21016,10069,13968,35449,180829,27683,39704,59956,22893,3115,26293,32785,75934,62445,141162,62720,2018,83638,19949,114012,95006,3330,99829,130935,309272,9565,55874,121727,37017,23586,319858,40970,27602,8625,112329,61060,100088,118525,25922,16232,1907,60671,51583,44553,80993,5262,94679,8676,940,20736,11823,3020,16476,12340,152600,97416,3703,25744,66826,16245,16876,46446,84798,74227,176020,45192,61955,75496,23946,23626,40372,26036,6149,11822,30582,16541,41914,82385,232823,40921,80773,14930,3631,7517,39619,4348,36180,126106,138939,62611,1477,113512,47321,25052,14546,118881,29060,23589,128322,36795,18401,137921,104699,267929,36194,172791,18113,4766,188215,30083,332586,94089,5805,77909,22194,68234,154976,43220,40660,70001,184893,138095,11128,103010,22663,5108,212615,8485,5565,49222,54614,26530,42639,16319,55062,152662,105595,21114,22216,10294,68158,10436,86950,7206,62115,3977,3657,59874,456,118617,18156,106663,112229,80992,17442,8217,55551,5133,34344,251927,51153,39364,201321,7816,66803,23057,156724,145664,14276,95705,979,2796,6875,13429,212525,50602,26276,28284,3424,19465,52397,46963,31420,51399,206476,92317,48851,637,100820,83349,10317,60227,21972,6908,282439,32857,224767,95629,83882,42106,87338,69757,29840,68709,37665,45244,114577,49188,175943,54009,186746,106158,70168,3358,234002,50555,9221,129338,9562,20118,32923,78479,118280,65752,4977,10474,102174,60947,129006,10570,83451,8598,8078,159367,123785,80438,16742,5905,5281,181513,42402,6977,163136,93179,42191,14968,50421,112401,105440,33456,57347,121611,4221,94954,36517,24046,27796,6255,33394,72990,135408,116627,1233,57874,25654,95419,68156,401399,313338,55208,45573,93124,119251,47200,38196,11909,130667,45391,73904,64964,167846,4137,115606,52036,62214,7969,160925,7187,1132,134835,40309,73195,64494,80472,444841,61111,26500,45323,40743,53625,52797,22659,15631,29739,36706,28841,39147,102836,26794,10536,14845,87305,45874,12241,127587,83833,57183,79722,30844,41304,84655,20825,92500,3722,25655,27811,10157,81634,31362,34088,92487,70123,22190,185100,72658,139035,192523,88241,2078,230490,44528,85638,100198,22088,29982,291233,241062,13865,4445,137791,37835,107218,31726,19718,38234,72528,23046,19177,66695,5109,17251,28077,5617,21554,47839,72425,133825,1486,73065,181275,141508,21768,62971,63082,2512,34200,9904,120309,6392,91243,68416,268253,41199,116757,138551,185526,41246,28986,4093,19057,17295,4148,245766,122360,35356,112075,20301,75441,10998,7977,19769,62922,937,63547,100196,26427,157820,20983,236696,22935,8140,90315,156004,47204,140973,7726,45097,52725,22636,23436,257282,105247,522,88389,216031,202204,46812,211666,19693,68828,81691,45925,11256,30292,372,5236,167826,88328,232776,151611,5360,82104,18841,80393,25465,18285,20320,72377,31730,33160,45803,38715,27705,37379,24163,18360,103586,4015,32305,269494,91252,20080,36567,54650,7797,57073,12650,31164,42209,6375,261663,105528,81661,106002,2800,5375,17247,43151,4442,15727,194619,100855,144898,62320,78465,39929,16454,1967,28311,61363,17219,9395,8745,121445,76939,80385,162380,22009,54191,44248,16299,122830,48151,74429,78291,64755,14238,44966,2511,17712,67954,93583,829,105899,49935,84750,11591,33185,85447,42717,27409,208542,28965,62052,52525,5597,25694,65594,16343,63224,276188,12475,9331,127507,38522,57287,24128,133161,79723,105548,133695,48917,27558,43278,46520,13778,141954,110785,83366,17715,46317,105763,66298,147013,41086,94180,16478,220447,44611,730,19722,78975,117889,125643,26254,16574,18480,65006,15806,38549,246418,46052,36056,8440,34984,30170,3163,59800,4458,115442,4283,41970,33507,104078,1653,22,121158,276486,3655,6338,24048,133421,23641,2161,24422,36006,8086,10675,181474,12307,29514,59143,14729,52509,87128,122470,19446,80852,33314,24573,119864,14237,9652,57779,6612,51851,15284,98871,90581,124466,156831,21190,22015,71380,161906,87247,69201,18392,17908,108470,72962,40719,14338,17911,95260,43339,20610,78916,20710,72451,11315,31448,17263,58853,178878,48111,116002,45497,80506,82605,85880,36300,121755,25215,36118,301929,88728,405223,276136,553,34704,212438,49970,78329,922,20711,25036,257130,38295,145369,18128,15385,30829,55656,48345,8012,3561,28004,122041,192900,58338,112508,41085,29976,87040,47117,23905,4336,92061,138880,97407,42083,172121,6256,25192,172671,5,93568,1420,12677,31605,56743,40620,6015,78415,231077,31298,80026,13902,19048,24924,170586,32955,176119,87859,36731,6773,27711,24658,26475,115216,133207,93250,95820,88522,8317,5714,124047,55219,86860,19677,23961,22928,162209,8904,225992,359835,56084,96201,29392,96558,86071,93643,55114,13347,8183,95129,82012,2017,123336,34219,115554,157159,47747,101684,41008,18735,193781,104151,226906,7552,179874,124113,31159,21162,44010,14771,51268,166128,31382,73124,77438,92830,205709,12113,1292,38937,13114,1334,2118,15597,69581,14449,21934,76618,48728,67038,14967,51495,24243,87736,147249,26720,11119,46063,43749,5843,44147,152629,133428,65703,14269,45604,57982,28672,55616,45957,8438,95433,37698,220862,132034,39456,61870,4161,26501,73560,56418,9845,4654,20916,10456,88920,119358,9015,65931,96507,48029,38534,21676,109081,43078,34943,25089,6131,28766,23665,5477,10255,16695,67,45778,42443,42770,29534,23733,100513,62617,42630,48746,14191,43753,50295,26007,8792,57243,43119,54725,164253,58250,112304,131796,25165,4651,3188,24831,47748,3705,19540,13211,102095,5593,18699,23666,32005,117571,33541,60584,74573,86311,99443,25172,27222,168938,7143,11853,53560,18834,19960,86522,28217,53266,117700,72989,34323,18721,66450,34346,74056,47217,202002,46269,9429,68582,75458,37823,82843,96652,32549,145144,27958,19820,158086,31955,201406,135379,31207,192545,12950,51704,9094,248263,76147,64028,110009,79407,89345,99284,223492,47966,26848,15359,201137,2861,110507,71231,72297,31851,118777,71039,151051,240855,16333,50766,14727,7939,4149,80908,418780,88378,59276,1327,7284,38576,79814,65820,42199,84860,49574,62596,12396,70598,40117,8648,7994,16836,7630,14047,359699,106878,525,29037,28064,13380,11675,50669,74216,103539,180314,27449,56299,172344,19274,7301,246099,32043,19422,36506,129317,6806,30140,4614,46639,66926,932,86600,6322,27847,233103,10541,39025,34887,3517,12972,26220,2031,66561,115015,48658,47596,12714,33845,3893,16165,35237,89983,14769,11962,147224,47018,29977,27979,5552,82338,86023,131368,1218,24853,237840,132193,15455,40873,3668,65351,53388,15229,59889,272245,47934,11858,34347,18038,90853,86981,300602,19343,114181,29362,84921,6095,106059,79472,38015,1206,48741,6208,8e4,21916,17423,6002,108083,24479,34931,56661,9511,26995,100694,163853,35997,81254,58321,18919,171890,86877,91341,74503,70477,53412,7027,59281,39892,131302,5864,15947,61301,67466,162369,47956,27874,35624,282324,21270,111847,102548,41482,30955,116737,28264,8592,55458,22301,75090,29821,30697,51709,3041,19208,8038,24634,30467,87509,126428,19389,18814,152686,20701,83474,45832,80891,105808,11378,153223,120770,98186,150633,49838,9141,12755,30962,5260,74490,21256,31678,65062,33326,289838,187831,20595,89768,2805,58535,10844,70085,12090,2451,138068,98544,24461,4511,6754,41684,28203,3383,65355,82833,30161,83924,234361,128424,28921,222594,33975,125491,34069,11508,67464,144226,41850,98703,34371,7901,21254,38398,65651,23549,53883,213340,123269,12028,71764,177701,28758,2623,68395,11549,15232,68603,9660,63116,36079,57093,31198,20475,48467,89984,35619,186847,107469,31389,43631,73867,41949,68841,114250,1605,30564,63403,17588,27680,99533,12641,70325,50428,73426,78379,11855,91651,72081,91720,60198,15743,12065,83398,140046,6761,46598,45900,5068,886,62448,148968,37347,19405,9680,15819,43496,63370,75667,163700,37639,3633,22774,34341,183131,134335,37200,23915,7054,14194,12970,26438,13350,285521,25594,8219,104410,91039,168804,138480,149734,15907,33818,61132,60082,4622,110187,56736,13551,73571,3945,73463,65498,17758,263266,17593,2710,27585,54469,38200,45367,63754,28881,3473,12791,98287,31895,65787,4463,94536,24951,36332,59901,28803,52130,86403,7668,181822,74831,18977,9850,177206,145485,109798,7292,31421,26280,77211,58511,12507,127004,11113,147,8729,56208,43066,79926,129937,31345,83947,39915,46146,98763,42566,1337,13192,18323,105163,80570,117753,16555,72883,11077,159438,40764,70933,83329,26066,12276,72059,21655,173836,126713,69454,153482,91585,70644,102558,110483,6764,127864,190133,3961,101798,20945,71138,82402,90884,69669,44753,923,16939,59700,164258,25969,27082,31399,43846,6306,246093,51342,6153,151581,202801,182731,56475,162188,89426,141356,14355,121815,27536,28023,65257,77523,106668,127314,24947,12790,38796,169698,23555,10725,44573,183083,42088,62716,43265,105958,32050,44067,50118,1668,3874,6243,318411,16599,1691,94999,52378,28671,216728,123258,2059,34969,69225,5913,136280,171443,141515,91662,22175,135282,80020,92270,1663,4808,4482,3495,34691,5226,109830,108512,17342,107488,11606,123190,100247,29666,146527,113014,15794,30894,13224,39585,243192,22351,9903,7836,47699,11078,25468,122291,48821,26780,122679,75521,81450,630,4895,92900,55074,74293,17441,3563,111657,103102,51613,12318,52370,36191,68245,34269,40445,41354,122901,168604,182500,62012,42557,11259,24428,115113,86345,12362,3909,78430,86852,134602,20459,47853,93879,22577,7659,3688,38555,13349,17381,56715,91639,12493,10895,92438,3142,37057,28928,2004,36427,32268,34222,209974,10432,67436,41989,173518,107930,27079,62729,30908,55558,5828,45031,14902,53546,8204,144263,60255,14520,88212,86582,109589,69356,8064,47449,8505,66558,16886,4844,52817,111260,215129,12941,91118,650,20770,6273,73089,40618,62790,2873,35002,14023,97208,19386,102646,36993,143736,135457,35385,113601,17893,32627,84439,100619,56016,6581,57264,172160,45452,111710,203627,70131,24100,322787,1996,35665,70078,22358,90922,83658,4097,63200,58499,14542,99153,52159,6615,12414,63415,31986,16823,1579,65405,137809,8841,16898,48082,259,33014,42375,12260,179850,73667,91389,98882,29532,17311,326251,41092,5928,20742,44964,48019,43505,9317,49265,6643,192712,48424,163487,19861,20113,70848,31928,105333,23685,78563,14638,54755,7158,24142,44018,20774,125255,20331,24280,10163,1285,2336,39851,4299,117269,46714,63816,87779,159624,11731,9971,990,137317,108831,50994,74554,162680,23640,131597,146962,170620,34829,91205,21184,1913,63616,18427,93136,156592,17519,67565,115882,138220,78622,88535,18115,2711,33554,109492,54298,971,24914,25863,36363,45715,27099,194995,14299,178181,111488,72395,322385,157719,130787,11897,81843,83999,11369,49280,118604,40922,61332,110343,53407,75639,40582,300440,54722,25637,13694,48248,48278,194521,56203,52779,48783,72627,10953,376,16733,280238,26351,230789,15132,25168,137270,3588,63704,73376,94031,74284,19443,159557,9697,39901,13351,119050,15406,146455,3460,29556,75195,37673,102524,92329,47289,98413,15311,100684,56345,7116,95480,11590,7200,167,23610,58426,17730,136656,27944,53151,2701,8824,103124,3017,90744,113588,53216,79736,65940,26931,498,29568,80540,143543,21292,1740,59268,16561,180816,42323,50174,40890,52866,10703,57169,4700,17191,4424,93511,49698,166650,26972,48631,165169,82879,69326,202970,4007,2376,231325,139592,22119,62851,37504,68816,58345,67398,186643,43331,277416,53749,15746,23102,17432,4793,151138,48822,54265,48203,198688,14305,54287,2291,18018,113378,123260,7180,97549,87027,120085,2920,76080,8190,102005,5641,64580,14955,59802,54028,58884,19367,81779,412567,85957,97053,103637,78871,29364,27637,141728,4767,30686,112738,130146,42745,12730,105040,14844,232,210944,36581,152317,135543,29744,3129,55647,58149,46319,27265,17499,28005,59948,7170,34138,5702,293047,110892,408,91760,218674,18469,46095,81403,14389,4610,35672,73060,11006,74848,104820,118143,190357,20043,105358,141735,5115,27093,45924,123073,52599,29433,9616,238350,78610,24851,58858,26769,31969,24613,18294,4982,32735,39639,143563,112073,202205,12567,4873,88601,44897,81503,101648,81362,34662,85277,17574,48173,21435,221188,40215,39576,80786,26544,64668,81841,10731,37733,247986,149188,127703,495,18382,54388,72446,43071,30974,198723,89608,41360,190,33045,8386,31658,19992,237838,119015,137622,50890,100913,6460,116233,267230,26621,104129,65114,14190,41542,14888,85962,23342,23041,26453,43725,71809,45186,4770,46452,53894,56616,221286,18973,9038,109299,55365,19366,26863,18808,60909,69353,41738,83463,12100,68561,72860,3980,13796,49340,12332,31311,27418,4255,53430,18976,45523,510,14224,30477,26581,4530,3651,101663,139840,22709,150861,31996,63923,120623,262522,3076,10528,2929,14672,130238,18087,9816,121894,100308,25085,55111,14565,18952,53293,2042,369988,23674,61789,133529,28783,108293,35477,47119,36448,71049,40015,33055,78598,198442,1833,159937,40654,77444,189245,113153,8621,18599,38553,35223,166072,2375,11659,21786,89523,6032,12116,63046,159398,18454,3678,32521,47626,11411,103527,38896,42946,15696,26370,10185,8413,37080,165583,4331,63555,14907,72220,50056,6623,62236,36565,49783,10049,17503,100581,55951,146244,24724,9626,17969,25524,109300,173965,99994,101056,46459,43647,53737,277968,8347,123521,74858,33829,44762,77574,877,81377,222525,123532,30602,43881,53145,2973,16284,81940,61281,127044,63620,9875,14756,114829,19032,9202,52759,119141,23928,120551,19607,3599,33401,76821,73233,117430,39968,36539,7071,5446,121735,194059,15206,45283,6706,15603,65615,1207,165723,92275,34773,104447,8396,32353,205240,164323,13600,60555,79205,25532,22907,33410,57480,107111,69630,32137,47832,70913,33161,20321,2371,117348,10714,86246,1625,11763,17900,268,78457,99175,97940,101092,86660,32221,14041,128504,125080,53744,124263,31017,13897,403,31859,21964,5633,111630,5547,77329,17961,18241,84995,25984,12983,67491,62168,47262,5241,297,51191,7351,8967,147212,82060,16821,782,11033,82431,62957,5026,43459,77963,203477,53528,6247,191852,87774,74164,215654,13467,1522,219964,28589,244104,16242,117821,67725,72570,156792,17186,15979,26990,44128,193014,35276,57125,16212,166451,68017,6905,77608,16364,53777,75921,76426,37975,26203,269296,64099,84122,12077,38533,830,4407,20139,963,43028,38902,42911,37503,83343,85045,16979,1165,60835,137387,58380,86990,110066,134540,56331,193845,81238,17922,163093,38744,110641,12502,56404,34862,26865,125964,12965,111648,25547,7771,27196,136980,9555,29551,107158,57885,18831,37705,35505,101742,13970,102109,62548,124657,23328,11124,89592,146376,248050,6241,22033,18337,80685,29898,11908,216623,67721,106162,146610,21377,15085,91552,42041,62560,122532,125336,102365,121537,142559,29693,223919,11515,110495,18776,22494,5895,185059,103592,229351,51220,100102,37027,257855,29359,54123,36066,106493,12244,79258,32002,432,56205,94836,90182,6726,14762,29391,48938,26864,38083,60364,3310,60192,14766,205567,57504,110760,22649,24666,46333,21517,3430,13135,28873,27052,158809,11597,20529,6695,23138,22960,37137,45574,6545,305877,43423,26153,24769,59844,14501,10430,134352,56169,13213,103432,49523,35181,13435,12408,129475,64620,230854,77390,51990,15653,83248,33466,44571,117828,51481,2187,10559,68019,18021,54895,48247,18354,33737,4554,108595,37288,39767,116707,9175,3726,108877,21616,83684,49862,1938,8543,276466,20134,108498,48770,102254,31914,131520,185291,100559,51890,209,19526,76471,50544,71814,99351,8172,198526,28816,20419,9109,98389,136777,76479,75596,30635,165417,48216,120220,25955,211071,39314,24308,32164,2559,146280,43403,9233,17947,90585,1786,86920,125662,2457,64741,32152,32918,122882,78538,44001,31723,56426,23375,103172,88177,145697,52506,49319,68016,31664,41488,18486,110400,7030,28241,986,109199,19900,42147,56864,65287,49183,7858,24e3,30453,840,16673,25907,68916,89927,6309,158335,36407,199737,130464,13137,59603,201778,195292,21015,42466,179062,172561,89492,11075,180407,31868,72493,20998,60217,9865,19530,39274,130266,54539,21623,12535,13505,40641,73375,4087,85633,2153,3117,70680,55788,92096,47509,98493,37490,271936,151475,3032,16171,96642,34106,78425,125761,19591,3366,19316,54508,24183,50786,194248,91528,33253,34622,108355,41741,705,3814,3883,108929,13203,67831,10142,59754,68208,29128,84820,56880,38794,24972,48571,40821,40476,18137,164254,24064,236309,79181,11282,395,39169,2013,51587,28551,9645,701,109513,115899,113566,12762,62045,58322,103726,41343,40866,244102,143816,2490,70346,40973,52618,15412,30720,104315,38917,42027,93676,17513,107418,20706,123890,13399,97727,24044,87962,65606,44250,98044,65276,74790,101473,19350,91570,1326,87790,172042,7577,100813,86896,85891,41512,108130,27794,14875,71431,12835,156250,58135,3759,22476,42176,115873,34686,56523,73643,108505,51491,20838,12721,32863,45700,29496,13700,34294,55360,29206,155942,123812,7706,163234,203,132720,49358,144431,8130,175788,35818,3270,76832,25710,54095,97274,28779,94621,74396,19092,128242,58067,20885,14670,93255,15107,63291,23654,126900,129421,59294,262659,9798,3251,67344,28600,44629,50672,29072,26999,31526,23183,49175,165843,175455,17282,175411,32022,45989,30298,90690,78118,83156,23749,35636,31317,7069,80381,94561,133756,14960,97404,6138,41065,78041,32843,16601,34123,9559,146529,123377,96395,54441,42012,84257,123541,10745,22139,106459,11720,150883,172651,154996,110538,4728,53447,25704,2009,71152,119354,21166,66604,1429,216162,8637,122250,63520,27180,29172,36124,276428,107787,77184,4680,14952,104903,24418,14793,51561,52931,8371,26342,48526,7118,92066,67280,40653,8847,34597,105438,14198,50163,61188,146286,50315,41205,170829,161496,585,197359,95056,1687,365794,91349,48507,5804,49263,5146,104902,96365,117343,132222,46084,96919,16875,8073,262381,79982,52663,13928,16056,153908,15145,109256,132308,18763,24904,167644,13618,40750,18686,147124,114709,150038,52849,2938,12568,48617,8778,5459,44202,44591,74914,17183,248689,13878,7822,80060,23116,194037,18487,2067,7798,43077,33678,244028,31320,74273,2794,19466,8218,36280,183997,48124,19416,29656,19280,98734,7715,18311,30701,133602,150307,126956,7378,2933,79903,13178,12593,86571,26604,92446,13574,44205,65699,427599,21118,8245,14407,27877,47936,33542,7916,26460,117762,21596,37818,2249,127359,209394,60044,47677,308089,36791,154971,31417,6998,150042,174360,12255,43009,29335,48739,3912,101398,53340,2580,146939,151295,45360,125275,15273,45383,27456,48761,23314,8750,60801,85823,104759,27894,123685,66968,39480,26917,55290,83305,2696,98390,57569,145853,340733,4919,20024,52268,30884,7413,203685,70989,112855,4129,50536,349518,68205,332641,159581,135361,236026,37563,176404,64899,6578,122033,63871,1850,85234,82089,66124,74145,121098,107351,12687,36881,117334,13136,14698,85933,93866,18047,32620,310,15094,46e3,88451,23632,36645,27940,87618,80520,58892,20976,27702,140090,96075,67841,103292,238964,87778,107338,17019,83427,67522,7302,8261,47570,116787,8730,80484,61772,174422,56005,131193,52875,14588,28471,59817,9586,15720,158155,51307,109734,15196,11025,59331,3884,52626,102602,84797,25158,27314,4437,20488,76214,189248,35023,114952,157376,2827,62439,102878,129749,36405,10329,109339,108633,36662,1254,13267,5470,87105,58004,15397,10434,159667,21864,52022,179464,3013,32147,31496,116832,18494,105502,129227,107267,50033,13481,9954,24267,22141,16257,116154,36185,950,115685,11305,176708,2048,178671,112573,287867,162328,497663,95170,50979,193861,50987,30368,136257,31830,46549,15119,169876,23788,17462,249887,57377,1949,35448,14791,43769,210091,3783,34612,282103,88380,245190,5457,20491,98908,11402,86899,117916,16028,162584,60644,320177,156096,31065,55876,22e3,77655,9992,23397,13757,317623,63978,215255,2443,17648,93231,27388,104529,93807,55505,140477,12046,112040,70887,40152,94365,112353,25063,114679,266061,71248,119555,15589,2244,617,14129,211431,70110,100652,7777,4383,85911,89221,21010,120615,58357,86405,37554,41647,18,15143,69662,60491,14714,186134,148344,42347,5410,168175,44535,42449,343894,129417,99682,20659,27272,140483,63455,222159,17536,13722,42637,62324,11976,114691,148109,2283,32057,182393,4295,147364,33705,2075,44303,30274,28331,63740,69740,29148,10346,44862,33716,73937,153333,12930,38784,247159,2515,41053,20256,83368,256189,54639,115240,5096,24661,175419,153552,26516,141,138176,63885,34115,47222,55709,2765,28479,38875,236608,12229,22921,77291,54426,45388,2860,57787,114579,295139,105782,17826,71066,19119,54364,69385,16568,12323,28057,33346,34919,124763,155533,101386,31644,8627,49001,303600,29868,63213,9103,77280,71333,9696,138789,37059,24823,5057,21352,32368,114208,56803,19424,10445,58514,8661,209508,26187,171838,10460,63454,14016,122504,41328,21329,46618,32493,38225,7855,31763,7945,29876,8734,6438,24205,97490,139977,130740,47323,33195,85390,57194,13813,60600,21313,96251,7699,27584,170521,139271,1363,4402,336738,129223,84983,69150,13147,3590,163929,207225,155260,55916,20288,4503,8398,98490,11773,27512,37113,84976,86558,28365,11756,116005,182148,13733,115313,47644,67208,85069,9347,14995,226141,14704,101835,41159,35314,13113,63526,214039,29978,50446,83339,17440,129441,72522,118641,97816,24907,73844,15717,118884,167255,96509,162793,30847,36849,51297,78974,77793,10427,1873,2972,9999,35074,28190,64297,146836,46298,60038,163007,108919,61219,2403,75022,127339,4233,110389,69022,9833,128097,88016,79390,222936,22570,94657,28462,56956,38803,81536,30474,152794,19566,16481,147408,74574,81895,20731,1918,1366,76367,187321,54494,24366,21690,61696,33283,107477,77499,31112,414383,74362,18463,218441,120929,59848,258629,201924,69269,454,19989,13054,59894,3623,58908,20681,35723,78523,102680,38988,184112,108087,50944,132704,52966,21699,18860,96349,201411,82697,85395,95658,5093,6427,177894,44191,32755,26961,155739,6249,31310,81030,26574,84311,120155,86730,113535,7424,48888,13516,45747,98098,20077,183995,81945,43210,26704,40420,75831,45648,11180,6855,57927,65528,124096,34851,2598,156633,107572,127352,38169,123845,60142,62722,105584,232364,23211,68120,1601,22169,89299,747,258039,80572,7258,152249,11862,101204,8834,121434,33761,19175,133142,46343,40178,48723,3589,41977,30210,38868,62257,10087,82658,87827,90646,16415,47552,351723,28298,72225,91146,272760,1701,11295,1652,109651,300747,51863,198800,29446,11794,32345,37538,22356,33102,37590,113544,37970,11478,179743,25454,103417,59905,221970,105196,145604,7817,164809,102360,16974,75840,255333,56902,6659,1954,645,59400,67769,7689,18675,5215,13793,20536,27852,3387,29523,259718,16860,94625,43143,29245,15848,233581,22685,63631,78557,22836,133302,84513,1348,51826,47129,98836,58284,1830,1749,94642,10933,6145,12506,10975,13879,103781,144434,10268,28409,32346,52968,121567,107374,77268,23686,35097,10501,155275,15303,47136,21102,168741,55332,90385,15996,84817,681,137803,25054,142275,6163,38175,8056,124296,240642,65621,4934,178205,16101,62803,60964,18230,100622,76465,44689,14545,9543,47514,16852,93380,28048,12047,107106,37575,101485,77047,57326,34819,96137,76916,6469,46264,115983,75768,87668,69942,13027,165,8373,114231,26434,52844,42799,182044,23580,146254,38081,43236,33883,146220,382894,14606,46035,36481,166621,35417,95382,2957,59384,60428,36358,66343,75378,22267,22950,83528,17577,56474,25285,4619,179691,75355,95836,53295,34588,171410,4487,14679,84208,44015,18562,109133,54101,11531,86052,174479,303157,28095,9953,35642,14564,39802,16145,77606,117406,53038,121117,53624,22062,1212,7632,127157,237292,189087,10478,127345,102515,181997,86752,87623,10966,121602,68783,68681,83042,114380,138349,191305,67176,50085,39016,1427,42384,1412,67118,122616,72389,25260,2237,13576,137346,19938,20304,2191,68759,5373,61364,238507,75814,23931,69565,38993,131741,38364,12528,87762,5679,129853,5310,186831,32653,90338,260176,389531,108118,26843,43985,50175,30563,25106,56965,18130,140428,4542,165503,117991,24219,229605,1819,129663,1240,3797,76093,18398,71339,51919,93043,27175,47060,216257,6483,35051,1217,16512,80798,129064,13225,69339,8548,237079,72298,2575,34280,51379,117910,55671,53345,247552,29486,39328,140821,34681,57045,60177,5004,90269,78522,2479,322607,48474,61296,13057,31558,4678,59271,6699,27044,31988,35944,12503,83480,4389,136508,3781,114121,70279,4488,155829,42214,2898,68191,75695,305850,45041,74344,106509,30087,17429,93292,12477,290,23080,114802,35714,18751,26554,105424,17775,2144,2412,100610,65192,113975,52975,180272,135050,129815,76238,106483,21440,63186,4260,46189,9711,28249,4169,23429,23390,8324,141585,63809,67668,38457,38063,39226,59972,1189,203916,62368,14403,16949,61767,85801,1739,40147,35049,76757,33124,62102,15780,103593,103009,53484,22952,67973,114645,6566,5245,50462,7601,8288,3513,194571,80276,1908,54592,5124,58571,2513,6800,273997,193904,1119,17991,117245,2508,129156,82366,26278,71465,63341,56943,39662,106116,94966,156875,9736,2204,122308,94418,27134,1280,24539,49022,45314,3764,50904,46424,30699,28087,293839,9400,33646,40165,822,147499,50263,116179,29085,11863,31314,5578,17797,5104,12454,1604,15342,219206,10232,67800,94261,25872,13565,90339,78971,75377,26649,41184,47695,11514,35369,20767,14227,41953,309396,148270,147938,33074,14453,27499,109019,39018,25738,240196,158931,52820,8612,95853,21524,137010,84901,70869,70021,116794,48404,38771,6732,1070,70990,187297,49140,5238,576,3564,253975,16027,16483,2811,37775,19034,25259,4053,2e3,70083,95774,19713,33431,92703,91314,42381,288770,48194,95985,3991,77418,13406,241328,245086,56533,35275,62725,9246,51924,70181,95331,16163,31410,79016,39312,120878,119371,275987,80124,27712,9186,220,23598,146167,85209,68238,282190,57048,31273,30555,80913,17594,75779,59160,135002,101219,189377,29225,96735,60126,62522,104e3,27620,86814,17240,147533,11001,5425,43682,410,49460,87270,69480,46315,59448,1816,76201,9431,11788,87960,29063,65539,47347,11678,33846,7008,196704,9895,6753,8633,120892,59970,572824,115934,6646,202559,892,48351,37611,251282,57823,67263,57750,26527,34485,90747,7685,88370,6144,64182,1709,41969,21458,62327,181657,49247,225330,122600,114574,107124,85361,111833,63243,71420,15655,191178,72430,18063,51425,54002,12364,53225,86557,18193,97580,41232,138398,67821,128724,8944,233212,101353,52099,42127,14006,120107,32789,32132,3498,18123,33758,56058,5779,128760,59888,98869,18445,84702,51911,13234,218379,20093,39031,8074,70195,20708,23462,24355,131384,60189,26390,10403,41060,7140,10781,49410,42261,87202,82566,41663,43105,60276,2768,5733,74176,28329,2297,145430,131632,83615,122915,105441,655,224102,5284,136426,67763,16294,188511,32538,61049,27893,3394,13951,159099,28542,17930,145360,9492,190122,32285,78855,26440,13570,58648,73908,4239,124561,2444,74172,53131,11468,10794,73566,11623,35343,64710,30481,4163,10328,38309,29901,10538,154377,76132,92405,24839,11679,3465,13449,11637,7824,2337,57754,1260,14458,41118,19878,38661,13416,159180,37074,163164,54137,28627,52134,184900,8520,40385,29546,30502,22386,66527,107458,6850,24022,47983,30603,35083,8934,304066,39500,9,28261,33026,77251,9374,44833,116312,34990,29236,63563,125639,135405,165398,159055,55690,88141,69643,236964,31983,25572,20436,36746,60896,31850,16179,11828,5888,3043,66368,9750,31167,7915,53111,36430,1333,64344,93659,20061,60596,180191,51630,6792,30244,43509,101058,22409,420,44210,109783,43223,27030,72477,72831,32679,29235,7675,47556,12258,39907,149412,84926,118247,24692,71717,105038,86009,45941,41189,89453,29856,52543,30627,226798,67303,59230,67415,34408,1367,99685,16867,128419,52147,4111,125381,117881,16173,44093,102224,31575,23234,24870,83790,127407,239098,3200,994,1255,100903,242275,117266,55116,38205,16140,29662,11307,40414,208793,123355,56470,4862,75600,30119,58218,70828,24075,26974,7802,192353,4851,5475,78720,66596,3409,28573,64396,30381,30690,59859,88256,5406,99945,103064,34463,37727,24238,86643,60088,4057,23741,5967,162904,38240,28356,93858,25510,122879,6897,3278,7057,11971,4400,35461,211413,21395,59615,39471,87233,55795,128426,3051,22470,41950,14705,3974,180108,80476,78442,204996,91987,15634,67610,139015,142373,35611,51134,10387,4353,153456,57749,181039,14183,68447,151532,21107,36452,20551,3186,46247,46383,129666,88736,140662,146243,2066,8360,7978,64818,106963,17896,47801,10723,114821,223295,74192,3293,3393,16987,74064,11277,91622,4270,29828,27951,387869,103235,1374,61988,120083,477,145892,128378,11779,211263,61354,18221,17869,46530,83061,108538,157981,90608,67199,95080,49064,195814,12302,66307,10348,231346,160732,112859,63633,146558,21271,31037,198802,47622,12862,95710,3910,77850,73961,85585,34752,61e3,4082,24595,103679,71107,8208,79568,150019,16615,24961,139857,32664,197366,4559,54735,32696,4126,162019,75698,13916,70108,159638,19834,9349,24675,175560,49643,18206,52459,27992,10809,88865,401975,133172,29e3,34558,30915,3658,25834,42430,36562,125265,18182,10155,40149,97082,208980,19575,60853,90529,66545,9600,789,46420,2317,88593,55595,98980,115302,5742,169155,1073,177901,3472,11189,63711,78643,65472,50459,127979,93,42202,67053,21720,157650,11145,141378,42033,22824,85705,79114,35584,15974,1510,54172,28562,12451,104226,19190,97151,73024,20948,5151,81741,21499,29006,84183,198074,54003,45120,170125,26240,35177,28389,64863,79974,60778,176915,232183,45342,2038,80253,41564,40703,32689,5430,100689,5366,23007,134279,14266,26712,73993,24934,64242,52113,102887,61801,46415,201049,54251,62133,122757,164883,30815,139966,2319,30842,766,13362,10287,134518,86111,81665,82440,28333,43019,18963,8804,161944,23439,102144,101145,80029,39052,248708,30350,117340,11878,128467,974,138625,63961,5237,74778,61834,67040,43814,13690,65947,33809,232476,115258,181745,28824,94013,9510,10246,93722,81976,7217,114383,3493,16014,69045,72692,12145,80981,9507,6692,1620,60820,330444,35474,33962,4797,7053,295463,46445,27026,12491,77988,49524,35675,90947,29114,166705,101385,133782,32704,6186,84595,176031,185623,45966,151302,63069,1699,107491,947,15458,74452,196212,6046,10498,12163,10239,35191,243951,9277,9090,29539,54460,22820,26514,112549,60372,51753,48756,21812,70861,260326,41,44222,10441,16961,48148,138771,216194,5914,52153,53400,212036,56519,26245,10117,45888,15294,138019,90913,26368,43842,42111,23348,6082,194845,161089,156206,51546,11647,30759,302912,262094,8635,78876,26535,35283,54183,31183,85484,147873,12989,5197,6356,72894,65347,20150,27370,73787,1493,45918,12366,190217,20724,13858,10981,67449,81213,7553,14115,72242,271517,11842,48310,88743,143726,22177,3290,243231,58452,62937,12592,1654,40066,33477,13751,9921,128442,15868,7106,75236,83773,10775,36938,10482,170465,17368,17469,161508,32752,98340,800,19824,264456,3901,87319,2867,26782,9630,113102,185815,24197,44584,86366,40224,3636,140916,31731,267731,9567,53678,72984,29389,27963,17106,50282,284911,60170,8322,12608,23374,89652,5268,39044,229766,8869,151350,31436,177342,12269,183212,120418,116270,2843,78888,69192,7865,184099,1086,129897,18383,70508,20242,18508,229924,124569,35749,50589,55626,9884,83115,40971,30671,18135,14452,38861,17844,201826,5549,26413,17189,13561,38539,10679,143331,3314,36785,171194,49685,187713,67506,4618,104039,17060,195080,50648,33159,19238,67559,134840,28599,157523,17130,38064,117398,94355,31918,13575,34538,40326,13997,3494,348283,62481,26862,3603,104426,244363,153709,112487,304612,199674,41239,35545,54869,293005,28223,26277,26899,4533,18518,15492,38587,80488,70485,160395,263,60162,11382,222152,4696,250751,51921,182609,10707,48463,46243,1227,49111,111564,46502,33342,56846,68541,63559,858,139927,16654,229375,76759,26478,33205,95828,23399,92945,2637,35630,28470,143992,50214,14174,21456,166191,65665,1711,21594,78019,97599,111701,36,147151,110246,189022,43021,30397,40757,131935,42065,73335,48039,26596,28984,15102,2361,7421,202167,69744,43766,52826,3642,83304,33873,75140,63169,192389,36551,92748,13039,123959,233220,21738,84447,77230,20228,187852,19095,25799,92136,108774,29237,53947,2299,118106,2687,8830,42331,202924,33667,2023,73763,30704,19363,19779,16737,35629,48081,24068,101013,162338,291912,13749,24745,328289,167679,70086,48299,23306,16732,17801,43322,54589,3586,63653,43624,53474,925,109177,251316,43805,13082,19511,86565,142182,92461,17117,101033,103319,64589,4022,4351,235897,5352,82705,107142,46391,156084,5860,61365,10558,13045,7717,18357,33922,12590,33065,6928,46993,783,46937,67846,8952,26295,6107,119656,18799,17458,50747,4229,179559,112727,118080,20683,41464,125468,51560,49749,44231,7359,35339,62988,136487,67015,5208,29150,24956,105186,48858,6143,18097,6972,16404,73489,58742,97196,36357,164616,5834,32267,13746,147733,15113,132091,34127,106298,39729,106426,22294,9780,15602,36213,71502,42808,66802,599,60755,5851,39120,67363,108623,126368,72770,91263,32486,30596,151717,7951,52002,43103,11768,68942,40901,39344,24037,127500,116890,48403,16926,86750,17745,48648,159545,34460,58419,5634,114317,67865,31462,23352,24010,98185,125708,69686,68337,13610,26271,70691,2980,4768,27225,102402,75453,28106,8104,6931,1176,6274,6475,112635,22498,6176,238686,26832,28893,90319,14441,15682,15087,39517,45270,109134,104440,45965,47645,81772,7876,52683,87720,12898,4505,185665,2769,113401,15664,57592,105229,137381,97059,119268,6876,43309,33886,128363,35476,144249,67013,143587,83367,25703,91436,59347,53236,2289,16519,19844,46309,58558,99834,23313,218816,231303,36388,51333,183535,109792,139277,54306,90139,18235,8275,32710,37677,82464,86025,92204,88842,117723,37570,128723,234242,76350,73795,34896,148247,58424,11105,11744,45746,63372,17118,49772,199520,81902,38004,22911,33752,3125,1995,53792,4689,26909,108150,146062,69674,41811,161444,84855,8999,28561,16731,93937,3189,21967,24890,22943,1356,145300,51569,28802,517,118679,31703,40607,48098,108854,25003,10233,73969,177495,5248,24516,215347,146192,48712,60626,69188,40735,5866,586,101541,6509,47590,52129,5969,222045,110933,25733,24223,65339,62812,2414,155418,35819,16022,78423,43138,20995,128255,240673,46745,236093,72176,57085,97841,61248,107,36068,193177,105427,55726,215229,20446,47228,100420,87091,14429,121708,23605,21157,187721,21880,2997,203976,99166,95068,25877,7724,98925,83401,4829,13182,18229,13718,239662,38653,116505,153497,30589,89029,38962,181302,43853,78872,180301,4786,248240,7401,106136,112590,77745,19731,60880,77789,125748,135487,5975,48627,34084,12419,215770,47557,254582,10364,106495,21856,67539,88981,38805,21428,48732,42316,12149,16078,52808,25327,51322,33850,51147,12253,122354,46077,56483,254553,115417,81834,150991,94662,86668,7381,12841,100650,18218,15741,22372,68294,50705,15535,84660,61887,22553,72299,31361,24824,17743,46820,64288,31582,77006,111674,116384,30760,80920,86149,77192,51979,79691,60342,122805,103800,240873,160744,233114,78962,54920,8608,3484,316104,72548,24337,5088,230040,21926,10172,36838,26,86221,83458,102176,12062,17571,41929,41170,28428,68239,41750,103930,2634,18313,53019,34825,97837,63115,24606,73157,152474,14715,91439,37033,109806,140259,30668,174760,380,135597,95673,136073,65073,134249,13829,17279,122305,4420,46444,10237,64848,203623,70728,10349,182885,65075,24519,25783,40318,34139,22222,63394,55266,102764,41422,20126,65100,90408,53640,35128,48932,11192,38935,96839,34782,39492,19396,41332,6250,5511,19492,51304,25936,104466,54099,73771,86115,5080,7669,30891,111700,13931,25276,72289,135447,14820,258641,25265,31005,281179,75286,393,95359,14623,13584,6680,101227,80173,44933,76666,54542,13244,39348,458,25379,109451,134348,81143,6959,65554,12027,51311,8716,57589,140731,28467,23316,17272,30458,25980,55229,77197,83798,28302,114784,7428,34548,26241,14712,39336,103304,18928,54080,12870,334,87722,15208,16895,142098,114262,39820,83913,57817,28682,7721,14900,108672,11250,62246,42849,415188,1724,26555,24549,25505,26443,107450,145899,61035,43528,6901,60726,65906,267741,21338,147590,42079,18924,73017,135236,15393,5206,4026,84185,1531,5988,113890,82647,303391,7386,69844,71611,189865,76523,31877,13315,19314,198575,32821,1928,67641,25913,104475,103489,3297,70391,18406,15446,113347,19295,93790,27856,1792,167471,116449,8541,4408,41757,63233,25765,86680,64501,27034,24816,34975,6079,4486,49693,36229,16917,21581,62426,27862,11612,54284,35702,194034,355,24277,48262,87411,70504,310164,118018,12516,47559,43502,57433,107139,9290,66533,80863,14634,34312,91725,28606,21342,67241,72355,43244,375789,37402,174015,105070,8342,44167,67494,1890,16365,11723,271002,1865,47918,8350,45564,27742,25110,125803,8553,49504,81925,62211,4534,15491,19011,80373,206920,667,102405,128623,245524,5553,113309,192739,65766,19567,22832,261958,29679,21293,71134,20962,105123,24721,860,21752,33448,18372,157167,94822,35770,173224,232737,75729,28937,46828,28062,25453,5207,140366,36665,30652,6169,67920,150458,92040,23186,184604,92330,20891,176492,49427,27828,38305,42495,143982,49560,25503,90043,29747,65328,47830,12932,11068,77721,9003,25213,94205,140426,46090,89945,138173,192691,33329,112232,129905,35709,27514,1841,19957,31411,127476,53572,17497,173549,55063,175135,19841,69314,5192,237921,117660,150697,4060,273045,50414,98940,65348,153665,164423,58804,156695,48994,213928,86036,28608,8355,39574,34540,16927,135680,18374,151587,10830,53805,16878,16623,4282,48030,8537,14986,46102,13062,72897,72,33050,108227,39451,45935,651,113320,40535,95176,57450,48843,5003,19019,10407,211163,3848,1068,4988,32091,30095,41692,15099,43602,107434,50744,7627,171349,16313,150832,352665,207750,33937,38256,51091,156e3,87889,90663,84175,24908,114900,50365,31494,83829,5398,169342,47521,54818,18935,8356,43094,41212,174536,10082,92550,6678,60614,23355,69721,14796,34149,128830,58187,3179,208,40325,28399,225029,401412,51150,31580,207268,6657,10993,69818,64282,289845,23308,12961,38447,6681,52944,31855,2572,47646,120728,179148,37240,45196,218274,4816,3695,21961,50084,35209,18073,51452,27004,6100,33941,1377,84831,171214,85,141510,9078,99227,32610,6417,11718,49868,65579,87902,73018,49062,46280,61742,21512,40862,107733,15941,29168,157765,144919,14487,5767,158014,140070,7241,573,71584,16921,223566,40331,179473,35081,47926,140885,41508,52104,59180,42310,32811,29048,123517,102413,80208,10104,14746,12649,153641,126022,37965,113017,4171,83,142592,2809,6362,50416,71323,116894,260776,16204,1524,5760,30351,12658,20703,54403,36083,45408,74772,4946,14485,50759,111222,10890,2195,167147,92962,130534,16283,177256,35016,15472,210156,151187,73922,117691,43250,52051,37392,24811,24358,30830,5775,818,21969,1476,127322,151783,58392,31021,106913,65215,89407,90802,28531,11690,20234,95249,44602,37256,18707,11928,5161,4410,26571,51903,49768,22008,25252,65780,209499,68769,203726,13249,137363,48845,86823,6658,5674,31881,1083,1823,108676,34518,166752,13791,14287,91576,91429,8665,11529,26401,16191,91972,30964,5254,28486,54697,79613,66520,18447,22870,45203,194466,22822,51703,12278,76716,44595,73455,33546,12235,144843,36154,51247,11116,33040,3180,225753,60864,1972,28469,12891,28879,10338,144157,56294,353058,38302,41447,87532,110616,27065,168438,6557,1213,50804,144643,24817,2390,136531,38174,247513,16190,4059,122791,131994,137430,39506,57650,16305,5188,54309,106128,20628,88071,67394,395446,250285,66176,91254,1399,114196,43915,60230,44853,27206,106353,43013,18733,345105,226453,51202,16607,57106,117175,35492,10476,89598,127439,15187,39624,13688,61570,10615,31111,59370,6238,175252,32143,224492,41388,95408,34384,148238,78307,38959,9340,160091,61443,15737,11216,41244,170,38299,102443,113097,26382,14027,33707,3957,76300,66160,19431,18900,6952,1717,108656,82206,188021,257335,27295,43999,41210,31777,46956,57457,12657,11489,15697,48060,204748,53583,82422,284790,30503,137341,8120,19615,220311,15991,10217,63424,9808,67431,70976,98221,4491,15177,28535,144789,751,13230,2394,1504,33977,132104,30316,22230,931,97193,185240,24826,22687,174322,15307,22988,1390,188745,180325,29580,59068,74903,18994,29195,79,15436,7622,38462,11566,138710,44828,45774,37768,99236,68137,84083,19282,22698,17134,74807,126662,173497,46248,16938,119735,3212,28292,213652,49013,9975,32180,45660,86250,4801,68788,95490,77482,113751,11994,44624,94452,46839,128497,100316,5798,58588,73184,202987,65417,37790,88524,1606,43156,97964,105717,34947,11203,100060,37742,130074,93653,107799,94311,196106,41347,8035,10780,16390,27883,118236,167395,1979,25006,19375,31628,18916,144723,78502,114047,103107,86492,107686,5844,20934,206963,23556,22591,16562,146333,20167,10471,117434,33085,2863,9740,36669,41849,37271,22790,18209,28979,8231,12952,54408,21731,25130,45208,55748,138120,75826,414,29593,9925,292865,25999,683,123149,7036,92159,86055,61827,103680,23176,54918,58466,57578,13305,5709,86479,16697,31064,17660,200919,10770,49793,33423,32370,52047,16488,62555,6459,8426,83493,7763,59725,82812,18628,67760,79405,68557,9612,7673,28102,56517,69620,171797,32458,29541,15870,81109,32080,207644,71495,21202,11039,91036,61230,2810,130800,32260,4613,60590,37112,75214,33979,126402,155062,30642,63875,12810,194463,82799,47664,16725,36685,43367,61099,449,172150,102867,21691,301838,36745,7130,18671,57316,34852,38034,54182,35578,65900,99486,19771,3456,2658,16914,99866,28390,28109,8262,21147,34353,20006,4228,137085,1675,203023,283196,198286,214375,163329,290603,152574,40471,83506,30068,14730,23177,131539,34759,27668,32178,71896,104799,116305,85430,119262,42860,25160,8911,23428,49437,105322,6519,16203,6349,74711,1230,38045,8540,75165,44736,25909,51026,317034,4984,32281,91312,27060,44431,17817,45363,155937,239085,35697,59784,91993,29531,126740,213757,76560,167776,285273,24262,8237,65030,41160,74437,48804,118916,13159,37842,1031,75349,1478,11655,108777,23435,277425,101734,67469,70231,124711,43532,28514,65526,54956,1e3,21882,17728,25302,40952,52214,149632,1999,2111,3259,63362,89961,220561,39777,26335,9063,10572,12416,34551,34623,38604,24723,5947,15588,69927,66252,119177,69173,46629,28714,70715,212408,20521,406913,74380,11716,50659,50862,37009,88460,130101,7210,53853,538,65120,151950,55806,163748,52837,13153,21100,16674,64536,6091,138201,44837,58547,3723,163,2177,32288,85454,34033,8497,14282,25742,10535,10741,79559,117493,243787,49337,100718,79495,40139,42956,7551,55433,15421,31509,23034,45081,547,61176,53434,328001,8470,36263,30145,4519,74173,53935,11845,73774,60211,78025,3,4102,73782,109293,315332,48412,26683,13714,6865,20128,18490,104141,325,39470,171970,115860,15707,7268,73301,74336,31370,2368,111827,107757,136231,142844,97138,96638,84053,38691,23801,1588,10573,122098,77039,240,186135,146101,11996,18143,112963,46171,155836,348769,47795,121213,116266,132515,3344,144804,31286,99187,255838,129694,35894,48779,55235,148582,71967,65282,15174,13920,47080,6147,108242,157593,125025,7136,1286,28957,127956,28402,98813,20805,7532,109417,40610,5041,32958,15142,18408,108596,33543,50517,27748,80114,233434,91447,487,37094,100048,30541,43477,10639,89862,155868,37667,8726,60684,237903,73408,99589,12190,38739,97348,3914,13594,2680,149016,13907,30171,28343,23530,115225,61104,35821,147679,14337,4297,244282,24085,326976,56428,7851,21303,131620,71446,83253,68692,111870,5224,15813,38197,49026,45057,13660,3306,76345,40671,27905,91072,996,68527,62085,91351,122634,55109,168209,2024,27560,112707,17352,8306,167115,169921,166958,5031,46020,11844,67284,19130,76185,6920,32849,5450,14610,22451,21002,17392,31872,66682,84796,13709,40210,59898,12029,8719,53564,21462,91884,21647,88379,194428,12754,37797,132826,160016,22567,54383,53186,77611,31107,8339,4694,19185,90355,23597,17222,140675,28442,23668,55977,9128,61555,28774,155229,17658,9390,24379,69357,15752,127381,239631,62460,93181,55913,45133,140155,18676,25249,33164,29581,82837,67223,22362,29975,7317,52813,1943,29613,20012,207130,49617,49651,5636,15334,36313,29226,28084,95247,72072,19e3,224932,15811,114,32127,38097,37508,88507,37225,27359,91626,12193,69279,20608,11055,88156,92808,2152,57259,55275,72789,24475,104414,1708,9882,3818,48661,66897,1631,34806,227930,85815,87753,18321,250664,72733,25107,206797,50891,8082,196411,92596,96764,152823,65514,22819,387277,62176,51225,40329,15563,189,3659,73670,64357,51793,275136,33482,86653,74615,67058,11318,125720,15388,22388,8267,1730,102663,170910,40784,7144,85373,13040,7088,94309,583,44224,140424,77439,18496,164026,36578,4722,9151,5824,63365,26510,35199,40500,79277,32495,44614,35233,9566,203293,152144,7097,2330,183480,98629,13423,330887,44130,68600,30939,97829,31012,345465,56747,94879,4939,160027,149761,99423,46099,32251,15332,8761,96094,128555,5763,235318,222223,55729,30241,55420,201746,3987,81382,8259,49325,23287,7719,24633,251100,92311,18591,110533,64759,170260,393860,7175,21144,132887,3593,75346,101277,91109,16387,259187,11627,57459,173829,44694,55780,49797,89192,120443,62622,3904,14814,23887,1027,112258,64955,99800,11132,66353,36202,48624,18158,88481,96882,43059,11040,2455,7077,21651,181159,99126,100434,61388,68186,19161,110468,120052,8819,55324,41494,7014,37689,3618,87729,92615,207943,9823,128657,12587,15857,6379,67628,51216,71775,157617,63244,1503,3864,218754,110864,5769,21492,7243,1192,87921,85529,31512,18537,42698,35350,73510,84474,34301,8991,21013,35034,566,38832,19838,35586,37216,39413,55006,12178,59742,856,84563,6900,25632,17437,49786,30723,13847,70845,4044,7843,23944,235976,55530,48942,6518,20939,73769,192653,52936,95207,23895,132542,142982,22632,87452,48042,54018,178468,10728,26230,23559,363,81269,142012,5718,346258,31456,84333,246476,51018,66692,101804,120570,39962,30373,70593,2864,60541,19425,54209,104092,7201,31545,48018,25865,15442,46257,40443,8328,6451,111782,47527,97754,33046,470,245116,31095,39,91934,87208,73470,36708,36521,12801,70624,36272,8892,79768,12427,55454,103756,5908,52390,62962,22720,141138,94634,41689,128402,126390,6628,106394,35527,134394,82727,254651,194502,148064,89549,3202,28359,957,21954,27906,49840,142747,8307,24206,48978,1186,71728,133038,71474,91306,6333,110959,74600,70387,18983,62609,56057,22970,1147,135850,1321,28834,3578,59715,102227,32827,81415,99952,55636,257598,390,22702,35701,85872,402916,39216,189795,14929,19467,10112,144422,61514,5279,63421,134686,41436,8424,51925,10598,132295,124416,4604,194739,210929,57866,31829,51626,50007,9976,91878,61906,56168,81906,60918,61859,40017,23059,16887,40927,62064,12785,32893,32913,21782,93965,20169,44387,79084,38463,11457,93950,27127,157050,2697,337088,5116,54128,48255,33279,8821,27352,25515,124022,65710,28906,38557,33390,1722,104435,72215,38551,12094,30978,25113,6671,37355,175109,42862,98024,65406,221276,59624,118012,64637,78760,86697,21426,1639,40350,12584,67193,84144,31396,7863,143011,69629,63112,9454,28666,65798,46372,134721,6314,51402,30837,151922,2847,38676,38008,92823,136245,17540,5504,109295,205242,37606,5211,214892,1586,20670,208711,137743,19328,40652,16995,20023,14657,154919,34422,12996,13918,38221,47690,16398,2959,37680,89122,6721,198469,91876,172043,83898,101992,26084,94570,3635,76958,22853,76497,38266,176590,168403,44464,142840,79180,184594,1984,41806,83147,11985,6546,366068,59732,24533,271505,8736,39084,222992,93429,28962,58985,86665,8432,30028,14548,32439,54424,165029,55175,27458,69046,121277,46168,33732,20661,24581,135574,123110,37556,79260,72611,16957,12939,46162,58238,44907,72936,253758,41324,32518,96480,11949,124438,65280,43256,34107,53533,43531,37037,28366,45970,32741,173438,6121,194202,62969,26355,30314,58370,28455,1848,50519,82830,90393,21761,295490,10936,256940,133568,44050,20269,4089,27457,21610,219460,36743,14821,101388,52005,13124,30979,140816,167362,26054,18458,60789,34917,40447,26606,33422,9066,3452,83614,5761,20263,137238,25038,91310,101,52322,74548,42572,38084,214054,186568,31802,17665,30620,141936,37730,14420,4265,187218,49640,188208,51441,55388,96452,66659,40869,42039,60967,221027,19234,178581,29105,96050,9165,196118,157335,3738,40354,117436,2965,34136,59659,15570,50843,230035,31444,71260,43886,18316,5387,38500,168508,17406,32174,8828,103373,143806,90367,3560,18719,122310,16508,26719,2541,105429,6645,37998,73190,10591,235916,49737,87112,233941,53188,32193,79154,4544,52905,126477,7580,63501,57314,3216,31337,6541,103083,60846,49,9756,15481,1355,43840,14319,13743,27486,10222,73114,230718,418644,16706,6674,279748,23058,45273,295831,86306,2743,5535,88773,21829,35253,120938,31153,3169,16839,42847,8751,80974,33942,36867,35514,16485,26474,77775,56877,5391,48346,3882,108713,31403,27804,55248,26235,43821,136104,40118,175507,28034,203908,18732,1788,34030,106427,36958,54359,7251,44936,15356,69139,455,157915,22173,140291,50348,43275,82066,49621,54952,15216,36226,96695,66855,6936,1987,8227,196087,4631,68827,99004,47541,110265,17953,147605,110242,58520,31312,38724,329975,642,3155,34497,75937,6207,73843,6120,17249,51429,117746,3218,910,68961,319671,14938,29555,34700,1649,66673,72268,9655,76800,153087,6941,210168,27130,35398,1780,73242,3135,56689,19556,165307,8765,35967,121458,13333,70453,17350,117253,22265,13340,44265,39869,441,3742,135025,23581,33309,16543,17731,13291,157637,283005,21408,101360,63887,52312,83873,5338,233779,23759,186949,34531,177320,38069,156465,91004,19353,59852,68160,14891,1338,1072,29823,1950,28901,81407,313445,73038,84807,162348,240257,37162,138934,16111,58013,41253,102951,16457,96056,19541,56402,67217,41638,94381,89674,29481,37456,80815,151579,13937,13683,132537,19699,134545,67020,29816,222341,141235,427578,48868,129557,233342,23077,87871,16213,18728,16184,9469,37913,19680,2798,171356,178328,13216,50049,72690,71904,124644,55455,7504,29052,41036,266546,19899,30391,188755,8659,59469,16,104298,112943,53865,76203,138226,68857,139953,14125,107625,119795,173133,4398,50273,48808,54390,16466,122086,31835,67035,50971,48859,7508,46427,66477,73021,84615,39985,83076,46779,201569,53336,36443,60865,168164,143810,51393,25548,169307,32896,24485,38424,21837,29087,275813,51674,6714,64883,46169,187369,55186,76192,12852,12018,62134,31067,118303,16542,12125,10579,4928,26291,43854,7091,10946,253716,109062,39283,17261,113012,258512,47764,125126,32646,55892,80279,201623,149872,3192,385,1208,48750,5376,58738,22335,5427,82416,47811,32435,143086,38930,94128,59975,156037,37977,38224,62485,7698,50405,71027,16462,21559,136153,34131,107506,162069,63703,3101,215029,40407,4178,3774,9187,80019,17880,97926,67579,2600,18405,8351,47924,86638,70820,92206,86453,29610,42241,119200,3198,15466,67813,57863,35454,4779,99518,4649,104641,144269,33730,38073,65864,6838,109456,193298,154007,5623,45741,30846,182578,25573,157224,1543,58575,138703,146140,44971,49356,18275,59064,20300,13122,11848,24453,11973,9797,86843,2919,25530,49210,1130,161220,76788,75373,85604,34926,36014,17777,17255,51533,11676,92226,51845,119859,21525,5936,18507,28050,1140,31418,14857,34207,47859,10750,36382,32079,106909,59426,87757,38393,110042,15965,97104,33757,35344,97993,53979,33651,45407,41884,82515,173089,7177,58371,35365,47543,51927,35587,10670,23544,29306,84233,39976,76076,62097,9007,8668,28119,78281,120790,19835,143020,54968,18670,64959,20649,34469,42570,33001,136570,87796,120044,1106,58700,63951,127623,12805,83057,40212,31773,49850,7361,54336,347524,101314,23751,19569,48791,29174,49369,20467,7465,75842,38281,623,112457,60210,28849,51003,94720,6426,90047,85560,43761,3579,85105,34607,90410,118528,7224,42907,111163,18168,6960,161135,191298,5247,100584,127552,171568,20121,91173,12636,54615,20199,63730,98105,2396,40387,14438,125012,4765,33235,12865,45299,37728,82098,77872,114037,59253,19675,24838,398016,102561,11446,17069,57508,178277,65836,99941,26114,2585,271882,136866,50126,11027,155648,118367,14585,8910,123015,335383,40434,41016,53021,14439,87098,176860,201543,121888,2358,9286,5739,22666,54270,37884,169381,33984,93859,16124,89364,72207,51639,76366,99029,65812,2198,12147,174891,194289,6986,30252,88822,21284,11445,288337,160821,33034,100869,43852,25761,52882,1144,103809,1924,84458,86079,43411,13542,139276,18141,34978,41298,7276,26481,173800,33210,17951,142652,33616,33677,2210,19941,98568,2486,192414,80136,12058,235883,50963,249638,29572,27221,47034,6124,72107,63346,97620,158513,299699,40388,23235,37176,224244,198386,121323,67992,23827,63170,17838,106622,158590,26807,5345,23489,91891,55474,74834,37981,13058,5977,72552,34706,26828,145172,19904,21367,34043,960,77092,91381,4733,47446,7680,41697,5170,16960,14741,46101,13656,473,51842,37433,11103,11551,121951,13191,97536,165932,50397,51628,129028,9069,44885,6590,59195,47045,32940,225472,90345,21833,13303,29407,96615,141951,5198,6028,18395,7181,3861,14966,156358,167182,36529,55253,25942,173153,30959,27261,50691,150176,162201,38467,48462,80602,42163,118482,168,108756,26011,17166,54149,456538,22512,91374,13816,90358,131615,18132,226707,1824,28139,26860,42253,93877,77351,65575,8980,80574,22020,27948,40422,91324,76376,13528,39281,91685,82215,122541,144066,1983,193851,17283,26320,2739,194978,4790,26845,42627,61300,65815,174612,55133,4200,191130,79771,158321,52280,166796,221620,62461,11278,4067,88152,83409,31717,121367,13522,47325,37945,10406,174348,249321,154101,64912,29938,51775,17220,15776,166138,78890,84425,54121,42861,16368,24572,291647,10197,32073,22651,11677,97509,26952,35787,18424,41910,71614,94977,72318,41594,70024,275419,37702,60199,7335,39107,61315,18271,18394,33768,87884,104277,123724,7277,56288,71981,189803,49320,3352,6798,14240,8954,69220,94433,57372,28620,68863,193727,85575,42309,41667,67689,42081,22543,44824,12719,28540,114236,101553,27638,27296,4300,5353,4663,19379,94098,3758,95888,95144,80344,87320,28447,259518,12718,71391,152731,37063,24132,31911,104896,15672,103782,1521,4945,72541,23717,122632,15619,87175,206120,29428,189780,61416,28350,44457,972,1175,47233,198738,95789,41907,21953,97034,59341,22864,53713,16873,32971,20693,20954,31336,21477,16169,38370,16412,9019,3841,24599,21938,17085,6484,81198,76413,5849,72514,12320,65247,276175,37234,59796,52642,16312,57349,198507,94148,46134,18958,125552,1747,18725,151873,14901,5490,68287,29470,3689,64794,40814,26018,25692,54450,2703,88278,124886,173087,174e3,24159,179477,24276,46004,201876,209202,445,52876,31948,30206,157610,39180,18439,44124,50469,5774,96278,222758,200216,50290,45486,20435,46986,46276,140133,142326,15569,13363,47522,92583,2182,7135,16853,22998,30272,4952,63263,35623,39096,53789,44864,20053,110392,124213,4630,16087,28221,127787,25839,77481,44693,13464,113146,6983,27069,55717,50102,4760,7107,26186,66507,59145,36032,104182,71328,29425,64317,50781,47465,94298,69706,74899,22754,120756,25108,93077,56834,73286,39928,16218,41699,176763,7555,70819,50083,26895,23315,26014,16773,123079,41712,5719,31516,90427,158540,85051,183128,40864,27505,55392,9058,45224,96857,30901,136622,96557,56304,120061,11501,151448,5773,89743,7769,86069,2935,18471,41628,10114,33660,110170,49479,26745,92846,33221,26731,18795,87076,8550,2100,29972,120289,3077,72490,33784,2630,208722,50861,63483,79029,6419,39467,14302,45286,64207,9686,67513,44170,1050,77246,59266,17055,53801,7150,11111,42432,4278,94579,362117,36175,42902,41933,39002,98489,22913,74161,84773,57036,17556,162288,74485,178760,93867,73635,128860,50362,261,67455,80001,46080,35662,4368,25247,19230,74393,22588,1822,27682,235324,13798,85998,13194,235067,23514,71669,147632,23191,134748,214683,105101,1518,25489,247114,7380,54842,26922,3971,26361,20844,68642,170517,77339,123255,8963,77818,150998,48466,36806,2732,23261,11741,236162,18243,126216,28690,50546,16385,92760,197383,246558,201295,88255,67588,71687,176076,172653,169058,33906,63747,24835,157621,43338,30050,46152,132741,2770,51371,94835,6614,15112,11749,56936,1250,19027,399017,58036,100215,23388,55815,308768,124152,94803,9521,64186,8971,28,30427,62163,7616,103838,35079,29203,131235,7743,17389,10882,37420,61460,228512,85363,41581,131077,62822,119647,10130,54445,26925,19968,29016,24446,74028,24176,61448,67185,9254,8563,119129,9771,99184,37716,39514,10532,221512,258753,218630,55980,23394,32141,61924,66749,32411,3741,36475,26678,77010,44946,91203,128749,116953,20476,49625,53116,13735,102335,29376,51946,83407,67892,59212,34685,21083,1546,112982,32972,74397,1078,190545,16082,86140,58591,89611,101531,10061,105104,76319,20035,17551,52611,169061,190842,100780,23907,90413,115619,9675,34710,193435,49443,129734,11183,258877,16318,136182,126808,44635,27304,192375,2599,125648,47051,12091,23814,721,58800,40137,66726,97930,60877,74487,7942,54326,9841,41428,13762,8211,85383,6950,99177,79806,201786,296464,124087,13144,29741,41721,47634,55088,254286,106408,17041,99064,12942,64086,45233,14005,2612,55827,255,7984,13980,38574,12776,46654,73499,249951,2101,26676,25996,132326,116415,119062,50449,31033,23038,11589,179252,20007,14860,129270,21143,17796,144715,60106,70758,69842,34674,282133,44014,16774,57268,38528,24053,46373,201667,28327,471023,51889,102667,21193,114909,84132,69317,96723,67969,16134,68145,15058,28765,32035,2524,101089,98664,25045,76571,14957,86040,118506,262428,154764,81573,39681,283900,73287,127825,544,80448,52347,38512,175971,15180,45467,33086,46552,48894,81107,43213,36672,54025,76703,8053,7608,13299,56619,20752,238099,54164,105133,1444,32942,953,37564,8e3,66316,119463,106817,404,13667,149108,128597,31267,10269,49836,106150,1484,52330,76965,160486,171648,38456,31263,22424,37738,66245,67467,143369,60471,75610,20895,115528,86070,60854,40796,49347,18989,15030,11371,37578,15779,79867,10187,86462,46402,155626,93200,40229,7090,57547,108053,99598,11088,47505,41218,206017,2173,20988,30219,22919,80563,57566,42369,93141,41675,2407,182519,120495,27154,16702,29456,14349,7958,16688,117177,140375,42467,261919,74916,153569,10836,34742,49526,7621,105997,12212,2270,392377,7755,17959,25086,232152,138791,33847,13860,35316,5811,1344,71259,50452,207539,92635,50359,5821,33674,30255,2086,2587,96264,17543,42,6029,9580,43007,139248,82831,12917,29607,25786,51467,42137,85161,100698,31561,88989,121990,278500,3602,109344,37982,15279,116442,28936,30880,87894,58079,128661,126731,67392,28051,146885,4861,16216,97344,42827,147561,153948,22684,21335,47685,1853,43349,15185,59642,10229,25520,187921,108972,5579,98037,24945,6697,19193,63734,137934,75056,89740,19767,224268,56138,63643,151661,39313,70618,84031,89723,84074,13703,85626,35460,8867,64845,3439,57906,99776,63968,49270,81130,34356,16210,23547,36446,34090,140028,72439,2221,22163,57058,363492,113754,18913,95451,48663,54464,54037,176097,68425,3023,34906,29482,117389,341780,80431,58330,16753,92616,60907,94846,147486,4498,48646,7773,46801,7778,18946,464978,47558,33223,177444,7328,15626,63337,94700,11743,9351,255024,39098,16447,42647,96230,39769,58840,10068,63439,35800,65843,58823,413844,9156,51258,7434,61791,85018,6872,3692,28096,7121,33024,6009,75532,31997,192535,9661,3304,9547,14753,31987,25314,55689,15896,20430,39472,31340,99744,25398,115569,54883,28719,205423,23071,57855,64638,149867,25671,82403,37616,20668,39989,77996,74948,140555,175248,64810,36515,46595,4958,248773,24045,28728,136673,168704,20804,114833,100325,27135,21205,96151,153134,45992,7093,13992,76047,1980,19432,145001,75159,87462,17710,1013,45556,34297,144882,20648,26061,11319,129567,108555,18872,464580,33386,22717,65948,167189,5603,135042,79542,8801,202632,18114,91882,5973,5239,67315,4431,60916,47819,71693,32597,32606,18183,45072,80329,76385,24749,51305,40314,156514,14693,130345,13168,66214,18029,12858,34801,27628,14544,10823,40522,40185,33739,148694,23548,9923,61012,28859,17933,19442,34364,99849,164107,141167,30629,21054,6744,36491,8096,42474,41706,155060,30650,10600,163442,1143,96655,61390,52359,7559,51568,64256,203854,4467,22453,14504,436398,7878,6980,8293,63610,293747,16167,35763,19627,147603,15419,18032,110744,51346,33681,54571,40472,48615,39073,21604,13754,173027,92560,11083,47299,63062,11813,52007,29883,9734,139722,15953,1550,20651,13616,49306,16113,90089,92326,7584,30712,72424,164858,6831,152871,55746,197721,34167,196442,6022,112107,55215,7538,123381,4920,43539,77165,8939,50392,34192,20225,79762,22505,58667,40770,29788,97180,82835,4568,8579,13273,363569,35898,49983,436,36598,3237,131691,62418,35591,8101,4073,379438,65218,76072,33887,2968,27573,212619,288680,68278,72851,150504,217896,6913,121339,22017,35340,51072,43616,75043,31437,10833,81487,4364,22968,41454,106687,85446,19863,109625,149241,524,141850,214404,54376,657,237023,9401,108137,53800,32474,49712,53334,126876,27337,45552,177696,8269,15036,12097,42240,2328,125374,119295,99715,2500,19624,39441,27220,102691,60957,94543,39101,18566,67362,13975,78230,25017,34017,239007,90027,39351,41681,35354,43822,1043,916,58587,141983,94818,38799,75459,41114,67432,16195,36606,59568,22272,126769,31424,68659,12287,134302,257977,5756,207285,95637,47248,117689,19583,77451,22373,12200,54993,117118,34244,29386,34562,53819,71267,64172,77665,49368,7716,59301,25749,45426,194789,17297,2650,1766,32501,45198,20403,20984,6600,14171,94604,19037,5402,29896,9938,59935,109708,88081,145182,44844,39167,352626,164173,35374,45982,6122,154,73419,220487,53834,53601,17992,8609,229321,5610,68098,66815,71012,95069,140968,27396,8957,134489,24656,86659,56598,134852,17316,123838,255436,6613,41610,138033,81452,32023,32396,123687,63398,8693,29712,30407,19296,121188,3551,36099,20032,111948,56624,16547,27453,35916,15378,52039,56849,13489,22214,73177,53097,277349,2157,14029,187886,10260,141743,246460,91880,50869,3788,49486,133566,54950,33120,129337,53768,18333,9525,26902,312251,10297,9020,70759,16647,112432,59260,84609,9818,82766,73569,468,46001,75780,55028,52106,11498,43645,108069,17150,17753,29417,16705,31799,9606,289,122254,115975,8620,6133,255357,56908,14456,133464,43554,79224,11247,29630,160,12756,25464,65960,350428,62521,321796,100359,67358,35169,46172,113128,48988,88868,31094,33266,6847,60887,98188,49659,69117,92977,220228,13947,80181,35103,62170,97351,13475,2440,199768,19498,36597,46971,25234,67806,62881,84717,73648,181966,10488,94149,21550,26655,63436,48375,14405,165650,9621,24439,28043,42735,4490,29963,56674,45373,1934,262446,50855,67098,26898,5261,52696,40644,33900,9440,180286,87162,22940,19704,26936,69769,10254,101759,27406,12243,48e3,73926,113215,54935,5726,192787,4312,106216,9366,11550,52949,23457,212271,277152,133895,108374,6191,96477,29980,218916,58024,54696,40853,91124,65894,91170,65908,252552,6793,29212,15389,44516,122515,52617,35058,9017,103536,39510,49136,19242,130652,662077,74699,47024,31422,8517,73351,24399,13867,128360,4810,4434,61779,111983,61036,17798,110240,59722,102960,39688,10001,23803,23039,176498,56659,44814,134295,17188,77577,74466,226175,102472,154333,63900,111747,18062,41171,79669,32773,408933,42562,28931,30907,107388,43487,2946,240310,23938,24354,319,184983,7927,6488,1422,10790,68809,68209,64775,4361,202,17123,59634,51200,44391,18188,17843,2619,74278,3230,9540,47187,21702,36274,56894,43907,16310,34790,16866,6150,5561,13587,107545,108873,126867,86986,28640,33427,19017,5762,80637,17430,46903,2047,131055,25958,13558,5444,47152,13900,44563,122857,45348,70863,39593,54332,38068,33637,318,40310,143467,18502,24520,11377,62013,28942,27246,28269,83545,17999,59015,90707,30065,15161,34720,1263,37008,2012,6060,98575,92933,5721,299,199555,24578,29223,2985,743,115825,109523,136657,47454,26378,53586,3733,174945,93340,244456,5693,37386,28782,89767,27545,23573,18798,136425,34320,84778,20041,48453,38215,7477,71958,40621,8773,5874,187927,105965,51100,43533,18083,8443,10180,43597,2003,183999,69689,12216,129696,146188,62389,34044,68410,12765,43273,26949,266807,3345,34477,79197,5688,47539,213110,21634,22257,50092,32222,42346,39530,63668,98,134978,74022,5152,59088,174145,37220,9934,9545,118937,5724,87240,19875,15784,40143,23263,87513,181654,285152,37881,263241,4966,43934,10433,186657,6470,74416,225854,25908,142677,246262,32280,6192,75890,45546,143264,135305,29742,47013,77787,11732,126658,8763,37950,21806,57557,113464,89465,108995,164574,23894,22996,23169,15369,23117,17642,130607,40503,36239,280990,44666,9981,40427,147487,26869,168452,32886,32991,46798,240839,15111,70502,65697,88548,44145,28701,48767,31139,206777,35659,181164,166262,14554,171445,31786,66523,76607,17956,6507,31279,90476,116611,167918,6560,1243,115324,80128,41867,55897,187323,37069,32596,189444,145931,13390,105530,65709,26805,6999,55714,41300,22915,68951,22138,21120,22264,10058,19945,33635,56123,99085,10032,5818,6016,46649,57476,35264,94413,112522,262288,93686,83038,14341,23204,28807,66084,77987,6101,126673,7133,38126,5923,122091,170240,97772,46874,215746,43948,41622,3272,55596,8332,146411,251315,13533,8561,81521,115449,48616,175175,2063,186556,3036,134537,75772,29728,82360,22973,186559,86348,89100,38388,82297,45610,2613,87082,9986,177812,57884,23591,47485,42543,33582,44713,74439,257444,252451,31825,35631,38540,33066,5147,13973,4343,51830,70378,22827,26448,95560,36896,241741,48067,203953,298860,61620,20450,3220,67272,6586,107662,100160,108684,6929,57226,4762,7457,1320,40404,77204,99309,62750,208653,59977,44e3,74315,34332,5819,172217,64904,114077,18147,84012,1791,98456,90930,21446,116669,103938,7422,85140,59713,5768,326211,16239,75411,13229,29398,10758,236107,1539,112472,95979,152154,151294,306,21196,38146,10700,6891,84282,109646,56492,40539,6589,119491,51354,30685,140209,136906,29622,73617,49553,70525,51671,166869,139616,74395,37439,49595,45678,11959,33211,86560,52434,9282,62690,112155,130810,5243,108261,99970,265613,72551,80049,6391,33365,90721,66737,69872,87011,1860,9032,112544,60905,37371,89015,140351,19076,850,373531,2802,36725,218795,72062,28990,16550,24614,7815,6187,26336,33373,32162,42791,73555,32062,23386,10244,56392,49442,27076,136262,12412,14883,1134,33675,97153,199281,15608,100152,74072,47942,254301,36451,16026,10687,65067,56708,254030,30290,50490,13864,57941,259331,35588,23485,43486,24869,21620,92971,22072,88645,1048,182050,13343,32452,14825,19509,3325,216938,45740,99716,189082,53740,78245,25609,24311,176777,47340,308354,40669,66085,14102,125339,9225,128709,97207,1271,200933,78439,113451,88975,18324,46521,11819,18570,141756,72512,170020,52754,63550,118515,103073,93330,32736,50499,14722,31600,68452,398867,29316,172786,18417,104924,2606,5670,84818,16288,67106,59580,82929,607401,291,85829,359,15897,35830,50696,65630,52672,22115,356968,29895,40837,231192,34024,38957,26722,406,23335,124952,72068,68804,13268,147101,164740,276569,162596,66943,11569,26654,66358,4777,23229,102127,5848,978,2921,59666,5371,28212,90108,42938,39320,2499,4271,108792,33510,125072,71653,65239,38250,66357,38577,13964,86251,35708,50755,36010,29448,12209,3844,38222,206337,100876,67827,137088,14167,252225,84163,195270,1306,5703,54198,779,46802,22028,51124,86759,70560,113164,35685,162145,45471,34561,422,2611,6464,47486,19223,38246,9191,18331,89942,243642,212364,15893,17518,22617,6409,30046,126182,59716,36560,104428,18846,26592,19458,50793,147333,30826,1388,27647,10922,14495,33545,19269,135828,39727,41601,46931,233379,49169,131130,182112,16276,82381,118209,142445,128310,19672,28740,82907,33436,3118,102206,28723,24819,41937,38854,5157,3881,111491,1142,9776,421673,152241,29309,14961,87854,6054,15424,3796,82656,54996,2108,55367,239450,154525,9643,118103,106041,64601,68549,48707,30266,25772,18740,9462,229669,91798,112152,191327,14493,72828,8175,66636,236474,25817,87351,129027,76653,20422,22983,71240,27846,44661,12399,46158,77704,53101,35032,11072,17300,109294,33638,24408,1895,11241,760,17584,82479,125877,63150,141075,34259,23274,81698,15732,43577,48340,91584,14688,16379,24481,150280,96420,262050,48635,43727,61819,56268,72003,88178,17281,79912,13218,122519,125295,166396,11811,2171,118930,67746,17636,178278,174656,95661,173039,83845,79689,17473,98555,127696,203415,54730,22925,232239,9309,12136,175026,20740,180188,10747,39816,314017,266131,10040,175732,112550,220651,31974,37393,888,23008,86799,4303,64905,148467,75337,251,3284,370102,50264,9835,5438,23655,4481,29851,329,12855,7162,64931,78141,12804,42372,296771,83547,18624,34874,86271,3360,48665,77735,88767,11463,63527,28889,22258,29140,194315,113924,25499,6406,31334,1845,4802,49184,43455,35469,127594,92970,61038,115005,38840,87761,106838,8811,20572,55637,11162,96721,132425,108925,2948,125457,36356,3502,75270,27622,127192,2561,123095,49394,61155,16897,110064,9699,89448,53356,19628,220310,21622,83036,9885,112214,6087,26713,17901,161912,91492,3440,68594,9266,92238,8087,6866,150194,72175,80701,13459,31836,43243,239700,95846,44749,50647,21945,230538,120612,132371,244604,5193,105637,34661,41341,68775,85393,1874,8771,33718,49672,77403,595452,99507,6490,58895,128742,7704,39239,73217,43816,62824,37804,199976,22361,80005,87514,94832,14089,4574,139975,59142,75523,100268,43906,53442,15152,2547,186002,17011,19513,204282,3343,60568,128318,119250,4298,51871,41336,71759,21921,45074,98169,145889,99427,11350,1237,5520,28799,7803,53702,21026,136352,38293,128690,12158,90132,44600,10184,26957,39459,126025,78904,82999,59373,39301,150198,120529,153042,20177,50089,14764,271571,30530,123161,38975,101562,22941,5648,124654,109243,69817,71675,49162,106884,21241,107795,30258,16572,188262,141456,7688,60718,8271,11044,32440,104608,103419,236109,93156,43293,128929,42107,67180,25201,115254,185488,130954,72813,167547,20537,39969,38432,22582,184022,1139,27199,5655,17767,97412,122606,209377,27070,35871,326617,188954,42680,73512,80911,22629,3011,95021,315242,157737,383,41821,41808,19335,27950,15674,25677,110950,35375,76835,59108,57370,35262,16569,160415,37706,78086,32041,49691,137143,9782,172080,50148,77917,6323,10110,69172,17711,21795,59511,76184,135114,31046,132319,59105,157578,20549,80778,57649,158421,65143,4575,72235,21899,10797,92745,34035,106079,80159,4508,78304,25350,75457,46458,32937,25623,47,8531,104751,84953,8138,36508,187199,66310,115274,13253,32461,38536,1916,42007,187160,35055,26325,84394,35963,94216,45590,97782]});var w2=b((CA,g8)=>{"use strict";var Pb=async t=>{let e=0;for await(let r of t)e++;return e};g8.exports=Pb});var b8=b((TA,m8)=>{"use strict";var{xor:Rb}=(q1(),F1),kb=y8(),{sha256:Db}=(Ht(),St),Lb=ko(),Nb=rn(),Ob=ae(),Fb=w2(),{TimeoutController:qb}=jn(),{TABLE_REFRESH_INTERVAL:Kb,TABLE_REFRESH_QUERY_TIMEOUT:Ub}=Mt(),K1=15,v8=class{constructor({peerRouting:e,routingTable:r,refreshInterval:n,refreshQueryTimeout:i,lan:s}){this._log=Ob.logger(`libp2p:kad-dht:${s?"lan":"wan"}:routing-table:refresh`),this._peerRouting=e,this._routingTable=r,this._refreshInterval=n||Kb,this._refreshQueryTimeout=i||Ub,this.commonPrefixLengthRefreshedAt=[],this.refreshTable=this.refreshTable.bind(this)}async start(){this._log(`refreshing routing table every ${this._refreshInterval}ms`),await this.refreshTable(!0)}async stop(){this._refreshTimeoutId&&clearTimeout(this._refreshTimeoutId)}async refreshTable(e){this._log("refreshing routing table");let r=this._maxCommonPrefix(),n=this._getTrackedCommonPrefixLengthsForRefresh(r);this._log(`max common prefix length ${r}`),this._log(`tracked CPLs [ ${n.map(i=>i.toISOString()).join(", ")} ]`),await Promise.all(n.map(async(i,s)=>{try{if(await this._refreshCommonPrefixLength(s,i,e===!0),this._numPeersForCpl(r)===0){let o=Math.min(2*(s+1),n.length-1);for(let a=s+1;a<o+1;a++)try{await this._refreshCommonPrefixLength(a,i,e===!0)}catch(c){this._log.error(c)}}}catch(o){this._log.error(o)}})),this._refreshTimeoutId=setTimeout(this.refreshTable,this._refreshInterval),this._refreshTimeoutId.unref&&this._refreshTimeoutId.unref()}async _refreshCommonPrefixLength(e,r,n){if(!n&&r.getTime()>Date.now()-this._refreshInterval){this._log("not running refresh for cpl %s as time since last refresh not above interval",e);return}let i=await this._generateRandomPeerId(e);this._log("starting refreshing cpl %s with key %p (routing table size was %s)",e,i,this._routingTable.kb.count());let s=new qb(this._refreshQueryTimeout);try{let o=await Fb(this._peerRouting.getClosestPeers(i.toBytes(),{signal:s.signal}));this._log(`found ${o} peers that were close to imaginary peer %p`,i),this._log("finished refreshing cpl %s with key %p (routing table size is now %s)",e,i,this._routingTable.kb.count())}finally{s.clear()}}_getTrackedCommonPrefixLengthsForRefresh(e){e>K1&&(e=K1);let r=[];for(let n=0;n<=e;n++)r[n]=this.commonPrefixLengthRefreshedAt[n]||new Date;return r}async _generateRandomPeerId(e){let r=Lb.randomBytes(2),n=(r[1]<<8)+r[0],i=await this._makePeerId(this._routingTable.kb.localNodeId,n,e);return Nb.createFromBytes(i)}async _makePeerId(e,r,n){if(n>K1)throw new Error(`Cannot generate peer ID for common prefix length greater than ${K1}`);let o=new DataView(e.buffer,e.byteOffset,e.byteLength).getUint16(0,!1)^32768>>n,a=65535<<16-(n+1),c=o&a|r&~a,u=kb[c],f=new ArrayBuffer(34),l=new DataView(f,0,f.byteLength);return l.setUint8(0,Db.code),l.setUint8(1,32),l.setUint32(2,u,!1),new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}_maxCommonPrefix(){let e=0;for(let r of this._prefixLengths())r>e&&(e=r);return e}_numPeersForCpl(e){let r=0;for(let n of this._prefixLengths())n===e&&r++;return r}*_prefixLengths(){if(!!this._routingTable.kb)for(let{id:e}of this._routingTable.kb.toIterable()){let r=Rb(this._routingTable.kb.localNodeId,e),n=0;for(let i of r)if(i===0)n++;else break;yield n}}};m8.exports.RoutingTableRefresh=v8});var Gn=b((PA,Hn)=>{var x8=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},E2=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),U1=t=>t&&typeof t.sink=="function"&&E2(t.source),Mb=t=>e=>(t.sink(e),t.source),w8=(...t)=>{if(U1(t[0])){let e=t[0];t[0]=()=>e.source}else if(E2(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&U1(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)U1(t[e])&&(t[e]=Mb(t[e]));return x8(...t)};Hn.exports=w8;Hn.exports.pipe=w8;Hn.exports.rawPipe=x8;Hn.exports.isIterable=E2;Hn.exports.isDuplex=U1});var _2=b((RA,_8)=>{"use strict";var{Buffer:mt}=Ir(),E8=Symbol.for("BufferList");function se(t){if(!(this instanceof se))return new se(t);se._init.call(this,t)}se._init=function(e){Object.defineProperty(this,E8,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};se.prototype._new=function(e){return new se(e)};se.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};se.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};se.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};se.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};se.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||mt.alloc(0);let s=!!e,o=this._offset(n),a=i-n,c=a,u=s&&r||0,f=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:mt.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(c<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,r,f,f+c):this._bufs[o[0]].slice(f,f+c);s||(e=mt.allocUnsafe(a));for(let l=o[0];l<this._bufs.length;l++){let d=this._bufs[l].length-f;if(c>d)this._bufs[l].copy(e,u,f),u+=d;else{this._bufs[l].copy(e,u,f,f+c),u+=d;break}c-=d,f&&(f=0)}return e.length>u?e.slice(0,u):e};se.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};se.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};se.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};se.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};se.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(mt.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(mt.from(e));return this};se.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};se.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=mt.from([t]):typeof t=="string"?t=mt.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=mt.from(t.buffer,t.byteOffset,t.byteLength):mt.isBuffer(t)||(t=mt.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=t.length){let c=o.indexOf(t,s);if(c!==-1)return this._reverseOffset([i,c]);s=o.length-t.length+1}else{let c=this._reverseOffset([i,s]);if(this._match(c,t))return c;s++}s=0}return-1};se.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?se.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:se.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();se.prototype._isBufferList=function(e){return e instanceof se||se.isBufferList(e)};se.isBufferList=function(e){return e!=null&&e[E8]};_8.exports=se});var A8=b((kA,B8)=>{B8.exports=S2;var S8=128,Vb=127,zb=~Vb,$b=Math.pow(2,31);function S2(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw S2.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=$b;)e[r++]=t&255|S8,t/=128;for(;t&zb;)e[r++]=t&255|S8,t>>>=7;return e[r]=t|0,S2.bytes=r-n+1,e}});var T8=b((DA,C8)=>{C8.exports=B2;var jb=128,I8=127;function B2(t,e){var r=0,e=e||0,n=0,i=e,s,o=t.length;do{if(i>=o||n>49)throw B2.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&I8)<<n:(s&I8)*Math.pow(2,n),n+=7}while(s>=jb);return B2.bytes=i-e,r}});var R8=b((LA,P8)=>{var Hb=Math.pow(2,7),Gb=Math.pow(2,14),Yb=Math.pow(2,21),Wb=Math.pow(2,28),Qb=Math.pow(2,35),Zb=Math.pow(2,42),Xb=Math.pow(2,49),Jb=Math.pow(2,56),ex=Math.pow(2,63);P8.exports=function(t){return t<Hb?1:t<Gb?2:t<Yb?3:t<Wb?4:t<Qb?5:t<Zb?6:t<Xb?7:t<Jb?8:t<ex?9:10}});var nn=b((NA,k8)=>{k8.exports={encode:A8(),decode:T8(),encodingLength:R8()}});var A2=b((OA,N8)=>{"use strict";var D8=nn(),{Buffer:tx}=Ir(),L8=(t,e,r)=>{let n=D8.encode(t,e,r);return L8.bytes=D8.encode.bytes,e||tx.from(n)};N8.exports=L8});var M8=b((FA,M1)=>{"use strict";var{Buffer:O8}=Ir(),F8=_2(),q8=A2(),I2=8,K8=10*1024;function U8(t){t=t||{};let e=Math.max(t.poolSize||K8,t.minPoolSize||I2),r=t.lengthEncoder||q8;return async function*(i){let s=O8.alloc(e),o=0;for await(let a of i){r(a.length,s,o);let c=s.slice(o,o+r.bytes);o+=r.bytes,s.length-o<I2&&(s=O8.alloc(e),o=0),yield new F8().append(c).append(a)}}}U8.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||q8;return new F8([r(t.length),t.slice()])};M1.exports=U8;M1.exports.MIN_POOL_SIZE=I2;M1.exports.DEFAULT_POOL_SIZE=K8});var C2=b((qA,$8)=>{"use strict";var V8=nn(),{Buffer:rx}=Ir(),nx=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),z8=t=>{let e=V8.decode(rx.isBuffer(t)?t:nx(t));return z8.bytes=V8.decode.bytes,e};$8.exports=z8});var Y8=b((KA,V1)=>{"use strict";var{Buffer:ix}=Ir(),T2=_2(),sx=C2(),j8=8,H8=1024*1024*4,G8=ix.alloc(0),Tr={LENGTH:"readLength",DATA:"readData"},ox={[Tr.LENGTH]:(t,e,r,n)=>{e=e.append(t);let i;try{i=n.lengthDecoder(e)}catch(s){if(e.length>n.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:Tr.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(n.lengthDecoder.bytes),e=new T2,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(G8),{mode:Tr.LENGTH,chunk:t,buffer:e,data:G8}):{mode:Tr.DATA,chunk:t,buffer:e,state:{dataLength:i},data:void 0}},[Tr.DATA]:(t,e,r,n)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:Tr.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:i}=r,s=e.shallowSlice(0,i),o=e.length>i?e.shallowSlice(i):void 0;return e=new T2,n.onData&&n.onData(s),{mode:Tr.LENGTH,chunk:o,buffer:e,state:void 0,data:s}}};function P2(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||sx,maxLengthLength:t.maxLengthLength||j8,maxDataLength:t.maxDataLength||H8,onLength:t.onLength,onData:t.onData};return async function*(n){let i=new T2,s=Tr.LENGTH,o;for await(let a of n){let c=a;for(;c;){let u=ox[s](c,i,o,e);s=u.mode,c=u.chunk,i=u.buffer,o=u.state,u.data&&(yield u.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}P2.fromReader=(t,e)=>{let r=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}};return P2({...e||{},onLength:s=>{r=s}})(n)};V1.exports=P2;V1.exports.MAX_LENGTH_LENGTH=j8;V1.exports.MAX_DATA_LENGTH=H8});var Z8=b((UA,Q8)=>{"use strict";var{Buffer:ax}=Ir(),W8=(t,e,r)=>(e=e||ax.allocUnsafe(4),e.writeInt32BE(t,r),e);W8.bytes=4;Q8.exports=W8});var ef=b((MA,J8)=>{"use strict";var X8=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};X8.bytes=4;J8.exports=X8});var R2=b(sn=>{"use strict";sn.encode=M8();sn.decode=Y8();sn.varintEncode=A2();sn.varintDecode=C2();sn.int32BEEncode=Z8();sn.int32BEDecode=ef()});var rf=b((zA,tf)=>{"use strict";var cx=async t=>{for await(let e of t)return e};tf.exports=cx});var cf=b(($A,af)=>{"use strict";var k2=f2(),{toString:nf}=(de(),ge),ux=k2,D2=k2.v4,sf=k2.v6,of=function(t,e,r){r=~~r;let n;if(D2(t))n=e||new Uint8Array(r+4),t.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(sf(t)){let i=t.split(":",8),s;for(s=0;s<i.length;s++){let o=D2(i[s]),a;o&&(a=of(i[s]),i[s]=nf(a.slice(0,2),"base16")),a&&++s<8&&i.splice(s,0,nf(a.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let o=[s,"1"];for(s=9-i.length;s>0;s--)o.push("0");i.splice.apply(i,o)}for(n=e||new Uint8Array(r+16),s=0;s<i.length;s++){let o=parseInt(i[s],16);n[r++]=o>>8&255,n[r++]=o&255}}if(!n)throw Error("Invalid ip address: "+t);return n},fx=function(t,e,r){e=~~e,r=r||t.length-e;let n=[],i,s=new DataView(t.buffer);if(r===4){for(let o=0;o<r;o++)n.push(t[e+o]);i=n.join(".")}else if(r===16){for(let o=0;o<r;o+=2)n.push(s.getUint16(e+o).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};af.exports={isIP:ux,isV4:D2,isV6:sf,toBytes:of,toString:fx}});var z1=b((jA,ff)=>{"use strict";function Ge(t){if(typeof t=="number"){if(Ge.codes[t])return Ge.codes[t];throw new Error("no protocol with code: "+t)}else if(typeof t=="string"){if(Ge.names[t])return Ge.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}var ft=-1;Ge.lengthPrefixedVarSize=ft;Ge.V=ft;Ge.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,ft,"ip6zone"],[53,ft,"dns","resolvable"],[54,ft,"dns4","resolvable"],[55,ft,"dns6","resolvable"],[56,ft,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,ft,"unix",!1,"path"],[421,ft,"ipfs"],[421,ft,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,ft,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,ft,"memory"]];Ge.names={};Ge.codes={};Ge.table.map(t=>{let e=uf.apply(null,t);return Ge.codes[e.code]=e,Ge.names[e.name]=e,null});Ge.object=uf;function uf(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}ff.exports=Ge});var mf=b((HA,vf)=>{"use strict";var $1=cf(),lf=z1(),{CID:lx}=(Kr(),vn),{base32:hf}=(qr(),Fr),{base58btc:hx}=(jt(),$t),dx=(gn(),ui),Yn=nn(),{toString:j1}=(de(),ge),{fromString:df}=(Je(),dt),{concat:H1}=(gr(),yr);vf.exports=Ji;function Ji(t,e){return e instanceof Uint8Array?Ji.toString(t,e):Ji.toBytes(t,e)}Ji.toString=function(e,r){switch(lf(e).code){case 4:case 41:return px(r);case 6:case 273:case 33:case 132:return yf(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return gx(r);case 421:return mx(r);case 444:return gf(r);case 445:return gf(r);default:return j1(r,"base16")}};Ji.toBytes=function(e,r){switch(lf(e).code){case 4:return pf(r);case 41:return pf(r);case 6:case 273:case 33:case 132:return L2(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return yx(r);case 421:return vx(r);case 444:return bx(r);case 445:return xx(r);default:return df(r,"base16")}};function pf(t){if(!$1.isIP(t))throw new Error("invalid ip address");return $1.toBytes(t)}function px(t){let e=$1.toString(t);if(!e||!$1.isIP(e))throw new Error("invalid ip address");return e}function L2(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function yf(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function yx(t){let e=df(t),r=Uint8Array.from(Yn.encode(e.length));return H1([r,e],r.length+e.length)}function gx(t){let e=Yn.decode(t);if(t=t.slice(Yn.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return j1(t)}function vx(t){let e;t[0]==="Q"||t[0]==="1"?e=dx.decode(hx.decode(`z${t}`)).bytes:e=lx.parse(t).multihash.bytes;let r=Uint8Array.from(Yn.encode(e.length));return H1([r,e],r.length+e.length)}function mx(t){let e=Yn.decode(t),r=t.slice(Yn.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return j1(r,"base58btc")}function bx(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let r=hf.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=L2(n);return H1([r,i],r.length+i.length)}function xx(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let r=hf.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=L2(n);return H1([r,i],r.length+i.length)}function gf(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=j1(e,"base32"),i=yf(r);return n+":"+i}});var Pf=b((GA,Tf)=>{"use strict";var bf=mf(),N2=z1(),e0=nn(),{concat:xf}=(gr(),yr),{toString:wx}=(de(),ge);Tf.exports={stringToStringTuples:wf,stringTuplesToString:Ef,tuplesToStringTuples:Sf,stringTuplesToTuples:_f,bytesToTuples:O2,tuplesToBytes:Bf,bytesToString:Ex,stringToBytes:If,fromString:_x,fromBytes:Cf,validateBytes:F2,isValidBytes:Sx,cleanPath:G1,ParseError:q2,protoFromTuple:t0,sizeForAddr:Af};function wf(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=N2(i);if(s.size===0){e.push([i]);continue}if(n++,n>=r.length)throw q2("invalid address: "+t);if(s.path){e.push([i,G1(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function Ef(t){let e=[];return t.map(r=>{let n=t0(r);return e.push(n.name),r.length>1&&e.push(r[1]),null}),G1(e.join("/"))}function _f(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=t0(e);return e.length>1?[r.code,bf.toBytes(r.code,e[1])]:[r.code]})}function Sf(t){return t.map(e=>{let r=t0(e);return e[1]?[r.code,bf.toString(r.code,e[1])]:[r.code]})}function Bf(t){return Cf(xf(t.map(e=>{let r=t0(e),n=Uint8Array.from(e0.encode(r.code));return e.length>1&&(n=xf([n,e[1]])),n})))}function Af(t,e){return t.size>0?t.size/8:t.size===0?0:e0.decode(e)+e0.decode.bytes}function O2(t){let e=[],r=0;for(;r<t.length;){let n=e0.decode(t,r),i=e0.decode.bytes,s=N2(n),o=Af(s,t.slice(r+i));if(o===0){e.push([n]),r+=i;continue}let a=t.slice(r+i,r+i+o);if(r+=o+i,r>t.length)throw q2("Invalid address Uint8Array: "+wx(t,"base16"));e.push([n,a])}return e}function Ex(t){let e=O2(t),r=Sf(e);return Ef(r)}function If(t){t=G1(t);let e=wf(t),r=_f(e);return Bf(r)}function _x(t){return If(t)}function Cf(t){let e=F2(t);if(e)throw e;return Uint8Array.from(t)}function F2(t){try{O2(t)}catch(e){return e}}function Sx(t){return F2(t)===void 0}function G1(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function q2(t){return new Error("Error parsing address: "+t)}function t0(t){return N2(t[0])}});var Lf=b((YA,Df)=>{"use strict";var bt=Pf(),Wn=z1(),Rf=nn(),{CID:Bx}=(Kr(),vn),{base58btc:Ax}=(jt(),$t),Ix=ie(),Cx=Symbol.for("nodejs.util.inspect.custom"),{toString:Y1}=(de(),ge),{equals:Tx}=(Zt(),Qt),K2=new Map,kf=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Ve=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,kf,{value:!0}),e instanceof Uint8Array)this.bytes=bt.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=bt.fromString(e)}else if(Ve.isMultiaddr(e))this.bytes=bt.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return bt.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},r=this.toString().split("/");return e.family=r[1]==="ip4"?4:6,e.host=r[2],e.transport=r[3],e.port=parseInt(r[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Wn(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=Rf.decode(r,n),s=Rf.decode.bytes,o=Wn(i);n+=bt.sizeForAddr(o,r.slice(n+s))+s,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return bt.bytesToTuples(this.bytes)}stringTuples(){let e=bt.bytesToTuples(this.bytes);return bt.tuplesToStringTuples(e)}encapsulate(e){return e=new Ve(e),new Ve(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new Ve(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new Ve(bt.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Wn.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?Y1(Ax.decode(`z${n}`),"base58btc"):Y1(Bx.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>!!Wn(r[0]).path)[0][1],e||(e=null)}catch(r){e=null}return e}equals(e){return Tx(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(i=>i.resolvable);if(!e)return[this];let r=K2.get(e.name);if(!r)throw Ix(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new Ve(i))}nodeAddress(){let e=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let r=(e||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(e,r){if(!e)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new Ve("/"+[n,e.address,r,e.port].join("/"))}static isName(e){return Ve.isMultiaddr(e)?e.protos().some(r=>r.resolvable):!1}static isMultiaddr(e){return e instanceof Ve||Boolean(e&&e[kf])}[Cx](){return"<Multiaddr "+Y1(this.bytes,"base16")+" - "+bt.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+Y1(this.bytes,"base16")+" - "+bt.bytesToString(this.bytes)+">"}};Ve.protocols=Wn;Ve.resolvers=K2;function Px(t){return new Ve(t)}Df.exports={Multiaddr:Ve,multiaddr:Px,protocols:Wn,resolvers:K2}});var M2=b((WA,Nf)=>{"use strict";var Pr=gi(),Qn=Pr.Reader,U2=Pr.Writer,N=Pr.util,me=Pr.roots["libp2p-dht-message"]||(Pr.roots["libp2p-dht-message"]={});me.Record=function(){function t(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.key=null,t.prototype.value=null,t.prototype.author=null,t.prototype.signature=null,t.prototype.timeReceived=null;var e;return Object.defineProperty(t.prototype,"_key",{get:N.oneOfGetter(e=["key"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_value",{get:N.oneOfGetter(e=["value"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_author",{get:N.oneOfGetter(e=["author"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_signature",{get:N.oneOfGetter(e=["signature"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_timeReceived",{get:N.oneOfGetter(e=["timeReceived"]),set:N.oneOfSetter(e)}),t.encode=function(n,i){return i||(i=U2.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).bytes(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).bytes(n.value),n.author!=null&&Object.hasOwnProperty.call(n,"author")&&i.uint32(26).bytes(n.author),n.signature!=null&&Object.hasOwnProperty.call(n,"signature")&&i.uint32(34).bytes(n.signature),n.timeReceived!=null&&Object.hasOwnProperty.call(n,"timeReceived")&&i.uint32(42).string(n.timeReceived),i},t.decode=function(n,i){n instanceof Qn||(n=Qn.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new me.Record;n.pos<s;){var a=n.uint32();switch(a>>>3){case 1:o.key=n.bytes();break;case 2:o.value=n.bytes();break;case 3:o.author=n.bytes();break;case 4:o.signature=n.bytes();break;case 5:o.timeReceived=n.string();break;default:n.skipType(a&7);break}}return o},t.fromObject=function(n){if(n instanceof me.Record)return n;var i=new me.Record;return n.key!=null&&(typeof n.key=="string"?N.base64.decode(n.key,i.key=N.newBuffer(N.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.value!=null&&(typeof n.value=="string"?N.base64.decode(n.value,i.value=N.newBuffer(N.base64.length(n.value)),0):n.value.length&&(i.value=n.value)),n.author!=null&&(typeof n.author=="string"?N.base64.decode(n.author,i.author=N.newBuffer(N.base64.length(n.author)),0):n.author.length&&(i.author=n.author)),n.signature!=null&&(typeof n.signature=="string"?N.base64.decode(n.signature,i.signature=N.newBuffer(N.base64.length(n.signature)),0):n.signature.length&&(i.signature=n.signature)),n.timeReceived!=null&&(i.timeReceived=String(n.timeReceived)),i},t.toObject=function(n,i){i||(i={});var s={};return n.key!=null&&n.hasOwnProperty("key")&&(s.key=i.bytes===String?N.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(s._key="key")),n.value!=null&&n.hasOwnProperty("value")&&(s.value=i.bytes===String?N.base64.encode(n.value,0,n.value.length):i.bytes===Array?Array.prototype.slice.call(n.value):n.value,i.oneofs&&(s._value="value")),n.author!=null&&n.hasOwnProperty("author")&&(s.author=i.bytes===String?N.base64.encode(n.author,0,n.author.length):i.bytes===Array?Array.prototype.slice.call(n.author):n.author,i.oneofs&&(s._author="author")),n.signature!=null&&n.hasOwnProperty("signature")&&(s.signature=i.bytes===String?N.base64.encode(n.signature,0,n.signature.length):i.bytes===Array?Array.prototype.slice.call(n.signature):n.signature,i.oneofs&&(s._signature="signature")),n.timeReceived!=null&&n.hasOwnProperty("timeReceived")&&(s.timeReceived=n.timeReceived,i.oneofs&&(s._timeReceived="timeReceived")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pr.util.toJSONOptions)},t}();me.Message=function(){function t(r){if(this.closerPeers=[],this.providerPeers=[],r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.type=null,t.prototype.clusterLevelRaw=null,t.prototype.key=null,t.prototype.record=null,t.prototype.closerPeers=N.emptyArray,t.prototype.providerPeers=N.emptyArray;var e;return Object.defineProperty(t.prototype,"_type",{get:N.oneOfGetter(e=["type"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_clusterLevelRaw",{get:N.oneOfGetter(e=["clusterLevelRaw"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_key",{get:N.oneOfGetter(e=["key"]),set:N.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_record",{get:N.oneOfGetter(e=["record"]),set:N.oneOfSetter(e)}),t.encode=function(n,i){if(i||(i=U2.create()),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&i.uint32(8).int32(n.type),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(18).bytes(n.key),n.record!=null&&Object.hasOwnProperty.call(n,"record")&&i.uint32(26).bytes(n.record),n.closerPeers!=null&&n.closerPeers.length)for(var s=0;s<n.closerPeers.length;++s)me.Message.Peer.encode(n.closerPeers[s],i.uint32(66).fork()).ldelim();if(n.providerPeers!=null&&n.providerPeers.length)for(var s=0;s<n.providerPeers.length;++s)me.Message.Peer.encode(n.providerPeers[s],i.uint32(74).fork()).ldelim();return n.clusterLevelRaw!=null&&Object.hasOwnProperty.call(n,"clusterLevelRaw")&&i.uint32(80).int32(n.clusterLevelRaw),i},t.decode=function(n,i){n instanceof Qn||(n=Qn.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new me.Message;n.pos<s;){var a=n.uint32();switch(a>>>3){case 1:o.type=n.int32();break;case 10:o.clusterLevelRaw=n.int32();break;case 2:o.key=n.bytes();break;case 3:o.record=n.bytes();break;case 8:o.closerPeers&&o.closerPeers.length||(o.closerPeers=[]),o.closerPeers.push(me.Message.Peer.decode(n,n.uint32()));break;case 9:o.providerPeers&&o.providerPeers.length||(o.providerPeers=[]),o.providerPeers.push(me.Message.Peer.decode(n,n.uint32()));break;default:n.skipType(a&7);break}}return o},t.fromObject=function(n){if(n instanceof me.Message)return n;var i=new me.Message;switch(n.type){case"PUT_VALUE":case 0:i.type=0;break;case"GET_VALUE":case 1:i.type=1;break;case"ADD_PROVIDER":case 2:i.type=2;break;case"GET_PROVIDERS":case 3:i.type=3;break;case"FIND_NODE":case 4:i.type=4;break;case"PING":case 5:i.type=5;break}if(n.clusterLevelRaw!=null&&(i.clusterLevelRaw=n.clusterLevelRaw|0),n.key!=null&&(typeof n.key=="string"?N.base64.decode(n.key,i.key=N.newBuffer(N.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.record!=null&&(typeof n.record=="string"?N.base64.decode(n.record,i.record=N.newBuffer(N.base64.length(n.record)),0):n.record.length&&(i.record=n.record)),n.closerPeers){if(!Array.isArray(n.closerPeers))throw TypeError(".Message.closerPeers: array expected");i.closerPeers=[];for(var s=0;s<n.closerPeers.length;++s){if(typeof n.closerPeers[s]!="object")throw TypeError(".Message.closerPeers: object expected");i.closerPeers[s]=me.Message.Peer.fromObject(n.closerPeers[s])}}if(n.providerPeers){if(!Array.isArray(n.providerPeers))throw TypeError(".Message.providerPeers: array expected");i.providerPeers=[];for(var s=0;s<n.providerPeers.length;++s){if(typeof n.providerPeers[s]!="object")throw TypeError(".Message.providerPeers: object expected");i.providerPeers[s]=me.Message.Peer.fromObject(n.providerPeers[s])}}return i},t.toObject=function(n,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.closerPeers=[],s.providerPeers=[]),n.type!=null&&n.hasOwnProperty("type")&&(s.type=i.enums===String?me.Message.MessageType[n.type]:n.type,i.oneofs&&(s._type="type")),n.key!=null&&n.hasOwnProperty("key")&&(s.key=i.bytes===String?N.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(s._key="key")),n.record!=null&&n.hasOwnProperty("record")&&(s.record=i.bytes===String?N.base64.encode(n.record,0,n.record.length):i.bytes===Array?Array.prototype.slice.call(n.record):n.record,i.oneofs&&(s._record="record")),n.closerPeers&&n.closerPeers.length){s.closerPeers=[];for(var o=0;o<n.closerPeers.length;++o)s.closerPeers[o]=me.Message.Peer.toObject(n.closerPeers[o],i)}if(n.providerPeers&&n.providerPeers.length){s.providerPeers=[];for(var o=0;o<n.providerPeers.length;++o)s.providerPeers[o]=me.Message.Peer.toObject(n.providerPeers[o],i)}return n.clusterLevelRaw!=null&&n.hasOwnProperty("clusterLevelRaw")&&(s.clusterLevelRaw=n.clusterLevelRaw,i.oneofs&&(s._clusterLevelRaw="clusterLevelRaw")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pr.util.toJSONOptions)},t.MessageType=function(){var r={},n=Object.create(r);return n[r[0]="PUT_VALUE"]=0,n[r[1]="GET_VALUE"]=1,n[r[2]="ADD_PROVIDER"]=2,n[r[3]="GET_PROVIDERS"]=3,n[r[4]="FIND_NODE"]=4,n[r[5]="PING"]=5,n}(),t.ConnectionType=function(){var r={},n=Object.create(r);return n[r[0]="NOT_CONNECTED"]=0,n[r[1]="CONNECTED"]=1,n[r[2]="CAN_CONNECT"]=2,n[r[3]="CANNOT_CONNECT"]=3,n}(),t.Peer=function(){function r(i){if(this.addrs=[],i)for(var s=Object.keys(i),o=0;o<s.length;++o)i[s[o]]!=null&&(this[s[o]]=i[s[o]])}r.prototype.id=null,r.prototype.addrs=N.emptyArray,r.prototype.connection=null;var n;return Object.defineProperty(r.prototype,"_id",{get:N.oneOfGetter(n=["id"]),set:N.oneOfSetter(n)}),Object.defineProperty(r.prototype,"_connection",{get:N.oneOfGetter(n=["connection"]),set:N.oneOfSetter(n)}),r.encode=function(s,o){if(o||(o=U2.create()),s.id!=null&&Object.hasOwnProperty.call(s,"id")&&o.uint32(10).bytes(s.id),s.addrs!=null&&s.addrs.length)for(var a=0;a<s.addrs.length;++a)o.uint32(18).bytes(s.addrs[a]);return s.connection!=null&&Object.hasOwnProperty.call(s,"connection")&&o.uint32(24).int32(s.connection),o},r.decode=function(s,o){s instanceof Qn||(s=Qn.create(s));for(var a=o===void 0?s.len:s.pos+o,c=new me.Message.Peer;s.pos<a;){var u=s.uint32();switch(u>>>3){case 1:c.id=s.bytes();break;case 2:c.addrs&&c.addrs.length||(c.addrs=[]),c.addrs.push(s.bytes());break;case 3:c.connection=s.int32();break;default:s.skipType(u&7);break}}return c},r.fromObject=function(s){if(s instanceof me.Message.Peer)return s;var o=new me.Message.Peer;if(s.id!=null&&(typeof s.id=="string"?N.base64.decode(s.id,o.id=N.newBuffer(N.base64.length(s.id)),0):s.id.length&&(o.id=s.id)),s.addrs){if(!Array.isArray(s.addrs))throw TypeError(".Message.Peer.addrs: array expected");o.addrs=[];for(var a=0;a<s.addrs.length;++a)typeof s.addrs[a]=="string"?N.base64.decode(s.addrs[a],o.addrs[a]=N.newBuffer(N.base64.length(s.addrs[a])),0):s.addrs[a].length&&(o.addrs[a]=s.addrs[a])}switch(s.connection){case"NOT_CONNECTED":case 0:o.connection=0;break;case"CONNECTED":case 1:o.connection=1;break;case"CAN_CONNECT":case 2:o.connection=2;break;case"CANNOT_CONNECT":case 3:o.connection=3;break}return o},r.toObject=function(s,o){o||(o={});var a={};if((o.arrays||o.defaults)&&(a.addrs=[]),s.id!=null&&s.hasOwnProperty("id")&&(a.id=o.bytes===String?N.base64.encode(s.id,0,s.id.length):o.bytes===Array?Array.prototype.slice.call(s.id):s.id,o.oneofs&&(a._id="id")),s.addrs&&s.addrs.length){a.addrs=[];for(var c=0;c<s.addrs.length;++c)a.addrs[c]=o.bytes===String?N.base64.encode(s.addrs[c],0,s.addrs[c].length):o.bytes===Array?Array.prototype.slice.call(s.addrs[c]):s.addrs[c]}return s.connection!=null&&s.hasOwnProperty("connection")&&(a.connection=o.enums===String?me.Message.ConnectionType[s.connection]:s.connection,o.oneofs&&(a._connection="connection")),a},r.prototype.toJSON=function(){return this.constructor.toObject(this,Pr.util.toJSONOptions)},r}(),t}();Nf.exports=me});var xt=b((QA,Q1)=>{"use strict";var Rx=rn(),{Multiaddr:kx}=Lf(),{Record:Dx}=rr(),W1=M2(),V2=W1.Message.MessageType,Of=W1.Message.ConnectionType,Lx=Object.keys(V2),Zn=class{constructor(e,r,n){if(r&&!(r instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=r,this._clusterLevelRaw=n,this.closerPeers=[],this.providerPeers=[],this.record=void 0}get clusterLevel(){let e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){let e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(Ff),providerPeers:this.providerPeers.map(Ff),record:void 0};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),W1.Message.encode(e).finish()}static deserialize(e){let r=W1.Message.decode(e),n=new Zn(r.type||0,r.key||Uint8Array.from([]),r.clusterLevelRaw||0);return n.closerPeers=r.closerPeers.map(qf),n.providerPeers=r.providerPeers.map(qf),r.record&&r.record.length&&(n.record=Dx.deserialize(r.record)),n}};Zn.TYPES=V2;Zn.CONNECTION_TYPES=Of;function Ff(t){return{id:t.id.id,addrs:(t.multiaddrs||[]).map(r=>r.bytes),connection:Of.CONNECTED}}function qf(t){return{id:new Rx(t.id),multiaddrs:(t.addrs||[]).map(e=>new kx(e))}}Q1.exports.Message=Zn;Q1.exports.MESSAGE_TYPE=V2;Q1.exports.MESSAGE_TYPE_LOOKUP=Lx});var on=b((ZA,Kf)=>{"use strict";var{MESSAGE_TYPE_LOOKUP:Nx}=xt(),Ox=["PUT_VALUE","GET_VALUE","ADD_PROVIDER","GET_PROVIDERS","FIND_NODE","PING"];function Fx(t){return{...t,name:"SENDING_QUERY",type:0,messageName:Nx[t.type],messageType:t.type}}function qx(t){return{...t,name:"PEER_RESPONSE",type:1,messageName:Ox[t.messageType],closer:t.closer?t.closer:[],providers:t.providers?t.providers:[]}}function Kx(t){return{...t,name:"FINAL_PEER",type:2}}function Ux(t){return{...t,name:"QUERY_ERROR",type:3}}function Mx(t){return{...t,name:"PROVIDER",type:4}}function Vx(t){return{...t,name:"VALUE",type:5}}function zx(t){return{...t,name:"ADDING_PEER",type:6}}function $x(t){return{...t,name:"DIALING_PEER",type:7}}Kf.exports={sendingQueryEvent:Fx,peerResponseEvent:qx,finalPeerEvent:Kx,queryErrorEvent:Ux,providerEvent:Mx,valueEvent:Vx,addingPeerEvent:zx,dialingPeerEvent:$x}});var Yf=b((XA,Gf)=>{"use strict";var jx=ie(),{pipe:Uf}=Gn(),z2=R2(),Hx=d1(),Gx=rf(),{Message:Yx,MESSAGE_TYPE_LOOKUP:Mf}=xt(),Wx=ae(),{EventEmitter:Qx}=wt(),{dialingPeerEvent:Vf,sendingQueryEvent:zf,peerResponseEvent:$f,queryErrorEvent:jf}=on(),Hf=class extends Qx{constructor({dialer:e,protocol:r,lan:n}){super();this._log=Wx.logger(`libp2p:kad-dht:${n?"lan":"wan"}:network`),this._running=!1,this._dialer=e,this._protocol=r}start(){this._running||(this._running=!0)}stop(){this._running=!1}get isStarted(){return this._running}async*sendRequest(e,r,n={}){if(!!this._running){this._log("sending %s to %p",Mf[r.type],e);try{yield Vf({peer:e});let{stream:i}=await this._dialer.dialProtocol(e,this._protocol,n);yield zf({to:e,type:r.type});let s=await this._writeReadMessage(i,r.serialize(),n);yield $f({from:e,messageType:s.type,closer:s.closerPeers,providers:s.providerPeers,record:s.record})}catch(i){yield jf({from:e,error:i})}}}async*sendMessage(e,r,n={}){if(!this._running)return;this._log("sending %s to %p",Mf[r.type],e),yield Vf({peer:e});let{stream:i}=await this._dialer.dialProtocol(e,this._protocol,n);yield zf({to:e,type:r.type});try{await this._writeMessage(i,r.serialize(),n),yield $f({from:e,messageType:r.type})}catch(s){yield jf({from:e,error:s})}}async _writeMessage(e,r,n={}){await Uf([r],z2.encode(),e,Hx)}async _writeReadMessage(e,r,n={}){let i=await Uf([r],z2.encode(),e,z2.decode(),async o=>{let a=await Gx(o);if(a)return a.slice()});if(i.length===0)throw jx(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");let s=Yx.deserialize(i);return s.closerPeers.forEach(o=>{this.emit("peer",o)}),s.providerPeers.forEach(o=>{this.emit("peer",o)}),s}};Gf.exports.Network=Hf});var $2=b((JA,Wf)=>{"use strict";var Zx=()=>{let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t};Wf.exports=Zx});var j2=b((eI,Qf)=>{"use strict";var Z1=$2(),Xx=wt().EventEmitter;async function*Jx(t,e={}){let r=e.concurrency||1/0;r<1&&(r=1/0);let n=e.ordered==null?!1:e.ordered,i=new Xx,s=[],o=Z1(),a=Z1(),c=!1,u,f=!1;i.on("task-complete",()=>{a.resolve()}),Promise.resolve().then(async()=>{try{for await(let h of t){if(s.length===r&&(o=Z1(),await o.promise),f)break;let y={done:!1};s.push(y),h().then(g=>{y.done=!0,y.ok=!0,y.value=g,i.emit("task-complete")},g=>{y.done=!0,y.err=g,i.emit("task-complete")})}c=!0,i.emit("task-complete")}catch(h){u=h,i.emit("task-complete")}});function l(){return Boolean(n?s[0]&&s[0].done:s.find(h=>h.done))}function*d(){for(;s.length&&s[0].done;){let h=s[0];if(s.shift(),h.ok)yield h.value;else throw f=!0,o.resolve(),h.err;o.resolve()}}function*p(){for(;l();)for(let h=0;h<s.length;h++)if(s[h].done){let y=s[h];if(s.splice(h,1),h--,y.ok)yield y.value;else throw f=!0,o.resolve(),y.err;o.resolve()}}for(;;){if(l()||(a=Z1(),await a.promise),u)throw u;if(n?yield*d():yield*p(),c&&s.length===0)break}}Qf.exports=Jx});var X1=b((tI,Zf)=>{"use strict";var ew=async function*(t,e){for await(let r of t)yield e(r)};Zf.exports=ew});var rl=b((rI,tl)=>{"use strict";var H2=ie(),{equals:G2}=(Zt(),Qt),{toString:tw}=(de(),ge),Y2=rr(),{ALPHA:rw}=Mt(),Rr=ae(),r0=Y2.Record,nw=j2(),iw=X1(),{valueEvent:Xf,queryErrorEvent:Jf}=on(),{Message:J1}=xt(),{pipe:sw}=Gn(),el=class{constructor({peerId:e,records:r,validators:n,selectors:i,peerRouting:s,queryManager:o,routingTable:a,network:c,lan:u}){this._log=Rr.logger(`libp2p:kad-dht:${u?"lan":"wan"}:content-fetching`),this._peerId=e,this._records=r,this._validators=n,this._selectors=i,this._peerRouting=s,this._queryManager=o,this._routingTable=a,this._network=c}async putLocal(e,r){return this._records.put(Rr.bufferToKey(e),r)}async getLocal(e){this._log(`getLocal ${tw(e,"base32")}`);let r=Rr.bufferToKey(e);this._log(`fetching record for key ${r}`);let n=await this._records.get(r);this._log(`found ${r} in local datastore`);let i=r0.deserialize(n);return await Y2.validator.verifyRecord(this._validators,i),i}async*sendCorrectionRecord(e,r,n,i={}){this._log("sendCorrection for %b",e);let s=await Rr.createPutRecord(e,n);for(let{value:o,from:a}of r){if(G2(o,n)){this._log("record was ok");continue}if(this._peerId.equals(a)){try{let f=Rr.bufferToKey(e);this._log(`Storing corrected record for key ${f}`),await this._records.put(f,s)}catch(f){this._log.error("Failed error correcting self",f)}continue}let c=!1,u=new J1(J1.TYPES.PUT_VALUE,e,0);u.record=r0.deserialize(s);for await(let f of this._network.sendRequest(a,u,i))f.name==="PEER_RESPONSE"&&f.record&&G2(f.record.value,r0.deserialize(s).value)&&(c=!0),yield f;c||(yield Jf({from:a,error:H2(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")})),this._log.error("Failed error correcting entry")}}async*put(e,r,n={}){this._log("put key %b value %b",e,r);let i=await Rr.createPutRecord(e,r),s=Rr.bufferToKey(e);this._log(`storing record for key ${s}`),await this._records.put(s,i),yield*sw(this._peerRouting.getClosestPeers(e,{signal:n.signal}),o=>iw(o,a=>async()=>{if(a.name!=="FINAL_PEER")return[a];let c=[],u=new J1(J1.TYPES.PUT_VALUE,e,0);u.record=r0.deserialize(i);for await(let f of this._network.sendRequest(a.peer.id,u,n))c.push(f),f.name==="PEER_RESPONSE"&&(f.record&&G2(f.record.value,r0.deserialize(i).value)||c.push(Jf({from:a.peer.id,error:H2(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")})));return c}),o=>nw(o,{ordered:!1,concurrency:rw}),async function*(o){for await(let a of o)yield*a})}async*get(e,r={}){this._log("get %b",e);let n=[];for await(let a of this.getMany(e,r))a.name==="VALUE"&&n.push(a),yield a;if(!n.length)return;let i=n.map(a=>a.value),s=0;try{s=Y2.selection.bestRecord(this._selectors,e,i)}catch(a){if(a.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw a}let o=i[s];if(this._log("GetValue %b %b",e,o),!o)throw H2(new Error("best value was not found"),"ERR_NOT_FOUND");yield*this.sendCorrectionRecord(e,n,o,r),yield n[s]}async*getMany(e,r={}){this._log("getMany values for %t",e);try{let a=await this.getLocal(e);yield Xf({value:a.value,from:this._peerId})}catch(a){this._log("error getting local value for %b",e,a)}let n=await Rr.convertBuffer(e),i=this._routingTable.closestPeers(n);this._log("found %d peers in routing table",i.length);let s=this,o=async function*({peer:a,signal:c}){for await(let u of s._peerRouting.getValueOrPeers(a,e,{signal:c}))yield u,u.name==="PEER_RESPONSE"&&u.record&&(yield Xf({from:a,value:u.record.value}))};yield*this._queryManager.run(e,i,o,r)}};tl.exports.ContentFetching=el});var ol=b((nI,sl)=>{"use strict";var{Message:es}=xt(),ow=j2(),aw=X1(),{convertBuffer:cw,logger:uw}=ae(),{ALPHA:fw}=Mt(),{pipe:lw}=Gn(),{queryErrorEvent:hw,peerResponseEvent:dw,providerEvent:nl}=on(),{Message:{MessageType:pw}}=M2(),il=class{constructor({peerId:e,network:r,peerRouting:n,queryManager:i,routingTable:s,providers:o,peerStore:a,lan:c}){this._log=uw(`libp2p:kad-dht:${c?"lan":"wan"}:content-routing`),this._peerId=e,this._network=r,this._peerRouting=n,this._queryManager=i,this._routingTable=s,this._providers=o,this._peerStore=a}async*provide(e,r,n={}){this._log("provide %s",e),await this._providers.addProvider(e,this._peerId);let i=new es(es.TYPES.ADD_PROVIDER,e.bytes,0);i.providerPeers=[{id:this._peerId,multiaddrs:r}];let s=0,o=a=>async()=>{if(a.name!=="FINAL_PEER")return[a];let c=[];this._log("putProvider %s to %p",e,a.peer.id);try{this._log("sending provider record for %s to %p",e,a.peer.id);for await(let u of this._network.sendMessage(a.peer.id,i,n))u.name==="PEER_RESPONSE"&&(this._log("sent provider record for %s to %p",e,a.peer.id),s++),c.push(u)}catch(u){this._log.error("error sending provide record to peer %p",a.peer.id,u),c.push(hw({from:a.peer.id,error:u}))}return c};yield*lw(this._peerRouting.getClosestPeers(e.multihash.bytes,n),a=>aw(a,c=>o(c)),a=>ow(a,{ordered:!1,concurrency:fw}),async function*(a){for await(let c of a)yield*c}),this._log("sent provider records to %d peers",s)}async*findProviders(e,r={maxNumProviders:5}){let n=r.maxNumProviders||this._routingTable._kBucketSize,i=e.multihash.bytes,s=await cw(i),o=this;this._log(`findProviders ${e}`);let a=await this._providers.getProviders(e);if(a.length){let f=a.slice(0,n).map(l=>({id:l,multiaddrs:(this._peerStore.addressBook.get(l)||[]).map(d=>d.multiaddr)}));yield dw({from:this._peerId,messageType:pw.GET_PROVIDERS,providers:f}),yield nl({from:this._peerId,providers:f})}if(a.length>=n)return;let c=async function*({peer:f,signal:l}){let d=new es(es.TYPES.GET_PROVIDERS,i,0);yield*o._network.sendRequest(f,d,{signal:l})},u=new Set(a.map(f=>f.toB58String()));for await(let f of this._queryManager.run(i,this._routingTable.closestPeers(s),c,r))if(yield f,f.name==="PEER_RESPONSE"){this._log(`Found ${f.providers.length} provider entries for ${e} and ${f.closer.length} closer peers`);let l=[];for(let d of f.providers)u.has(d.id.toB58String())||(u.add(d.id.toB58String()),l.push(d));if(l.length&&(yield nl({from:f.from,providers:l})),u.size===n)return}}};sl.exports.ContentRouting=il});var cl=b((iI,al)=>{"use strict";al.exports=(t,e=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof t!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(e===0)return t;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(n,r.indent.repeat(e))}});var ul=b(()=>{});var dl=b((aI,hl)=>{"use strict";var fl=ul(),ll=/\s+at.*(?:\(|\s)(.*)\)?/,yw=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,gw=typeof fl.homedir=="undefined"?"":fl.homedir();hl.exports=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(ll);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!yw.test(i)}).filter(r=>r.trim()!=="").map(r=>e.pretty?r.replace(ll,(n,i)=>n.replace(i,i.replace(gw,"~"))):r).join(`
`))});var gl=b((cI,yl)=>{"use strict";var vw=cl(),mw=dl(),bw=t=>t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),pl=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=e.map(n=>typeof n.stack=="string"?bw(mw(n.stack)):String(n)).join(`
`);r=`
`+vw(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}};yl.exports=pl});var ml=b((uI,vl)=>{"use strict";var xw=gl();vl.exports=async(t,e,{concurrency:r=1/0,stopOnError:n=!0}={})=>new Promise((i,s)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===1/0)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let o=[],a=[],c=t[Symbol.iterator](),u=!1,f=!1,l=0,d=0,p=()=>{if(u)return;let h=c.next(),y=d;if(d++,h.done){f=!0,l===0&&(!n&&a.length!==0?s(new xw(a)):i(o));return}l++,(async()=>{try{let g=await h.value;o[y]=await e(g,y),l--,p()}catch(g){n?(u=!0,s(g)):(a.push(g),l--,p())}})()};for(let h=0;h<r&&(p(),!f);h++);})});var bl={};ce(bl,{compare:()=>ww});function ww(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var xl=F(()=>{});var Al=b((fI,Bl)=>{"use strict";var wl=ae(),Ew=ml(),{compare:El}=(xl(),bl),{xor:_l}=(q1(),F1),Sl=class{constructor(e,r){this.originDhtKey=e,this.capacity=r,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(i=>i.peerId.equals(e)))return;let r=await wl.convertPeerId(e),n={peerId:e,distance:_l(this.originDhtKey,r)};this.peerDistances.push(n),this.peerDistances.sort((i,s)=>El(i.distance,s.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;let r=await Ew(e,i=>wl.convertPeerId(i)),n=this.peerDistances[this.peerDistances.length-1].distance;for(let i of r){let s=_l(this.originDhtKey,i);if(El(s,n)<0)return!0}return!1}};Bl.exports=Sl});var Pl=b((lI,Tl)=>{"use strict";var ts=ie(),{validator:_w}=rr(),Sw=rn(),{toString:Bw}=(de(),ge),{Message:Xn}=xt(),n0=ae(),{queryErrorEvent:Il,finalPeerEvent:rs,valueEvent:Aw}=on(),Iw=Al(),{Record:Cw}=rr(),Cl=class{constructor({peerId:e,routingTable:r,peerStore:n,network:i,validators:s,queryManager:o,lan:a}){this._peerId=e,this._routingTable=r,this._peerStore=n,this._network=i,this._validators=s,this._queryManager=o,this._log=n0.logger(`libp2p:kad-dht:${a?"lan":"wan"}:peer-routing`)}async findPeerLocal(e){let r,n=await this._routingTable.find(e);if(n&&(this._log("findPeerLocal found %p in routing table",e),r=this._peerStore.get(n)),r||(r=this._peerStore.get(e)),r)return this._log("findPeerLocal found %p in peer store",e),{id:r.id,multiaddrs:r.addresses.map(i=>i.multiaddr)}}async*_getValueSingle(e,r,n={}){let i=new Xn(Xn.TYPES.GET_VALUE,r,0);yield*this._network.sendRequest(e,i,n)}async*getPublicKeyFromNode(e,r){let n=n0.keyForPublicKey(e);for await(let i of this._getValueSingle(e,n,r))if(yield i,i.name==="PEER_RESPONSE"&&i.record){let s=await Sw.createFromPubKey(i.record.value);if(!s.equals(e))throw ts(new Error("public key does not match id"),"ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");yield Aw({from:e,value:s.pubKey.bytes})}throw ts(new Error(`Node not responding with its public key: ${e.toB58String()}`),"ERR_INVALID_RECORD")}async*findPeer(e,r={}){this._log("findPeer %p",e);let n=await this.findPeerLocal(e);if(n!=null){this._log("found local"),yield rs({from:this._peerId,peer:n});return}let i=await n0.convertPeerId(e),s=this._routingTable.closestPeers(i);if(s.find(f=>f.equals(e))){let f=this._peerStore.get(e);if(f){this._log("found in peerStore"),yield rs({from:this._peerId,peer:{id:f.id,multiaddrs:f.addresses.map(l=>l.multiaddr)}});return}}let a=this,c=async function*({peer:f,signal:l}){let d=new Xn(Xn.TYPES.FIND_NODE,e.toBytes(),0);for await(let p of a._network.sendRequest(f,d,{signal:l}))if(yield p,p.name==="PEER_RESPONSE"){let h=p.closer.find(y=>y.id.equals(e));h&&(yield rs({from:p.from,peer:h}))}},u=!1;for await(let f of this._queryManager.run(e.id,s,c,r))f.name==="FINAL_PEER"&&(u=!0),yield f;u||(yield Il({from:this._peerId,error:ts(new Error("Not found"),"ERR_NOT_FOUND")}))}async*getClosestPeers(e,r={}){this._log("getClosestPeers to %b",e);let n=await n0.convertBuffer(e),i=this._routingTable.closestPeers(n),s=this,o=new Iw(n,this._routingTable._kBucketSize);i.forEach(c=>o.add(c));let a=async function*({peer:c,signal:u}){s._log("closerPeersSingle %s from %p",Bw(e,"base32"),c);let f=new Xn(Xn.TYPES.FIND_NODE,e,0);yield*s._network.sendRequest(c,f,{signal:u})};for await(let c of this._queryManager.run(e,i,a,r))yield c,c.name==="PEER_RESPONSE"&&c.closer.forEach(u=>{o.add(u.id)});this._log("found %d peers close to %b",o.length,e),yield*o.peers.map(c=>rs({from:this._peerId,peer:{id:c,multiaddrs:(this._peerStore.addressBook.get(c)||[]).map(u=>u.multiaddr)}}))}async*getValueOrPeers(e,r,n={}){for await(let i of this._getValueSingle(e,r,n)){if(i.name==="PEER_RESPONSE"&&i.record)try{await this._verifyRecordOnline(i.record)}catch(s){let o="invalid record received, discarded";this._log(o),yield Il({from:i.from,error:ts(new Error(o),"ERR_INVALID_RECORD")});continue}yield i}}async _verifyRecordOnline({key:e,value:r,timeReceived:n}){await _w.verifyRecord(this._validators,new Cw(e,r,n))}async getCloserPeersOffline(e,r){let n=await n0.convertBuffer(e),s=this._routingTable.closestPeers(n).map(o=>{let a=this._peerStore.get(o);return{id:o,multiaddrs:a?a.addresses.map(c=>c.multiaddr):[]}}).filter(o=>!o.id.equals(r));return s.length?this._log("getCloserPeersOffline found %d peer(s) closer to %b than %p",s.length,e,r):this._log("getCloserPeersOffline could not find peer closer to %b than %p",e,r),s}};Tl.exports.PeerRouting=Cl});var kl=b((hI,Rl)=>{Rl.exports=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,r=Object.create(null),n=Object.create(null);function i(s,o){r[s]=o,e++,e>=t&&(e=0,n=r,r=Object.create(null))}return{has:function(s){return r[s]!==void 0||n[s]!==void 0},remove:function(s){r[s]!==void 0&&(r[s]=void 0),n[s]!==void 0&&(n[s]=void 0)},get:function(s){var o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set:function(s,o){r[s]!==void 0?r[s]=o:i(s,o)},clear:function(){r=Object.create(null),n=Object.create(null)}}}});var Kl=b((dI,ql)=>{"use strict";var Tw=kl(),Dl=nn(),Pw=rn(),{Key:Rw}=(Br(),g1),{default:kw}=R1(),{PROVIDERS_CLEANUP_INTERVAL:Dw,PROVIDERS_VALIDITY:Lw,PROVIDERS_LRU_CACHE_SIZE:Nw,PROVIDER_KEY_PREFIX:Ll}=Mt(),Ow=ae(),{toString:Fw}=(de(),ge),kr=Ow.logger("libp2p:kad-dht:providers"),Nl=class{constructor({providers:e,cacheSize:r,cleanupInterval:n,provideValidity:i}){this.datastore=e,this.cleanupInterval=n||Dw,this.provideValidity=i||Lw,this.cache=Tw(r||Nw),this.syncQueue=new kw({concurrency:1})}start(){this._started||(this._started=!0,this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval))}stop(){this._started=!1,this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add(async()=>{let e=Date.now(),r=0,n=0,i=new Map,s=this.datastore.batch(),o=this.datastore.query({prefix:Ll});for await(let a of o)try{let{cid:c,peerId:u}=Ol(a.key),f=Fl(a.value),l=Date.now(),d=l-f,p=d>this.provideValidity;if(kr("comparing: %d - %d = %d > %d %s",l,f,d,this.provideValidity,p?"(expired)":""),p){n++,s.delete(a.key);let h=i.get(c)||new Set;h.add(u),i.set(c,h)}r++}catch(c){kr.error(c.message)}i.size?(kr("deleting %d / %d entries",n,r),await s.commit()):kr("nothing to delete");for(let[a,c]of i){let u=i0(a),f=this.cache.get(u);if(f){for(let l of c)f.delete(l);f.size===0?this.cache.remove(u):this.cache.set(u,f)}}kr("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){let r=i0(e),n=this.cache.get(r);return n||(n=await Kw(this.datastore,e),this.cache.set(r,n)),n}async addProvider(e,r){return this.syncQueue.add(async()=>{kr("%p provides %s",r,e);let n=await this._getProvidersMap(e);kr("loaded %s provs",n.size);let i=new Date;n.set(r.toString(),i);let s=i0(e);return this.cache.set(s,n),qw(this.datastore,e,r,i)})}async getProviders(e){return this.syncQueue.add(async()=>(kr("get providers for %s",e),[...(await this._getProvidersMap(e)).keys()].map(n=>Pw.parse(n))))}};function i0(t){return t=typeof t=="string"?t:Fw(t.multihash.bytes,"base32"),`${Ll}/${t}`}async function qw(t,e,r,n){let i=[i0(e),"/",r.toString()].join(""),s=new Rw(i),o=Uint8Array.from(Dl.encode(n.getTime()));return t.put(s,o)}function Ol(t){let e=t.toString().split("/");if(e.length!==5)throw new Error("incorrectly formatted provider entry key in datastore: "+t);return{cid:e[3],peerId:e[4]}}async function Kw(t,e){let r=new Map,n=t.query({prefix:i0(e)});for await(let i of n){let{peerId:s}=Ol(i.key);r.set(s,Fl(i.value))}return r}function Fl(t){return Dl.decode(t)}ql.exports.Providers=Nl});var ns=b((pI,W2)=>{var{AbortController:Uw}=L1();function Ul(t){let e=new Uw;function r(){e.abort();for(let n of t)!n||!n.removeEventListener||n.removeEventListener("abort",r)}for(let n of t)if(!(!n||!n.addEventListener)){if(n.aborted){r();break}n.addEventListener("abort",r)}return e.signal}W2.exports=Ul;W2.exports.anySignal=Ul});var Hl=b((yI,jl)=>{"use strict";var{default:Mw}=R1(),{xor:Ml}=(q1(),F1),{toString:Vl}=(de(),ge),zl=$2(),Vw=ie(),{convertPeerId:$l,convertBuffer:zw}=ae(),{TimeoutController:$w}=jn(),{anySignal:jw}=ns(),{queryErrorEvent:Hw}=on(),Gw=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF");jl.exports.queryPath=async function*({key:e,startingPeer:r,ourPeerId:n,signal:i,query:s,alpha:o,pathIndex:a,numPaths:c,cleanUp:u,queryFuncTimeout:f,log:l}){let d=new Mw({concurrency:o}),p=await zw(e),h=new Set;function y(g,v){if(!g)return;h.add(g.toB58String());let x=BigInt("0x"+Vl(Ml(v,p),"base16"));d.add(async()=>{let S,k=[i];f!=null&&(S=new $w(f),k.push(S.signal));let T=jw(k);try{for await(let C of s({key:e,peer:g,signal:T,pathIndex:a,numPaths:c})){if(T.aborted)return;if(C.name==="PEER_RESPONSE")for(let q of C.closer){if(h.has(q.id.toB58String())){l("already seen %p in query",q.id);continue}if(n.equals(q.id)){l("not querying ourselves");continue}let V=await $l(q.id);if(BigInt("0x"+Vl(Ml(V,p),"base16"))>x){l("skipping %p as they are not closer to %b than %p",q.id,e,g);continue}l("querying closer peer %p",q.id),y(q.id,V)}d.emit("completed",C)}S&&S.clear()}catch(C){i.aborted?d.emit("error",C):d.emit("completed",Hw({from:g,error:C}))}finally{S&&S.clear()}},{priority:Gw-x})}y(r,await $l(r)),yield*Yw(d,i,u,l)};async function*Yw(t,e,r,n){let i=zl(),s=!0,o=[],a=()=>{!s||(n("clean up queue, results %d, queue size %d, pending tasks %d",o.length,t.size,t.pending),s=!1,t.clear(),o.splice(0,o.length))};for(t.on("completed",c=>{o.push(c),i.resolve()}),t.on("error",c=>{n("queue error",c),a(),i.reject(c)}),t.on("idle",()=>{n("queue idle"),s=!1,i.resolve()}),e.addEventListener("abort",()=>{n("abort queue");let c=s;a(),c&&i.reject(Vw(new Error("Query aborted"),"ERR_QUERY_ABORTED"))}),r.on("cleanup",()=>{a(),i.resolve()});s;)for(await i.promise,i=zl();o.length;){let c=o.shift();c&&(yield c)}yield*o}});var Yl=b((vI,Gl)=>{Gl.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var Zl=b((bI,Ql)=>{var Wl=Yl();Ql.exports=class{constructor(e){this.hwm=e||16,this.head=new Wl(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new Wl(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var Z2=b((xI,Xl)=>{var Q2=Zl();Xl.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new Q2,n,i,s,o=()=>{if(!r.isEmpty()){if(t.writev){let y,g=[];for(;!r.isEmpty();){if(y=r.shift(),y.error)throw y.error;g.push(y.value)}return{done:y.done,value:g}}let h=r.shift();if(h.error)throw h.error;return h}return s?{done:!0}:new Promise((h,y)=>{i=g=>(i=null,g.error?y(g.error):t.writev&&!g.done?h({done:g.done,value:[g.value]}):h(g),n)})},a=h=>i?i(h):(r.push(h),n),c=h=>(r=new Q2,i?i({error:h}):(r.push({error:h}),n)),u=h=>s?n:a({done:!1,value:h}),f=h=>s?n:(s=!0,h?c(h):a({done:!0})),l=()=>(r=new Q2,f(),{done:!0}),d=h=>(f(h),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:o,return:l,throw:d,push:u,end:f},!e)return n;let p=n;return n={[Symbol.asyncIterator](){return this},next(){return p.next()},throw(h){return p.throw(h),e&&(e(h),e=null),{done:!0}},return(){return p.return(),e&&(e(),e=null),{done:!0}},push:u,end(h){return p.end(h),e&&(e(h),e=null),n}},n}});var is=b((wI,Jl)=>{"use strict";var Ww=Z2(),Qw=async function*(...t){let e=Ww();setTimeout(async()=>{try{await Promise.all(t.map(async r=>{for await(let n of r)e.push(n)})),e.end()}catch(r){e.end(r)}},0),yield*e};Jl.exports=Qw});var o7=b((EI,s7)=>{"use strict";var{AbortController:Zw}=L1(),{TimeoutController:Xw}=jn(),{anySignal:Jw}=ns(),{ALPHA:e7,K:t7,DEFAULT_QUERY_TIMEOUT:eE}=Mt(),{toString:tE}=(de(),ge),{logger:rE}=ae(),{queryPath:nE}=Hl(),iE=is(),{EventEmitter:sE,setMaxListeners:r7}=wt(),n7="running-queries",i7=class{constructor({peerId:e,lan:r,metrics:n,disjointPaths:i=t7,alpha:s=e7}){this._peerId=e,this._disjointPaths=i||t7,this._controllers=new Set,this._running=!1,this._alpha=s||e7,this._lan=r,this._metrics=n,this._queries=0}start(){this._running=!0}stop(){this._running=!1;for(let e of this._controllers)e.abort();this._controllers.clear()}async*run(e,r,n,i={}){if(!this._running)throw new Error("QueryManager not started");let s;i.signal||(s=new Xw(eE),i.signal=s.signal);let o=new Zw;this._controllers.add(o);let a=[o.signal];i.signal&&a.push(i.signal);let c=Jw(a);try{r7&&r7(0,c)}catch{}let u=rE(`libp2p:kad-dht:${this._lan?"lan":"wan"}:query:`+tE(e,"base58btc")),f=r.slice(0,Math.min(this._disjointPaths,r.length)),l=Date.now(),d=new sE;try{if(u("query:start"),this._queries++,this._metrics&&this._metrics.updateComponentMetric(`kad-dht-${this._lan?"lan":"wan"}`,n7,this._queries),r.length===0){u.error("Running query with no peers");return}let p=f.map((h,y)=>nE({key:e,startingPeer:h,ourPeerId:this._peerId,signal:c,query:n,pathIndex:y,numPaths:f.length,alpha:this._alpha,cleanUp:d,queryFuncTimeout:i.queryFuncTimeout,log:u}));for await(let h of iE(...p))yield h,h.name==="QUERY_ERROR"&&h.error&&u("error",h.error)}catch(p){if(!(!this._running&&p.code==="ERR_QUERY_ABORTED"))throw p}finally{this._controllers.delete(o),s&&s.clear(),this._queries--,this._metrics&&this._metrics.updateComponentMetric(`kad-dht-${this._lan?"lan":"wan"}`,n7,this._queries),d.emit("cleanup"),u(`query:done in ${Date.now()-(l||0)}ms`)}}};s7.exports.QueryManager=i7});var f7=b((_I,u7)=>{"use strict";var{CID:oE}=(Kr(),vn),a7=ie(),aE=ae(),s0=aE.logger("libp2p:kad-dht:rpc:handlers:add-provider"),c7=class{constructor({peerId:e,providers:r,peerStore:n}){this._peerId=e,this._providers=r,this._peerStore=n}async handle(e,r){if(s0("start"),!r.key||r.key.length===0)throw a7(new Error("Missing key"),"ERR_MISSING_KEY");let n;try{n=oE.decode(r.key)}catch(i){let s=`Invalid CID: ${i.message}`;throw a7(new Error(s),"ERR_INVALID_CID")}(!r.providerPeers||!r.providerPeers.length)&&s0.error("no providers found in message"),await Promise.all(r.providerPeers.map(async i=>{if(!i.id.equals(e)){s0("invalid provider peer %p from %p",i.id,e);return}if(i.multiaddrs.length<1){s0("no valid addresses for provider %p. Ignore",e);return}s0("received provider %p for %s (addrs %s)",e,n,i.multiaddrs.map(s=>s.toString())),this._peerId.equals(i.id)||(this._peerStore.addressBook.add(i.id,i.multiaddrs),await this._providers.addProvider(n,i.id))}))}};u7.exports.AddProviderHandler=c7});var p7=b((SI,d7)=>{"use strict";var{Message:cE}=xt(),uE=ae(),l7=uE.logger("libp2p:kad-dht:rpc:handlers:find-node"),{removePrivateAddresses:fE,removePublicAddresses:lE}=ae(),h7=class{constructor({peerId:e,addressable:r,peerRouting:n,lan:i}){this._peerId=e,this._addressable=r,this._peerRouting=n,this._lan=Boolean(i)}async handle(e,r){l7("incoming request from %p for peers closer to %b",e,r.key);let n;this._peerId.equals(r.key)?n=[{id:this._peerId,multiaddrs:this._addressable.multiaddrs}]:n=await this._peerRouting.getCloserPeersOffline(r.key,e),n=n.map(this._lan?lE:fE).filter(({multiaddrs:s})=>s.length);let i=new cE(r.type,new Uint8Array(0),r.clusterLevel);return n.length>0?i.closerPeers=n:l7("could not find any peers closer to %p",e),i}};d7.exports.FindNodeHandler=h7});var m7=b((BI,v7)=>{"use strict";var{CID:hE}=(Kr(),vn),dE=ie(),{Message:pE}=xt(),yE=ae(),y7=yE.logger("libp2p:kad-dht:rpc:handlers:get-providers"),{removePrivateAddresses:gE,removePublicAddresses:vE}=ae(),g7=class{constructor({peerId:e,peerRouting:r,providers:n,peerStore:i,addressable:s,lan:o}){this._peerId=e,this._peerRouting=r,this._providers=n,this._peerStore=i,this._addressable=s,this._lan=Boolean(o)}async handle(e,r){let n;try{n=hE.decode(r.key)}catch(u){throw dE(new Error(`Invalid CID: ${u.message}`),"ERR_INVALID_CID")}y7("%p asking for providers for %s",e,n);let[i,s]=await Promise.all([this._providers.getProviders(n),this._peerRouting.getCloserPeersOffline(r.key,e)]),o=this._getPeers(i),a=this._getPeers(s.map(({id:u})=>u)),c=new pE(r.type,r.key,r.clusterLevel);return o.length>0&&(c.providerPeers=o),a.length>0&&(c.closerPeers=a),y7("got %s providers %s closerPeers",o.length,a.length),c}_getAddresses(e){return this._peerId.equals(e)?this._addressable.multiaddrs:(this._peerStore.addressBook.get(e)||[]).map(r=>r.multiaddr)}_getPeers(e){return e.map(r=>({id:r,multiaddrs:this._getAddresses(r)})).map(this._lan?vE:gE).filter(({multiaddrs:r})=>r.length)}};v7.exports.GetProvidersHandler=g7});var S7=b((AI,_7)=>{"use strict";var{Record:b7}=rr(),x7=ie(),{Message:w7}=xt(),{MAX_RECORD_AGE:mE}=Mt(),ss=ae(),Jn=ss.logger("libp2p:kad-dht:rpc:handlers:get-value"),E7=class{constructor({peerId:e,peerStore:r,peerRouting:n,records:i}){this._peerId=e,this._peerStore=r,this._peerRouting=n,this._records=i}async handle(e,r){let n=r.key;if(Jn("%p asked for key %b",e,n),!n||n.length===0)throw x7(new Error("Invalid key"),"ERR_INVALID_KEY");let i=new w7(w7.TYPES.GET_VALUE,n,r.clusterLevel);if(ss.isPublicKeyKey(n)){Jn("is public key");let a=ss.fromPublicKeyKey(n),c;if(this._peerId.equals(a))c=this._peerId;else{let u=this._peerStore.get(a);c=u&&u.id}if(c&&c.pubKey)return Jn("returning found public key"),i.record=new b7(n,c.pubKey.bytes),i}let[s,o]=await Promise.all([this._checkLocalDatastore(n),this._peerRouting.getCloserPeersOffline(r.key,e)]);return s&&(Jn("had record for %b in local datastore",n),i.record=s),o.length>0&&(Jn("had %s closer peers in routing table",o.length),i.closerPeers=o),i}async _checkLocalDatastore(e){Jn("checkLocalDatastore looking for %b",e);let r=ss.bufferToKey(e),n;try{n=await this._records.get(r)}catch(s){if(s.code==="ERR_NOT_FOUND")return;throw s}let i=b7.deserialize(n);if(!i)throw x7(new Error("Invalid record"),"ERR_INVALID_RECORD");if(i.timeReceived==null||Date.now()-i.timeReceived.getTime()>mE){await this._records.delete(r);return}return i}};_7.exports.GetValueHandler=E7});var I7=b((II,A7)=>{"use strict";var bE=ae(),xE=bE.logger("libp2p:kad-dht:rpc:handlers:ping"),B7=class{async handle(e,r){return xE(`ping from ${e}`),r}};A7.exports.PingHandler=B7});var k7=b((CI,R7)=>{"use strict";var C7=ae(),wE=ie(),EE=rr(),T7=C7.logger("libp2p:kad-dht:rpc:handlers:put-value"),P7=class{constructor({validators:e,records:r}){this._validators=e,this._records=r}async handle(e,r){let n=r.key;T7("%p asked to store value for key %b",e,n);let i=r.record;if(!i){let o=`Empty record from: ${e.toB58String()}`;throw T7.error(o),wE(new Error(o),"ERR_EMPTY_RECORD")}await EE.validator.verifyRecord(this._validators,i),i.timeReceived=new Date;let s=C7.bufferToKey(i.key);return await this._records.put(s,i.serialize()),r}};R7.exports.PutValueHandler=P7});var L7=b((TI,D7)=>{"use strict";var{Message:ei}=xt(),{AddProviderHandler:_E}=f7(),{FindNodeHandler:SE}=p7(),{GetProvidersHandler:BE}=m7(),{GetValueHandler:AE}=S7(),{PingHandler:IE}=I7(),{PutValueHandler:CE}=k7();D7.exports=({peerId:t,providers:e,peerStore:r,addressable:n,peerRouting:i,records:s,validators:o,lan:a})=>{let c={[ei.TYPES.GET_VALUE]:new AE({peerId:t,peerStore:r,peerRouting:i,records:s}),[ei.TYPES.PUT_VALUE]:new CE({validators:o,records:s}),[ei.TYPES.FIND_NODE]:new SE({peerId:t,addressable:n,peerRouting:i,lan:a}),[ei.TYPES.ADD_PROVIDER]:new _E({peerId:t,providers:e,peerStore:r}),[ei.TYPES.GET_PROVIDERS]:new BE({peerId:t,peerRouting:i,providers:e,peerStore:r,addressable:n,lan:a}),[ei.TYPES.PING]:new IE};function u(f){return c[f]}return u}});var q7=b((PI,F7)=>{"use strict";var{pipe:TE}=Gn(),N7=R2(),{Message:PE,MESSAGE_TYPE_LOOKUP:RE}=xt(),kE=L7(),DE=ae(),os=DE.logger("libp2p:kad-dht:rpc"),O7=class{constructor(e){this._messageHandler=kE(e),this._routingTable=e.routingTable}async handleMessage(e,r){let n=this._messageHandler(r.type);try{await this._routingTable.add(e)}catch(i){os.error("Failed to update the kbucket store",i)}if(!n){os.error(`no handler found for message type: ${r.type}`);return}return n.handle(e,r)}async onIncomingStream({stream:e,connection:r}){let n=r.remotePeer;try{await this._routingTable.add(n)}catch(s){os.error(s)}let i=this;await TE(e.source,N7.decode(),s=>async function*(){for await(let o of s){let a=PE.deserialize(o.slice());os("incoming %s from %p",RE[a.type],n);let c=await i.handleMessage(n,a);c&&(yield c.serialize())}}(),N7.encode(),e.sink)}};F7.exports.RPC=O7});var z7=b((RI,V7)=>{"use strict";var K7=()=>{},U7=Symbol.for("@libp2p/js-interfaces/topology"),M7=class{constructor({min:e=0,max:r=1/0,handlers:n={}}){this.min=e,this.max=r,this._onConnect=n.onConnect||K7,this._onDisconnect=n.onDisconnect||K7,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[U7](){return!0}static isTopology(e){return Boolean(e&&e[U7])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};V7.exports=M7});var G7=b((kI,H7)=>{"use strict";var LE=z7(),$7=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),j7=class extends LE{constructor({min:e,max:r,multicodecs:n,handlers:i}){super({min:e,max:r,handlers:i});if(!n)throw new Error("one or more multicodec should be provided");if(!i)throw new Error("the handlers should be provided");if(typeof i.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof i.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[$7](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[$7])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:n}of e)if(this.multicodecs.filter(i=>n.includes(i)).length){this.peers.add(r.toB58String());let i=this._registrar.getConnection(r);i&&this._onConnect(r,i)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let n=this.peers.has(e.toB58String()),i=r.filter(s=>this.multicodecs.includes(s));n&&i.length===0&&this._onDisconnect(e);for(let s of r)if(this.multicodecs.includes(s)){let o=this._registrar.peerStore.get(e);this._updatePeers([o]);return}}_onPeerConnect(e){let r=e.remotePeer,n=this._registrar.peerStore.protoBook.get(r);!n||this.multicodecs.find(i=>n.includes(i))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};H7.exports=j7});var Q7=b((DI,W7)=>{"use strict";var NE=G7(),{EventEmitter:OE}=wt(),FE=ae(),Y7=class extends OE{constructor({registrar:e,protocol:r,lan:n}){super();this._log=FE.logger(`libp2p:kad-dht:topology-listener:${n?"lan":"wan"}:network`),this._running=!1,this._registrar=e,this._protocol=r}start(){if(this._running)return;this._running=!0;let e=new NE({multicodecs:[this._protocol],handlers:{onConnect:r=>{this._log("observed peer that with protocol %s %p",this._protocol,r),this.emit("peer",r)},onDisconnect:()=>{}}});this._registrarId=this._registrar.register(e)}stop(){this._running=!1,this._registrarId&&this._registrar.unregister(this._registrarId)}};W7.exports.TopologyListener=Y7});var n9=b((LI,r9)=>{"use strict";var{EventEmitter:qE}=wt(),KE=p1(),UE=w2(),{QUERY_SELF_INTERVAL:Z7,QUERY_SELF_TIMEOUT:X7,K:J7}=Mt(),ME=ae(),{TimeoutController:VE}=jn(),{anySignal:zE}=ns(),{setMaxListeners:e9}=wt(),t9=class extends qE{constructor({peerId:e,peerRouting:r,lan:n,count:i=J7,interval:s=Z7,queryTimeout:o=X7}){super();this._log=ME.logger(`libp2p:kad-dht:${n?"lan":"wan"}:query-self`),this._running=!1,this._peerId=e,this._peerRouting=r,this._count=i||J7,this._interval=s||Z7,this._queryTimeout=o||X7}start(){this._running||(this._running=!0,this._querySelf())}stop(){this._running=!1,this._timeoutId&&clearTimeout(this._timeoutId),this._controller&&this._controller.abort()}async _querySelf(){let e=new VE(this._queryTimeout);try{this._controller=new AbortController;let r=zE([this._controller.signal,e.signal]);e9&&e9(1/0,r);let n=await UE(await KE(this._peerRouting.getClosestPeers(this._peerId.toBytes(),{signal:r}),this._count));this._log("query ran successfully - found %d peers",n)}catch(r){this._log("query error",r)}finally{this._timeoutId=setTimeout(this._querySelf.bind(this),this._interval),e.clear()}}};r9.exports.QuerySelf=t9});var as,X2=F(()=>{as=`This is a repository of IPLD objects. Each IPLD object is in a single file,
named <base32 encoding of cid>.data. Where <base32 encoding of cid> is the
"base32" encoding of the CID (as specified in
https://github.com/multiformats/multibase) without the 'B' prefix.
All the object files are placed in a tree of directories, based on a
function of the CID. This is a form of sharding similar to
the objects directory in git repositories. Previously, we used
prefixes, we now use the next-to-last two charters.
    func NextToLast(base32cid string) {
      nextToLastLen := 2
      offset := len(base32cid) - nextToLastLen - 1
      return str[offset : offset+nextToLastLen]
    }
For example, an object with a base58 CIDv1 of
    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f
has a base32 CIDv1 of
    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA
and will be placed at
    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data
with 'SC' being the last-to-next two characters and the 'B' at the
beginning of the CIDv1 string is the multibase prefix that is not
stored in the filename.
`});var na={};ce(na,{NextToLast:()=>ra,PREFIX:()=>cs,Prefix:()=>ea,README_FN:()=>J2,SHARDING_FN:()=>us,ShardBase:()=>o0,Suffix:()=>ta,parseShardFun:()=>i9,readShardFun:()=>fs,readme:()=>as});function i9(t){if(t=t.trim(),t.length===0)throw new Error("empty shard string");if(!t.startsWith(cs))throw new Error(`invalid or no path prefix: ${t}`);let e=t.slice(cs.length).split("/"),r=e[0];if(r!=="v1")throw new Error(`expect 'v1' version, got '${r}'`);let n=e[1];if(!e[2])throw new Error("missing param");let i=parseInt(e[2],10);switch(n){case"prefix":return new ea(i);case"suffix":return new ta(i);case"next-to-last":return new ra(i);default:throw new Error(`unkown sharding function: ${n}`)}}var cs,us,J2,o0,ea,ta,ra,fs,ia=F(()=>{Br();X2();X2();cs="/repo/flatfs/shard/",us="SHARDING",J2="_README",o0=class{constructor(e){this.param=e,this.name="base",this._padding=""}fun(e){return"implement me"}toString(){return`${cs}v1/${this.name}/${this.param}`}},ea=class extends o0{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}},ta=class extends o0{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){let r=this._padding+e;return r.slice(r.length-this.param)}},ra=class extends o0{constructor(e){super(e);this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){let r=this._padding+e,n=r.length-this.param-1;return r.slice(n,n+this.param)}};fs=async(t,e)=>{let r=new Q(t).child(new Q(us)),i=await(typeof e.getRaw=="function"?e.getRaw.bind(e):e.get.bind(e))(r);return i9(new TextDecoder().decode(i||"").trim())}});var Dr,ls,Vt,a0=F(()=>{Qr();Dr=We(X1()),ls=We(Gn()),Vt=class extends Ze{constructor(e,r){super();this.child=e,this.transform=r}open(){return this.child.open()}put(e,r,n){return this.child.put(this.transform.convert(e),r,n)}get(e,r){return this.child.get(this.transform.convert(e),r)}has(e,r){return this.child.has(this.transform.convert(e),r)}delete(e,r){return this.child.delete(this.transform.convert(e),r)}async*putMany(e,r={}){let n=this.transform,i=this.child;yield*(0,ls.pipe)(e,async function*(s){yield*(0,Dr.default)(s,({key:o,value:a})=>({key:n.convert(o),value:a}))},async function*(s){yield*i.putMany(s,r)},async function*(s){yield*(0,Dr.default)(s,({key:o,value:a})=>({key:n.invert(o),value:a}))})}async*getMany(e,r={}){let n=this.transform,i=this.child;yield*(0,ls.pipe)(e,async function*(s){yield*(0,Dr.default)(s,o=>n.convert(o))},async function*(s){yield*i.getMany(s,r)})}async*deleteMany(e,r={}){let n=this.transform,i=this.child;yield*(0,ls.pipe)(e,async function*(s){yield*(0,Dr.default)(s,o=>n.convert(o))},async function*(s){yield*i.deleteMany(s,r)},async function*(s){yield*(0,Dr.default)(s,o=>n.invert(o))})}batch(){let e=this.child.batch();return{put:(r,n)=>{e.put(this.transform.convert(r),n)},delete:r=>{e.delete(this.transform.convert(r))},commit:r=>e.commit(r)}}query(e,r){return(0,Dr.default)(this.child.query(e,r),({key:n,value:i})=>({key:this.transform.invert(n),value:i}))}queryKeys(e,r){return(0,Dr.default)(this.child.queryKeys(e,r),n=>this.transform.invert(n))}close(){return this.child.close()}}});var sa=F(()=>{Br()});var ti,c0,Lr,s9=F(()=>{sa();ia();Qr();a0();Ln();ti=new Q(us),c0=new Q(J2),Lr=class extends Ze{constructor(e,r){super();this.child=new Vt(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=r}async open(){await this.child.open(),this.shard=await Lr.create(this.child,this.shard)}_convertKey(e){let r=e.toString();return r===ti.toString()||r===c0.toString()?e:new Q(this.shard.fun(r)).child(e)}_invertKey(e){let r=e.toString();return r===ti.toString()||r===c0.toString()?e:Q.withNamespaces(e.list().slice(1))}static async createOrOpen(e,r){try{await Lr.create(e,r)}catch(n){if(n&&n.message!=="datastore exists")throw n}return Lr.open(e)}static async open(e){let r=await fs("/",e);return new Lr(e,r)}static async create(e,r){let n=await e.has(ti);if(!n&&!r)throw Fi(Error("Shard is required when datastore doesn't have a shard key already."));if(!n){let a=typeof e.putRaw=="function"?e.putRaw.bind(e):e.put.bind(e);return await Promise.all([a(ti,new TextEncoder().encode(r.toString()+`
`)),a(c0,new TextEncoder().encode(as))]),r}let i=await fs("/",e),s=(i||"").toString(),o=r.toString();if(s!==o)throw new Error(`specified fun ${o} does not match repo shard fun ${s}`);return i}put(e,r,n){return this.child.put(e,r,n)}get(e,r){return this.child.get(e,r)}has(e,r){return this.child.has(e,r)}delete(e,r){return this.child.delete(e,r)}async*putMany(e,r={}){yield*this.child.putMany(e,r)}async*getMany(e,r={}){yield*this.child.getMany(e,r)}async*deleteMany(e,r={}){yield*this.child.deleteMany(e,r)}batch(){return this.child.batch()}query(e,r){let n={offset:e.offset,limit:e.limit,orders:[],filters:[s=>s.key.toString()!==ti.toString(),s=>s.key.toString()!==c0.toString()]},{prefix:i}=e;if(i!=null&&n.filters.push(s=>this._invertKey(s.key).toString().startsWith(i)),e.filters!=null){let s=e.filters.map(o=>({key:c,value:u})=>o({key:this._invertKey(c),value:u}));n.filters=n.filters.concat(s)}return e.orders!=null&&(n.orders=e.orders.map(s=>(a,c)=>s({key:this._invertKey(a.key),value:a.value},{key:this._invertKey(c.key),value:c.value}))),this.child.query(n,r)}queryKeys(e,r){let n={offset:e.offset,limit:e.limit,orders:[],filters:[s=>s.toString()!==ti.toString(),s=>s.toString()!==c0.toString()]},{prefix:i}=e;if(i!=null&&n.filters.push(s=>this._invertKey(s).toString().startsWith(i)),e.filters!=null){let s=e.filters.map(o=>c=>o(this._invertKey(c)));n.filters=n.filters.concat(s)}return e.orders!=null&&(n.orders=e.orders.map(s=>(a,c)=>s(this._invertKey(a),this._invertKey(c)))),this.child.queryKeys(n,r)}close(){return this.child.close()}}});var u0,oa,aa,ca,o9=F(()=>{u0=We(Fo()),oa=We(p1()),aa=We(is());Qr();a0();Ln();Oo();Br();ca=class extends Ze{constructor(e){super();this.mounts=e.slice()}async open(){await Promise.all(this.mounts.map(e=>e.datastore.open()))}_lookup(e){for(let r of this.mounts)if(r.prefix.toString()===e.toString()||r.prefix.isAncestorOf(e)){let n=h1(e.toString(),r.prefix.toString());return{datastore:r.datastore,mountpoint:r.prefix,rest:new Q(n)}}}put(e,r,n){let i=this._lookup(e);if(i==null)throw Ki(new Error("No datastore mounted for this key"));return i.datastore.put(i.rest,r,n)}get(e,r){let n=this._lookup(e);if(n==null)throw Zr(new Error("No datastore mounted for this key"));return n.datastore.get(n.rest,r)}has(e,r){let n=this._lookup(e);return n==null?Promise.resolve(!1):n.datastore.has(n.rest,r)}delete(e,r){let n=this._lookup(e);if(n==null)throw qi(new Error("No datastore mounted for this key"));return n.datastore.delete(n.rest,r)}async close(){await Promise.all(this.mounts.map(e=>e.datastore.close()))}batch(){let e={},r=n=>{let i=this._lookup(n);if(i==null)throw new Error("No datastore mounted for this key");let s=i.mountpoint.toString();return e[s]==null&&(e[s]=i.datastore.batch()),{batch:e[s],rest:i.rest}};return{put:(n,i)=>{let s=r(n);s.batch.put(s.rest,i)},delete:n=>{let i=r(n);i.batch.delete(i.rest)},commit:async n=>{await Promise.all(Object.keys(e).map(i=>e[i].commit(n)))}}}query(e,r){let n=this.mounts.map(s=>{let o=new Vt(s.datastore,{convert:c=>{throw new Error("should never be called")},invert:c=>s.prefix.child(c)}),a;return e.prefix!=null&&(a=h1(e.prefix,s.prefix.toString())),o.query({prefix:a,filters:e.filters},r)}),i=(0,aa.default)(...n);if(e.filters&&e.filters.forEach(s=>{i=(0,u0.default)(i,s)}),e.orders&&e.orders.forEach(s=>{i=kn(i,s)}),e.offset!=null){let s=0;i=(0,u0.default)(i,()=>s++>=e.offset)}return e.limit!=null&&(i=(0,oa.default)(i,e.limit)),i}queryKeys(e,r){let n=this.mounts.map(s=>{let o=new Vt(s.datastore,{convert:c=>{throw new Error("should never be called")},invert:c=>s.prefix.child(c)}),a;return e.prefix!=null&&(a=h1(e.prefix,s.prefix.toString())),o.queryKeys({prefix:a,filters:e.filters},r)}),i=(0,aa.default)(...n);if(e.filters&&e.filters.forEach(s=>{i=(0,u0.default)(i,s)}),e.orders&&e.orders.forEach(s=>{i=kn(i,s)}),e.offset!=null){let s=0;i=(0,u0.default)(i,()=>s++>=e.offset)}return e.limit!=null&&(i=(0,oa.default)(i,e.limit)),i}}});var a9,ua,fa,$E,la,c9=F(()=>{Qr();Ln();a9=We(r2()),ua=We(Z2()),fa=We(d1()),$E=(0,a9.default)("datastore:core:tiered"),la=class extends Ze{constructor(e){super();this.stores=e.slice()}async open(){try{await Promise.all(this.stores.map(e=>e.open()))}catch(e){throw Fi()}}async put(e,r){try{await Promise.all(this.stores.map(n=>n.put(e,r)))}catch(n){throw Ki()}}async get(e,r){for(let n of this.stores)try{let i=await n.get(e,r);if(i)return i}catch(i){$E(i)}throw Zr()}async has(e,r){for(let n of this.stores)if(await n.has(e,r))return!0;return!1}async delete(e,r){try{await Promise.all(this.stores.map(n=>n.delete(e,r)))}catch(n){throw qi()}}async*putMany(e,r={}){let n,i=this.stores.map(s=>{let o=(0,ua.default)();return(0,fa.default)(s.putMany(o,r)).catch(a=>{n=a}),o});try{for await(let s of e){if(n)throw n;i.forEach(o=>o.push(s)),yield s}}finally{i.forEach(s=>s.end())}}async*deleteMany(e,r={}){let n,i=this.stores.map(s=>{let o=(0,ua.default)();return(0,fa.default)(s.deleteMany(o,r)).catch(a=>{n=a}),o});try{for await(let s of e){if(n)throw n;i.forEach(o=>o.push(s)),yield s}}finally{i.forEach(s=>s.end())}}async close(){await Promise.all(this.stores.map(e=>e.close()))}batch(){let e=this.stores.map(r=>r.batch());return{put:(r,n)=>{e.forEach(i=>i.put(r,n))},delete:r=>{e.forEach(n=>n.delete(r))},commit:async r=>{for(let n of e)await n.commit(r)}}}query(e,r){return this.stores[this.stores.length-1].query(e,r)}queryKeys(e,r){return this.stores[this.stores.length-1].queryKeys(e,r)}}});var ha,u9=F(()=>{sa();a0();ha=class extends Vt{constructor(e,r){super(e,{convert(n){return r.child(n)},invert(n){if(r.toString()==="/")return n;if(!r.isAncestorOf(n))throw new Error(`Expected prefix: (${r.toString()}) in key: ${n.toString()}`);return new Q(n.toString().slice(r.toString().length),!1)}});this.prefix=r}query(e,r){return e.prefix&&this.prefix.toString()!=="/"?super.query(Object.assign({},e,{prefix:this.prefix.child(new Q(e.prefix)).toString()})):super.query(e,r)}queryKeys(e,r){return e.prefix&&this.prefix.toString()!=="/"?super.queryKeys(Object.assign({},e,{prefix:this.prefix.child(new Q(e.prefix)).toString()})):super.queryKeys(e,r)}}});var f9={};ce(f9,{BaseDatastore:()=>Ze,Errors:()=>jE,KeyTransformDatastore:()=>Vt,MemoryDatastore:()=>v1,MountDatastore:()=>ca,NamespaceDatastore:()=>ha,ShardingDatastore:()=>Lr,TieredDatastore:()=>la,shard:()=>HE});var jE,HE,l9=F(()=>{Ln();ia();Qr();Mo();a0();s9();o9();c9();u9();jE={...Uo},HE={...na}});var b9=b((yC,m9)=>{"use strict";var{EventEmitter:GE}=wt(),h9=ko(),d9=rr(),{MemoryDatastore:YE}=(Mo(),M5),{RoutingTable:WE}=p8(),{RoutingTableRefresh:QE}=b8(),p9=ae(),{K:ZE,QUERY_SELF_INTERVAL:XE,RECORD_KEY_PREFIX:JE}=Mt(),{Network:e_}=Yf(),{ContentFetching:t_}=rl(),{ContentRouting:r_}=ol(),{PeerRouting:n_}=Pl(),{Providers:i_}=Kl(),{QueryManager:s_}=o7(),{RPC:o_}=q7(),{TopologyListener:a_}=Q7(),{QuerySelf:c_}=n9(),{removePrivateAddresses:u_,removePublicAddresses:f_}=ae(),{KeyTransformDatastore:l_}=(l9(),f9),{Key:y9}=(Br(),g1),g9=class{constructor(e){this._prefix=e,this._prefix.startsWith("/")&&(this._prefix=this._prefix.substring(1))}convert(e){return new y9(`/${this._prefix}${e}`)}invert(e){let r=e.namespaces();return r[0]===this._prefix&&r.shift(),y9.withNamespaces(r)}},v9=class extends GE{constructor({libp2p:e,kBucketSize:r=ZE,clientMode:n=!0,validators:i={},selectors:s={},querySelfInterval:o=XE,lan:a=!0,protocol:c="/ipfs/lan/kad/1.0.0",bootstrapPeers:u=[]}){super();this._running=!1,this._log=p9.logger(`libp2p:kad-dht:${a?"lan":"wan"}`),this._libp2p=e,this._protocol=c,this._kBucketSize=r,this._clientMode=n,this._bootstrapPeers=u,this._routingTable=new WE({peerId:e.peerId,dialer:e,kBucketSize:r,metrics:e.metrics,lan:a});let f=e.datastore||new YE,l=new l_(f,new g9(JE));this._providers=new i_({providers:f}),this._lan=a,this._validators={pk:d9.validator.validators.pk,...i},this._selectors={pk:d9.selection.selectors.pk,...s},this._network=new e_({dialer:e,protocol:this._protocol,lan:a}),this._queryManager=new s_({peerId:e.peerId,disjointPaths:Math.ceil(r/2),metrics:e.metrics,lan:a}),this._peerRouting=new n_({peerId:e.peerId,routingTable:this._routingTable,peerStore:e.peerStore,network:this._network,validators:this._validators,queryManager:this._queryManager,lan:a}),this._contentFetching=new t_({peerId:e.peerId,records:l,validators:this._validators,selectors:this._selectors,peerRouting:this._peerRouting,queryManager:this._queryManager,routingTable:this._routingTable,network:this._network,lan:a}),this._contentRouting=new r_({peerId:e.peerId,network:this._network,peerRouting:this._peerRouting,queryManager:this._queryManager,routingTable:this._routingTable,providers:this._providers,peerStore:e.peerStore,lan:a}),this._routingTableRefresh=new QE({peerRouting:this._peerRouting,routingTable:this._routingTable,lan:a}),this._rpc=new o_({routingTable:this._routingTable,peerId:e.peerId,providers:this._providers,peerStore:e.peerStore,addressable:e,peerRouting:this._peerRouting,records:l,validators:this._validators,lan:a}),this._topologyListener=new a_({registrar:e.registrar,protocol:this._protocol,lan:a}),this._querySelf=new c_({peerId:e.peerId,peerRouting:this._peerRouting,interval:o,lan:a}),this._network.on("peer",d=>{this.onPeerConnect(d).catch(p=>{this._log.error(`could not add ${d.id} to routing table`,p)}),this.emit("peer",d)}),this._topologyListener.on("peer",async d=>{let p={id:d,multiaddrs:(this._libp2p.peerStore.addressBook.get(d)||[]).map(h=>h.multiaddr)};this.onPeerConnect(p).catch(h=>{this._log.error(`could not add ${p.id} to routing table`,h)})})}async onPeerConnect(e){if(this._log("peer %p connected",e.id),this._lan?e=f_(e):e=u_(e),!e.multiaddrs.length){this._log("ignoring %p as they do not have any %s addresses in %s",e.id,this._lan?"private":"public",e.multiaddrs.map(r=>r.toString()));return}try{await this._routingTable.add(e.id)}catch(r){this._log.error("could not add %p to routing table",e.id,r)}}isStarted(){return this._running}isServer(){return!this._clientMode}enableServerMode(){this._log("enabling server mode"),this._clientMode=!1,this._libp2p.handle(this._protocol,this._rpc.onIncomingStream.bind(this._rpc))}enableClientMode(){this._log("enabling client mode"),this._clientMode=!0,this._libp2p.unhandle(this._protocol)}async start(){this._running=!0,this._clientMode?this.enableClientMode():this.enableServerMode(),await Promise.all([this._providers.start(),this._queryManager.start(),this._network.start(),this._routingTable.start(),this._topologyListener.start(),this._querySelf.start()]),await Promise.all(this._bootstrapPeers.map(e=>this._routingTable.add(e.id))),await this._routingTableRefresh.start(),await this.refreshRoutingTable()}async stop(){this._running=!1,await Promise.all([this._providers.stop(),this._queryManager.stop(),this._network.stop(),this._routingTable.stop(),this._routingTableRefresh.stop(),this._topologyListener.stop(),this._querySelf.stop()])}async*put(e,r,n={}){yield*this._contentFetching.put(e,r,n)}async*get(e,r={}){yield*this._contentFetching.get(e,r)}async*provide(e,r={}){yield*this._contentRouting.provide(e,this._libp2p.multiaddrs,r)}async*findProviders(e,r={maxNumProviders:5}){yield*this._contentRouting.findProviders(e,r)}async*findPeer(e,r={}){yield*this._peerRouting.findPeer(e,r)}async*getClosestPeers(e,r={}){yield*this._peerRouting.getClosestPeers(e,r)}async getPublicKey(e,r={}){this._log("getPublicKey %p",e);for await(let i of this._peerRouting.getPublicKeyFromNode(e,r))if(i.name==="VALUE")return h9.keys.unmarshalPublicKey(i.value);let n=p9.keyForPublicKey(e);for await(let i of this.get(n,r))if(i.name==="VALUE")return h9.keys.unmarshalPublicKey(i.value)}async refreshRoutingTable(){await this._routingTableRefresh.refreshTable(!0)}};m9.exports={KadDHT:v9}});var E9=b((gC,w9)=>{"use strict";var{EventEmitter:h_}=wt(),d_=rn(),p_=ae(),Nr=ie(),ri=is(),{queryErrorEvent:y_}=on(),hs=p_.logger("libp2p:kad-dht"),x9=class extends h_{constructor(e,r,n){super();this._wan=e,this._lan=r,this._libp2p=n,this._wan.on("peer",i=>{this.emit("peer",i)}),this._lan.on("peer",i=>{this.emit("peer",i)})}isStarted(){return this._wan.isStarted()&&this._lan.isStarted()}enableServerMode(){this._wan.enableServerMode()}enableClientMode(){this._wan.enableClientMode()}async start(){await Promise.all([this._lan.start(),this._wan.start()])}async stop(){await Promise.all([this._lan.stop(),this._wan.stop()])}async*put(e,r,n={}){let i=0,s=0;for await(let a of ri(this._lan.put(e,r,n),this._wan.put(e,r,n)))yield a,a.name==="SENDING_QUERY"&&a.messageName==="PUT_VALUE"&&i++,a.name==="PEER_RESPONSE"&&a.messageName==="PUT_VALUE"&&s++;let o=n.minPeers==null?i||1:n.minPeers;if(s<o){let a=Nr(new Error(`Failed to put value to enough peers: ${s}/${o}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw hs.error(a),a}}async*get(e,r={}){let n=!1,i=!1;for await(let s of ri(this._lan.get(e,r),this._wan.get(e,r)))yield s,s.name==="DIALING_PEER"&&(n=!0),s.name==="VALUE"&&(n=!0,s.value!=null&&(i=!0)),s.name==="SENDING_QUERY"&&(n=!0);if(!n)throw Nr(new Error("No peers found in routing table!"),"ERR_NO_PEERS_IN_ROUTING_TABLE");i||(yield y_({from:this._libp2p.peerId,error:Nr(new Error("Not found"),"ERR_NOT_FOUND")}))}async*provide(e,r={}){let n=0,i=0,s=[],o=[this._lan];this._wan.isServer()&&o.push(this._wan);for await(let a of ri(...o.map(c=>c.provide(e,r))))yield a,a.name==="SENDING_QUERY"&&n++,a.name==="QUERY_ERROR"&&s.push(a.error),a.name==="PEER_RESPONSE"&&a.messageName==="ADD_PROVIDER"&&(hs("sent provider record for %s to %p",e,a.from.id),i++);if(i===0)throw s.length?Nr(new Error(`Failed to provide to ${s.length} of ${n} peers`),"ERR_PROVIDES_FAILED",{errors:s}):Nr(new Error("Failed to provide - no peers found"),"ERR_PROVIDES_FAILED")}async*findProviders(e,r={maxNumProviders:5}){yield*ri(this._lan.findProviders(e,r),this._wan.findProviders(e,r))}async*findPeer(e,r={}){let n=!1;for await(let i of ri(this._lan.findPeer(e,r),this._wan.findPeer(e,r)))yield i,(i.name==="SENDING_QUERY"||i.name==="FINAL_PEER")&&(n=!0);if(!n)throw Nr(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED")}async*getClosestPeers(e,r={}){yield*ri(this._lan.getClosestPeers(e,r),this._wan.getClosestPeers(e,r))}async getPublicKey(e,r={}){hs("getPublicKey %p",e);let n=this._libp2p.peerStore.get(e);if(n&&n.id.pubKey)return hs("getPublicKey: found local copy"),n.id.pubKey;let i=await Promise.all([this._lan.getPublicKey(e,r),this._wan.getPublicKey(e,r)]);if(i[0]&&i[1]&&!i[0].equals(i[1]))throw Nr(new Error("Inconsistent public key loaded from wan and lan DHTs"),"ERR_FAILED_TO_LOAD_KEY");let s=i[0]||i[1];if(!s)throw Nr(new Error("Failed to load public key"),"ERR_FAILED_TO_LOAD_KEY");let o=new d_(e.id,void 0,s),a=(n&&n.addresses||[]).map(c=>c.multiaddr);return this._libp2p.peerStore.addressBook.add(o,a),this._libp2p.peerStore.keyBook.set(o,s),s}async refreshRoutingTable(){await Promise.all([this._lan.refreshRoutingTable(),this._wan.refreshRoutingTable()])}};w9.exports={DualKadDHT:x9}});var v_=b((vC,S9)=>{"use strict";var{KadDHT:_9}=b9(),{DualKadDHT:g_}=E9();S9.exports={create:t=>new g_(new _9({...t,protocol:"/ipfs/kad/1.0.0",lan:!1}),new _9({...t,protocol:"/ipfs/lan/kad/1.0.0",clientMode:!1,lan:!0}),t.libp2p)}});return v_();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) Paul Miller (paulmillr.com) */
return Libp2pKadDht}));
